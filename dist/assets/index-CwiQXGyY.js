(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function pS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ef={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function hS(){if(t0)return Gl;t0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function n(i,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:c,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=a,Gl.jsx=n,Gl.jsxs=n,Gl}var e0;function gS(){return e0||(e0=1,Ef.exports=hS()),Ef.exports}var A=gS(),Tf={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function mS(){if(r0)return qt;r0=1;var e=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function C(B,q,nt){this.props=B,this.context=q,this.refs=S,this.updater=nt||b}C.prototype.isReactComponent={},C.prototype.setState=function(B,q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,q,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=C.prototype;function w(B,q,nt){this.props=B,this.context=q,this.refs=S,this.updater=nt||b}var M=w.prototype=new E;M.constructor=w,x(M,C.prototype),M.isPureReactComponent=!0;var D=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function N(B,q,nt,lt,ct,bt){return nt=bt.ref,{$$typeof:e,type:B,key:q,ref:nt!==void 0?nt:null,props:bt}}function z(B,q){return N(B.type,q,void 0,void 0,void 0,B.props)}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function H(B){var q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(nt){return q[nt]})}var F=/\/+/g;function I(B,q){return typeof B=="object"&&B!==null&&B.key!=null?H(""+B.key):q.toString(36)}function X(){}function Q(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(X,X):(B.status="pending",B.then(function(q){B.status==="pending"&&(B.status="fulfilled",B.value=q)},function(q){B.status==="pending"&&(B.status="rejected",B.reason=q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function U(B,q,nt,lt,ct){var bt=typeof B;(bt==="undefined"||bt==="boolean")&&(B=null);var L=!1;if(B===null)L=!0;else switch(bt){case"bigint":case"string":case"number":L=!0;break;case"object":switch(B.$$typeof){case e:case a:L=!0;break;case g:return L=B._init,U(L(B._payload),q,nt,lt,ct)}}if(L)return ct=ct(B),L=lt===""?"."+I(B,0):lt,D(ct)?(nt="",L!=null&&(nt=L.replace(F,"$&/")+"/"),U(ct,q,nt,"",function(ht){return ht})):ct!=null&&(j(ct)&&(ct=z(ct,nt+(ct.key==null||B&&B.key===ct.key?"":(""+ct.key).replace(F,"$&/")+"/")+L)),q.push(ct)),1;L=0;var V=lt===""?".":lt+":";if(D(B))for(var Y=0;Y<B.length;Y++)lt=B[Y],bt=V+I(lt,Y),L+=U(lt,q,nt,bt,ct);else if(Y=m(B),typeof Y=="function")for(B=Y.call(B),Y=0;!(lt=B.next()).done;)lt=lt.value,bt=V+I(lt,Y++),L+=U(lt,q,nt,bt,ct);else if(bt==="object"){if(typeof B.then=="function")return U(Q(B),q,nt,lt,ct);throw q=String(B),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return L}function G(B,q,nt){if(B==null)return B;var lt=[],ct=0;return U(B,lt,"","",function(bt){return q.call(nt,bt,ct++)}),lt}function Z(B){if(B._status===-1){var q=B._result;q=q(),q.then(function(nt){(B._status===0||B._status===-1)&&(B._status=1,B._result=nt)},function(nt){(B._status===0||B._status===-1)&&(B._status=2,B._result=nt)}),B._status===-1&&(B._status=0,B._result=q)}if(B._status===1)return B._result.default;throw B._result}var J=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function dt(){}return qt.Children={map:G,forEach:function(B,q,nt){G(B,function(){q.apply(this,arguments)},nt)},count:function(B){var q=0;return G(B,function(){q++}),q},toArray:function(B){return G(B,function(q){return q})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},qt.Component=C,qt.Fragment=n,qt.Profiler=o,qt.PureComponent=w,qt.StrictMode=i,qt.Suspense=p,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,qt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},qt.cache=function(B){return function(){return B.apply(null,arguments)}},qt.cloneElement=function(B,q,nt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var lt=x({},B.props),ct=B.key,bt=void 0;if(q!=null)for(L in q.ref!==void 0&&(bt=void 0),q.key!==void 0&&(ct=""+q.key),q)!_.call(q,L)||L==="key"||L==="__self"||L==="__source"||L==="ref"&&q.ref===void 0||(lt[L]=q[L]);var L=arguments.length-2;if(L===1)lt.children=nt;else if(1<L){for(var V=Array(L),Y=0;Y<L;Y++)V[Y]=arguments[Y+2];lt.children=V}return N(B.type,ct,void 0,void 0,bt,lt)},qt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},qt.createElement=function(B,q,nt){var lt,ct={},bt=null;if(q!=null)for(lt in q.key!==void 0&&(bt=""+q.key),q)_.call(q,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ct[lt]=q[lt]);var L=arguments.length-2;if(L===1)ct.children=nt;else if(1<L){for(var V=Array(L),Y=0;Y<L;Y++)V[Y]=arguments[Y+2];ct.children=V}if(B&&B.defaultProps)for(lt in L=B.defaultProps,L)ct[lt]===void 0&&(ct[lt]=L[lt]);return N(B,bt,void 0,void 0,null,ct)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(B){return{$$typeof:f,render:B}},qt.isValidElement=j,qt.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Z}},qt.memo=function(B,q){return{$$typeof:v,type:B,compare:q===void 0?null:q}},qt.startTransition=function(B){var q=O.T,nt={};O.T=nt;try{var lt=B(),ct=O.S;ct!==null&&ct(nt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(dt,J)}catch(bt){J(bt)}finally{O.T=q}},qt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},qt.use=function(B){return O.H.use(B)},qt.useActionState=function(B,q,nt){return O.H.useActionState(B,q,nt)},qt.useCallback=function(B,q){return O.H.useCallback(B,q)},qt.useContext=function(B){return O.H.useContext(B)},qt.useDebugValue=function(){},qt.useDeferredValue=function(B,q){return O.H.useDeferredValue(B,q)},qt.useEffect=function(B,q,nt){var lt=O.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(B,q)},qt.useId=function(){return O.H.useId()},qt.useImperativeHandle=function(B,q,nt){return O.H.useImperativeHandle(B,q,nt)},qt.useInsertionEffect=function(B,q){return O.H.useInsertionEffect(B,q)},qt.useLayoutEffect=function(B,q){return O.H.useLayoutEffect(B,q)},qt.useMemo=function(B,q){return O.H.useMemo(B,q)},qt.useOptimistic=function(B,q){return O.H.useOptimistic(B,q)},qt.useReducer=function(B,q,nt){return O.H.useReducer(B,q,nt)},qt.useRef=function(B){return O.H.useRef(B)},qt.useState=function(B){return O.H.useState(B)},qt.useSyncExternalStore=function(B,q,nt){return O.H.useSyncExternalStore(B,q,nt)},qt.useTransition=function(){return O.H.useTransition()},qt.version="19.1.0",qt}var a0;function _d(){return a0||(a0=1,Tf.exports=mS()),Tf.exports}var ft=_d();const se=pS(ft);var Af={exports:{}},Hl={},wf={exports:{}},Mf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function yS(){return n0||(n0=1,function(e){function a(G,Z){var J=G.length;G.push(Z);t:for(;0<J;){var dt=J-1>>>1,B=G[dt];if(0<o(B,Z))G[dt]=Z,G[J]=B,J=dt;else break t}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Z=G[0],J=G.pop();if(J!==Z){G[0]=J;t:for(var dt=0,B=G.length,q=B>>>1;dt<q;){var nt=2*(dt+1)-1,lt=G[nt],ct=nt+1,bt=G[ct];if(0>o(lt,J))ct<B&&0>o(bt,lt)?(G[dt]=bt,G[ct]=J,dt=ct):(G[dt]=lt,G[nt]=J,dt=nt);else if(ct<B&&0>o(bt,J))G[dt]=bt,G[ct]=J,dt=ct;else break t}}return Z}function o(G,Z){var J=G.sortIndex-Z.sortIndex;return J!==0?J:G.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],v=[],g=1,y=null,m=3,b=!1,x=!1,S=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var Z=n(v);Z!==null;){if(Z.callback===null)i(v);else if(Z.startTime<=G)i(v),Z.sortIndex=Z.expirationTime,a(p,Z);else break;Z=n(v)}}function O(G){if(S=!1,D(G),!x)if(n(p)!==null)x=!0,_||(_=!0,I());else{var Z=n(v);Z!==null&&U(O,Z.startTime-G)}}var _=!1,N=-1,z=5,j=-1;function H(){return C?!0:!(e.unstable_now()-j<z)}function F(){if(C=!1,_){var G=e.unstable_now();j=G;var Z=!0;try{t:{x=!1,S&&(S=!1,w(N),N=-1),b=!0;var J=m;try{e:{for(D(G),y=n(p);y!==null&&!(y.expirationTime>G&&H());){var dt=y.callback;if(typeof dt=="function"){y.callback=null,m=y.priorityLevel;var B=dt(y.expirationTime<=G);if(G=e.unstable_now(),typeof B=="function"){y.callback=B,D(G),Z=!0;break e}y===n(p)&&i(p),D(G)}else i(p);y=n(p)}if(y!==null)Z=!0;else{var q=n(v);q!==null&&U(O,q.startTime-G),Z=!1}}break t}finally{y=null,m=J,b=!1}Z=void 0}}finally{Z?I():_=!1}}}var I;if(typeof M=="function")I=function(){M(F)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=F,I=function(){Q.postMessage(null)}}else I=function(){E(F,0)};function U(G,Z){N=E(function(){G(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(G){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var J=m;m=Z;try{return G()}finally{m=J}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(G,Z){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=m;m=G;try{return Z()}finally{m=J}},e.unstable_scheduleCallback=function(G,Z,J){var dt=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?dt+J:dt):J=dt,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,G={id:g++,callback:Z,priorityLevel:G,startTime:J,expirationTime:B,sortIndex:-1},J>dt?(G.sortIndex=J,a(v,G),n(p)===null&&G===n(v)&&(S?(w(N),N=-1):S=!0,U(O,J-dt))):(G.sortIndex=B,a(p,G),x||b||(x=!0,_||(_=!0,I()))),G},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(G){var Z=m;return function(){var J=m;m=Z;try{return G.apply(this,arguments)}finally{m=J}}}}(Mf)),Mf}var i0;function bS(){return i0||(i0=1,wf.exports=yS()),wf.exports}var Df={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function SS(){if(l0)return $e;l0=1;var e=_d();function a(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)v+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(a(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,v,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:v,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,$e.createPortal=function(p,v){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return u(p,v,null,g)},$e.flushSync=function(p){var v=c.T,g=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=v,i.p=g,i.d.f()}},$e.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,i.d.C(p,v))},$e.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},$e.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var g=v.as,y=f(g,v.crossOrigin),m=typeof v.integrity=="string"?v.integrity:void 0,b=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;g==="style"?i.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:y,integrity:m,fetchPriority:b}):g==="script"&&i.d.X(p,{crossOrigin:y,integrity:m,fetchPriority:b,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$e.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var g=f(v.as,v.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&i.d.M(p)},$e.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var g=v.as,y=f(g,v.crossOrigin);i.d.L(p,g,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$e.preloadModule=function(p,v){if(typeof p=="string")if(v){var g=f(v.as,v.crossOrigin);i.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:g,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else i.d.m(p)},$e.requestFormReset=function(p){i.d.r(p)},$e.unstable_batchedUpdates=function(p,v){return p(v)},$e.useFormState=function(p,v,g){return c.H.useFormState(p,v,g)},$e.useFormStatus=function(){return c.H.useHostTransitionStatus()},$e.version="19.1.0",$e}var o0;function xS(){if(o0)return Df.exports;o0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Df.exports=SS(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function CS(){if(s0)return Hl;s0=1;var e=bS(),a=_d(),n=xS();function i(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function f(t){if(u(t)!==t)throw Error(i(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(i(188));return r!==t?null:t}for(var l=t,s=r;;){var d=l.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===l)return f(d),t;if(h===s)return f(d),r;h=h.sibling}throw Error(i(188))}if(l.return!==s.return)l=d,s=h;else{for(var T=!1,R=d.child;R;){if(R===l){T=!0,l=d,s=h;break}if(R===s){T=!0,s=d,l=h;break}R=R.sibling}if(!T){for(R=h.child;R;){if(R===l){T=!0,l=h,s=d;break}if(R===s){T=!0,s=h,l=d;break}R=R.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==s)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:r}function v(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=v(t),r!==null)return r;t=t.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var X=Symbol.for("react.client.reference");function Q(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===X?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case _:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case M:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case D:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:Q(t.type)||"Memo";case z:r=t._payload,t=t._init;try{return Q(t(r))}catch{}}return null}var U=Array.isArray,G=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},dt=[],B=-1;function q(t){return{current:t}}function nt(t){0>B||(t.current=dt[B],dt[B]=null,B--)}function lt(t,r){B++,dt[B]=t.current,t.current=r}var ct=q(null),bt=q(null),L=q(null),V=q(null);function Y(t,r){switch(lt(L,r),lt(bt,t),lt(ct,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Dg(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Dg(r),t=Og(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ct),lt(ct,t)}function ht(){nt(ct),nt(bt),nt(L)}function gt(t){t.memoizedState!==null&&lt(V,t);var r=ct.current,l=Og(r,t.type);r!==l&&(lt(bt,t),lt(ct,l))}function vt(t){bt.current===t&&(nt(ct),nt(bt)),V.current===t&&(nt(V),Nl._currentValue=J)}var tt=Object.prototype.hasOwnProperty,rt=e.unstable_scheduleCallback,ut=e.unstable_cancelCallback,Ct=e.unstable_shouldYield,Mt=e.unstable_requestPaint,Vt=e.unstable_now,Bt=e.unstable_getCurrentPriorityLevel,Ot=e.unstable_ImmediatePriority,Ut=e.unstable_UserBlockingPriority,Zt=e.unstable_NormalPriority,Yt=e.unstable_LowPriority,$t=e.unstable_IdlePriority,me=e.log,ye=e.unstable_setDisableYieldValue,Qe=null,be=null;function pr(t){if(typeof me=="function"&&ye(t),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Qe,t)}catch{}}var je=Math.clz32?Math.clz32:un,Hn=Math.log,wr=Math.LN2;function un(t){return t>>>=0,t===0?32:31-(Hn(t)/wr|0)|0}var Da=256,la=4194304;function hr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Oa(t,r,l){var s=t.pendingLanes;if(s===0)return 0;var d=0,h=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var R=s&134217727;return R!==0?(s=R&~h,s!==0?d=hr(s):(T&=R,T!==0?d=hr(T):l||(l=R&~t,l!==0&&(d=hr(l))))):(R=s&~h,R!==0?d=hr(R):T!==0?d=hr(T):l||(l=s&~t,l!==0&&(d=hr(l)))),d===0?0:r!==0&&r!==d&&(r&h)===0&&(h=d&-d,l=r&-r,h>=l||h===32&&(l&4194048)!==0)?r:d}function oa(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Un(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var t=Da;return Da<<=1,(Da&4194048)===0&&(Da=256),t}function re(){var t=la;return la<<=1,(la&62914560)===0&&(la=4194304),t}function xe(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function Fr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kn(t,r,l,s,d,h){var T=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var R=t.entanglements,k=t.expirationTimes,it=t.hiddenUpdates;for(l=T&~l;0<l;){var mt=31-je(l),St=1<<mt;R[mt]=0,k[mt]=-1;var ot=it[mt];if(ot!==null)for(it[mt]=null,mt=0;mt<ot.length;mt++){var st=ot[mt];st!==null&&(st.lane&=-536870913)}l&=~St}s!==0&&Xn(t,s,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(T&~r))}function Xn(t,r,l){t.pendingLanes|=r,t.suspendedLanes&=~r;var s=31-je(r);t.entangledLanes|=r,t.entanglements[s]=t.entanglements[s]|1073741824|l&4194090}function Kr(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var s=31-je(l),d=1<<s;d&r|t[s]&r&&(t[s]|=r),l&=~d}}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vo(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:Kg(t.type))}function hu(t,r){var l=Z.p;try{return Z.p=t,r()}finally{Z.p=l}}var Wr=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Wr,at="__reactProps$"+Wr,pt="__reactContainer$"+Wr,Tt="__reactEvents$"+Wr,At="__reactListeners$"+Wr,Rt="__reactHandles$"+Wr,Ht="__reactResources$"+Wr,It="__reactMarker$"+Wr;function Qt(t){delete t[Ue],delete t[at],delete t[Tt],delete t[At],delete t[Rt]}function ie(t){var r=t[Ue];if(r)return r;for(var l=t.parentNode;l;){if(r=l[pt]||l[Ue]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=Ng(t);t!==null;){if(l=t[Ue])return l;t=Ng(t)}return r}t=l,l=t.parentNode}return null}function ae(t){if(t=t[Ue]||t[pt]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ye(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(i(33))}function gr(t){var r=t[Ht];return r||(r=t[Ht]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(t){t[It]=!0}var mv=new Set,yv={};function cn(t,r){In(t,r),In(t+"Capture",r)}function In(t,r){for(yv[t]=r,t=0;t<r.length;t++)mv.add(r[t])}var ly=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bv={},Sv={};function oy(t){return tt.call(Sv,t)?!0:tt.call(bv,t)?!1:ly.test(t)?Sv[t]=!0:(bv[t]=!0,!1)}function po(t,r,l){if(oy(r))if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var s=r.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+l)}}function ho(t,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+l)}}function sa(t,r,l,s){if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(r,l,""+s)}}var gu,xv;function Yn(t){if(gu===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);gu=r&&r[1]||"",xv=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gu+t+xv}var mu=!1;function yu(t,r){if(!t||mu)return"";mu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(r){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(st){var ot=st}Reflect.construct(t,[],St)}else{try{St.call()}catch(st){ot=st}t.call(St.prototype)}}else{try{throw Error()}catch(st){ot=st}(St=t())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(st){if(st&&ot&&typeof st.stack=="string")return[st.stack,ot.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),T=h[0],R=h[1];if(T&&R){var k=T.split(`
`),it=R.split(`
`);for(d=s=0;s<k.length&&!k[s].includes("DetermineComponentFrameRoot");)s++;for(;d<it.length&&!it[d].includes("DetermineComponentFrameRoot");)d++;if(s===k.length||d===it.length)for(s=k.length-1,d=it.length-1;1<=s&&0<=d&&k[s]!==it[d];)d--;for(;1<=s&&0<=d;s--,d--)if(k[s]!==it[d]){if(s!==1||d!==1)do if(s--,d--,0>d||k[s]!==it[d]){var mt=`
`+k[s].replace(" at new "," at ");return t.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",t.displayName)),mt}while(1<=s&&0<=d);break}}}finally{mu=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Yn(l):""}function sy(t){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return yu(t.type,!1);case 11:return yu(t.type.render,!1);case 1:return yu(t.type,!0);case 31:return Yn("Activity");default:return""}}function Cv(t){try{var r="";do r+=sy(t),t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mr(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ev(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function uy(t){var r=Ev(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,h=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(T){s=""+T,h.call(this,T)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function go(t){t._valueTracker||(t._valueTracker=uy(t))}function Tv(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),s="";return t&&(s=Ev(t)?t.checked?"true":"false":t.value),t=s,t!==l?(r.setValue(t),!0):!1}function mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cy=/[\n"\\]/g;function Dr(t){return t.replace(cy,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bu(t,r,l,s,d,h,T,R){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),r!=null?T==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Mr(r)):t.value!==""+Mr(r)&&(t.value=""+Mr(r)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),r!=null?Su(t,T,Mr(r)):l!=null?Su(t,T,Mr(l)):s!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Mr(R):t.removeAttribute("name")}function Av(t,r,l,s,d,h,T,R){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),r!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||r!=null))return;l=l!=null?""+Mr(l):"",r=r!=null?""+Mr(r):l,R||r===t.value||(t.value=r),t.defaultValue=r}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=R?t.checked:!!s,t.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Su(t,r,l){r==="number"&&mo(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Pn(t,r,l,s){if(t=t.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=r.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&s&&(t[l].defaultSelected=!0)}else{for(l=""+Mr(l),r=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function wv(t,r,l){if(r!=null&&(r=""+Mr(r),r!==t.value&&(t.value=r),l==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=l!=null?""+Mr(l):""}function Mv(t,r,l,s){if(r==null){if(s!=null){if(l!=null)throw Error(i(92));if(U(s)){if(1<s.length)throw Error(i(93));s=s[0]}l=s}l==null&&(l=""),r=l}l=Mr(r),t.defaultValue=l,s=t.textContent,s===l&&s!==""&&s!==null&&(t.value=s)}function Fn(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var fy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dv(t,r,l){var s=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":s?t.setProperty(r,l):typeof l!="number"||l===0||fy.has(r)?r==="float"?t.cssFloat=l:t[r]=(""+l).trim():t[r]=l+"px"}function Ov(t,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(t=t.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||r!=null&&r.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var d in r)s=r[d],r.hasOwnProperty(d)&&l[d]!==s&&Dv(t,d,s)}else for(var h in r)r.hasOwnProperty(h)&&Dv(t,h,r[h])}function xu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(t){return vy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cu=null;function Eu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kn=null,Wn=null;function Rv(t){var r=ae(t);if(r&&(t=r.stateNode)){var l=t[at]||null;t:switch(t=r.stateNode,r.type){case"input":if(bu(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Dr(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var s=l[r];if(s!==t&&s.form===t.form){var d=s[at]||null;if(!d)throw Error(i(90));bu(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)s=l[r],s.form===t.form&&Tv(s)}break t;case"textarea":wv(t,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Pn(t,!!l.multiple,r,!1)}}}var Tu=!1;function _v(t,r,l){if(Tu)return t(r,l);Tu=!0;try{var s=t(r);return s}finally{if(Tu=!1,(Kn!==null||Wn!==null)&&(as(),Kn&&(r=Kn,t=Wn,Wn=Kn=null,Rv(r),t)))for(r=0;r<t.length;r++)Rv(t[r])}}function Pi(t,r){var l=t.stateNode;if(l===null)return null;var s=l[at]||null;if(s===null)return null;l=s[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(ua)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Au=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Au=!1}var _a=null,wu=null,bo=null;function zv(){if(bo)return bo;var t,r=wu,l=r.length,s,d="value"in _a?_a.value:_a.textContent,h=d.length;for(t=0;t<l&&r[t]===d[t];t++);var T=l-t;for(s=1;s<=T&&r[l-s]===d[h-s];s++);return bo=d.slice(t,1<s?1-s:void 0)}function So(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function xo(){return!0}function Nv(){return!1}function sr(t){function r(l,s,d,h,T){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(l=t[R],this[R]=l?l(h):h[R]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?xo:Nv,this.isPropagationStopped=Nv,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),r}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=sr(fn),Ki=g({},fn,{view:0,detail:0}),py=sr(Ki),Mu,Du,Wi,Eo=g({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(Mu=t.screenX-Wi.screenX,Du=t.screenY-Wi.screenY):Du=Mu=0,Wi=t),Mu)},movementY:function(t){return"movementY"in t?t.movementY:Du}}),Bv=sr(Eo),hy=g({},Eo,{dataTransfer:0}),gy=sr(hy),my=g({},Ki,{relatedTarget:0}),Ou=sr(my),yy=g({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),by=sr(yy),Sy=g({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xy=sr(Sy),Cy=g({},fn,{data:0}),jv=sr(Cy),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wy(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ay[t])?!!r[t]:!1}function Ru(){return wy}var My=g({},Ki,{key:function(t){if(t.key){var r=Ey[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ty[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dy=sr(My),Oy=g({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=sr(Oy),Ry=g({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),_y=sr(Ry),zy=g({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=sr(zy),By=g({},Eo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jy=sr(By),Ly=g({},fn,{newState:0,oldState:0}),Vy=sr(Ly),Gy=[9,13,27,32],_u=ua&&"CompositionEvent"in window,Zi=null;ua&&"documentMode"in document&&(Zi=document.documentMode);var Hy=ua&&"TextEvent"in window&&!Zi,Vv=ua&&(!_u||Zi&&8<Zi&&11>=Zi),Gv=" ",Hv=!1;function Uv(t,r){switch(t){case"keyup":return Gy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zn=!1;function Uy(t,r){switch(t){case"compositionend":return kv(r);case"keypress":return r.which!==32?null:(Hv=!0,Gv);case"textInput":return t=r.data,t===Gv&&Hv?null:t;default:return null}}function ky(t,r){if(Zn)return t==="compositionend"||!_u&&Uv(t,r)?(t=zv(),bo=wu=_a=null,Zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Vv&&r.locale!=="ko"?null:r.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Xy[t.type]:r==="textarea"}function qv(t,r,l,s){Kn?Wn?Wn.push(s):Wn=[s]:Kn=s,r=us(r,"onChange"),0<r.length&&(l=new Co("onChange","change",null,l,s),t.push({event:l,listeners:r}))}var Qi=null,Ji=null;function qy(t){Eg(t,0)}function To(t){var r=Ye(t);if(Tv(r))return t}function Iv(t,r){if(t==="change")return r}var Yv=!1;if(ua){var zu;if(ua){var Nu="oninput"in document;if(!Nu){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),Nu=typeof Pv.oninput=="function"}zu=Nu}else zu=!1;Yv=zu&&(!document.documentMode||9<document.documentMode)}function Fv(){Qi&&(Qi.detachEvent("onpropertychange",Kv),Ji=Qi=null)}function Kv(t){if(t.propertyName==="value"&&To(Ji)){var r=[];qv(r,Ji,t,Eu(t)),_v(qy,r)}}function Iy(t,r,l){t==="focusin"?(Fv(),Qi=r,Ji=l,Qi.attachEvent("onpropertychange",Kv)):t==="focusout"&&Fv()}function Yy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return To(Ji)}function Py(t,r){if(t==="click")return To(r)}function Fy(t,r){if(t==="input"||t==="change")return To(r)}function Ky(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var mr=typeof Object.is=="function"?Object.is:Ky;function $i(t,r){if(mr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),s=Object.keys(r);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!tt.call(r,d)||!mr(t[d],r[d]))return!1}return!0}function Wv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zv(t,r){var l=Wv(t);t=0;for(var s;l;){if(l.nodeType===3){if(s=t+l.textContent.length,t<=r&&s>=r)return{node:l,offset:r-t};t=s}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Wv(l)}}function Qv(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Qv(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=mo(t.document);r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=mo(t.document)}return r}function Bu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Wy=ua&&"documentMode"in document&&11>=document.documentMode,Qn=null,ju=null,tl=null,Lu=!1;function $v(t,r,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Lu||Qn==null||Qn!==mo(s)||(s=Qn,"selectionStart"in s&&Bu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),tl&&$i(tl,s)||(tl=s,s=us(ju,"onSelect"),0<s.length&&(r=new Co("onSelect","select",null,r,l),t.push({event:r,listeners:s}),r.target=Qn)))}function dn(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var Jn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},Vu={},tp={};ua&&(tp=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function vn(t){if(Vu[t])return Vu[t];if(!Jn[t])return t;var r=Jn[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in tp)return Vu[t]=r[l];return t}var ep=vn("animationend"),rp=vn("animationiteration"),ap=vn("animationstart"),Zy=vn("transitionrun"),Qy=vn("transitionstart"),Jy=vn("transitioncancel"),np=vn("transitionend"),ip=new Map,Gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gu.push("scrollEnd");function Ur(t,r){ip.set(t,r),cn(r,[t])}var lp=new WeakMap;function Or(t,r){if(typeof t=="object"&&t!==null){var l=lp.get(t);return l!==void 0?l:(r={value:t,source:r,stack:Cv(r)},lp.set(t,r),r)}return{value:t,source:r,stack:Cv(r)}}var Rr=[],$n=0,Hu=0;function Ao(){for(var t=$n,r=Hu=$n=0;r<t;){var l=Rr[r];Rr[r++]=null;var s=Rr[r];Rr[r++]=null;var d=Rr[r];Rr[r++]=null;var h=Rr[r];if(Rr[r++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}h!==0&&op(l,d,h)}}function wo(t,r,l,s){Rr[$n++]=t,Rr[$n++]=r,Rr[$n++]=l,Rr[$n++]=s,Hu|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Uu(t,r,l,s){return wo(t,r,l,s),Mo(t)}function ti(t,r){return wo(t,null,null,r),Mo(t)}function op(t,r,l){t.lanes|=l;var s=t.alternate;s!==null&&(s.lanes|=l);for(var d=!1,h=t.return;h!==null;)h.childLanes|=l,s=h.alternate,s!==null&&(s.childLanes|=l),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&r!==null&&(d=31-je(l),t=h.hiddenUpdates,s=t[d],s===null?t[d]=[r]:s.push(r),r.lane=l|536870912),h):null}function Mo(t){if(50<Al)throw Al=0,Pc=null,Error(i(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ei={};function $y(t,r,l,s){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,r,l,s){return new $y(t,r,l,s)}function ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ca(t,r){var l=t.alternate;return l===null?(l=yr(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function sp(t,r){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,r=l.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Do(t,r,l,s,d,h){var T=0;if(s=t,typeof t=="function")ku(t)&&(T=1);else if(typeof t=="string")T=eS(t,l,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case j:return t=yr(31,l,r,d),t.elementType=j,t.lanes=h,t;case x:return pn(l.children,d,h,r);case S:T=8,d|=24;break;case C:return t=yr(12,l,r,d|2),t.elementType=C,t.lanes=h,t;case O:return t=yr(13,l,r,d),t.elementType=O,t.lanes=h,t;case _:return t=yr(19,l,r,d),t.elementType=_,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case M:T=10;break t;case w:T=9;break t;case D:T=11;break t;case N:T=14;break t;case z:T=16,s=null;break t}T=29,l=Error(i(130,t===null?"null":typeof t,"")),s=null}return r=yr(T,l,r,d),r.elementType=t,r.type=s,r.lanes=h,r}function pn(t,r,l,s){return t=yr(7,t,s,r),t.lanes=l,t}function Xu(t,r,l){return t=yr(6,t,null,r),t.lanes=l,t}function qu(t,r,l){return r=yr(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ri=[],ai=0,Oo=null,Ro=0,_r=[],zr=0,hn=null,fa=1,da="";function gn(t,r){ri[ai++]=Ro,ri[ai++]=Oo,Oo=t,Ro=r}function up(t,r,l){_r[zr++]=fa,_r[zr++]=da,_r[zr++]=hn,hn=t;var s=fa;t=da;var d=32-je(s)-1;s&=~(1<<d),l+=1;var h=32-je(r)+d;if(30<h){var T=d-d%5;h=(s&(1<<T)-1).toString(32),s>>=T,d-=T,fa=1<<32-je(r)+d|l<<d|s,da=h+t}else fa=1<<h|l<<d|s,da=t}function Iu(t){t.return!==null&&(gn(t,1),up(t,1,0))}function Yu(t){for(;t===Oo;)Oo=ri[--ai],ri[ai]=null,Ro=ri[--ai],ri[ai]=null;for(;t===hn;)hn=_r[--zr],_r[zr]=null,da=_r[--zr],_r[zr]=null,fa=_r[--zr],_r[zr]=null}var rr=null,Te=null,ne=!1,mn=null,Zr=!1,Pu=Error(i(519));function yn(t){var r=Error(i(418,""));throw al(Or(r,t)),Pu}function cp(t){var r=t.stateNode,l=t.type,s=t.memoizedProps;switch(r[Ue]=t,r[at]=s,l){case"dialog":Wt("cancel",r),Wt("close",r);break;case"iframe":case"object":case"embed":Wt("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Wt(Ml[l],r);break;case"source":Wt("error",r);break;case"img":case"image":case"link":Wt("error",r),Wt("load",r);break;case"details":Wt("toggle",r);break;case"input":Wt("invalid",r),Av(r,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),go(r);break;case"select":Wt("invalid",r);break;case"textarea":Wt("invalid",r),Mv(r,s.value,s.defaultValue,s.children),go(r)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||s.suppressHydrationWarning===!0||Mg(r.textContent,l)?(s.popover!=null&&(Wt("beforetoggle",r),Wt("toggle",r)),s.onScroll!=null&&Wt("scroll",r),s.onScrollEnd!=null&&Wt("scrollend",r),s.onClick!=null&&(r.onclick=cs),r=!0):r=!1,r||yn(t)}function fp(t){for(rr=t.return;rr;)switch(rr.tag){case 5:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:rr=rr.return}}function el(t){if(t!==rr)return!1;if(!ne)return fp(t),ne=!0,!1;var r=t.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||uf(t.type,t.memoizedProps)),l=!l),l&&Te&&yn(t),fp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));t:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(l=t.data,l==="/$"){if(r===0){Te=Xr(t.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;t=t.nextSibling}Te=null}}else r===27?(r=Te,Fa(t.type)?(t=vf,vf=null,Te=t):Te=r):Te=rr?Xr(t.stateNode.nextSibling):null;return!0}function rl(){Te=rr=null,ne=!1}function dp(){var t=mn;return t!==null&&(fr===null?fr=t:fr.push.apply(fr,t),mn=null),t}function al(t){mn===null?mn=[t]:mn.push(t)}var Fu=q(null),bn=null,va=null;function za(t,r,l){lt(Fu,r._currentValue),r._currentValue=l}function pa(t){t._currentValue=Fu.current,nt(Fu)}function Ku(t,r,l){for(;t!==null;){var s=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),t===l)break;t=t.return}}function Wu(t,r,l,s){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var T=d.child;h=h.firstContext;t:for(;h!==null;){var R=h;h=d;for(var k=0;k<r.length;k++)if(R.context===r[k]){h.lanes|=l,R=h.alternate,R!==null&&(R.lanes|=l),Ku(h.return,l,t),s||(T=null);break t}h=R.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Ku(T,l,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function nl(t,r,l,s){t=null;for(var d=r,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var R=d.type;mr(d.pendingProps.value,T.value)||(t!==null?t.push(R):t=[R])}}else if(d===V.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}d=d.return}t!==null&&Wu(r,t,l,s),r.flags|=262144}function _o(t){for(t=t.firstContext;t!==null;){if(!mr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sn(t){bn=t,va=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return vp(bn,t)}function zo(t,r){return bn===null&&Sn(t),vp(t,r)}function vp(t,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},va===null){if(t===null)throw Error(i(308));va=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else va=va.next=r;return l}var tb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(l,s){t.push(s)}};this.abort=function(){r.aborted=!0,t.forEach(function(l){return l()})}},eb=e.unstable_scheduleCallback,rb=e.unstable_NormalPriority,Le={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new tb,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&eb(rb,function(){t.controller.abort()})}var ll=null,Qu=0,ni=0,ii=null;function ab(t,r){if(ll===null){var l=ll=[];Qu=0,ni=$c(),ii={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Qu++,r.then(pp,pp),r}function pp(){if(--Qu===0&&ll!==null){ii!==null&&(ii.status="fulfilled");var t=ll;ll=null,ni=0,ii=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function nb(t,r){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return t.then(function(){s.status="fulfilled",s.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var hp=G.S;G.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ab(t,r),hp!==null&&hp(t,r)};var xn=q(null);function Ju(){var t=xn.current;return t!==null?t:he.pooledCache}function No(t,r){r===null?lt(xn,xn.current):lt(xn,r.pool)}function gp(){var t=Ju();return t===null?null:{parent:Le._currentValue,pool:t}}var ol=Error(i(460)),mp=Error(i(474)),Bo=Error(i(542)),$u={then:function(){}};function yp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jo(){}function bp(t,r,l){switch(l=t[l],l===void 0?t.push(r):l!==r&&(r.then(jo,jo),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xp(t),t;default:if(typeof r.status=="string")r.then(jo,jo);else{if(t=he,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=r,t.status="pending",t.then(function(s){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=s}},function(s){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=s}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,xp(t),t}throw sl=r,ol}}var sl=null;function Sp(){if(sl===null)throw Error(i(459));var t=sl;return sl=null,t}function xp(t){if(t===ol||t===Bo)throw Error(i(483))}var Na=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ec(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ba(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ja(t,r,l){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(le&2)!==0){var d=s.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),s.pending=r,r=Mo(t),op(t,null,l),r}return wo(t,s,r,l),Mo(t)}function ul(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var s=r.lanes;s&=t.pendingLanes,l|=s,r.lanes=l,Kr(t,l)}}function rc(t,r){var l=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?d=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?d=h=r:h=h.next=r}else d=h=r;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}var ac=!1;function cl(){if(ac){var t=ii;if(t!==null)throw t}}function fl(t,r,l,s){ac=!1;var d=t.updateQueue;Na=!1;var h=d.firstBaseUpdate,T=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var k=R,it=k.next;k.next=null,T===null?h=it:T.next=it,T=k;var mt=t.alternate;mt!==null&&(mt=mt.updateQueue,R=mt.lastBaseUpdate,R!==T&&(R===null?mt.firstBaseUpdate=it:R.next=it,mt.lastBaseUpdate=k))}if(h!==null){var St=d.baseState;T=0,mt=it=k=null,R=h;do{var ot=R.lane&-536870913,st=ot!==R.lane;if(st?(Jt&ot)===ot:(s&ot)===ot){ot!==0&&ot===ni&&(ac=!0),mt!==null&&(mt=mt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Gt=t,jt=R;ot=r;var fe=l;switch(jt.tag){case 1:if(Gt=jt.payload,typeof Gt=="function"){St=Gt.call(fe,St,ot);break t}St=Gt;break t;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=jt.payload,ot=typeof Gt=="function"?Gt.call(fe,St,ot):Gt,ot==null)break t;St=g({},St,ot);break t;case 2:Na=!0}}ot=R.callback,ot!==null&&(t.flags|=64,st&&(t.flags|=8192),st=d.callbacks,st===null?d.callbacks=[ot]:st.push(ot))}else st={lane:ot,tag:R.tag,payload:R.payload,callback:R.callback,next:null},mt===null?(it=mt=st,k=St):mt=mt.next=st,T|=ot;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;st=R,R=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);mt===null&&(k=St),d.baseState=k,d.firstBaseUpdate=it,d.lastBaseUpdate=mt,h===null&&(d.shared.lanes=0),qa|=T,t.lanes=T,t.memoizedState=St}}function Cp(t,r){if(typeof t!="function")throw Error(i(191,t));t.call(r)}function Ep(t,r){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Cp(l[t],r)}var li=q(null),Lo=q(0);function Tp(t,r){t=xa,lt(Lo,t),lt(li,r),xa=t|r.baseLanes}function nc(){lt(Lo,xa),lt(li,li.current)}function ic(){xa=Lo.current,nt(li),nt(Lo)}var La=0,Pt=null,ue=null,_e=null,Vo=!1,oi=!1,Cn=!1,Go=0,dl=0,si=null,ib=0;function Me(){throw Error(i(321))}function lc(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!mr(t[l],r[l]))return!1;return!0}function oc(t,r,l,s,d,h){return La=h,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=t===null||t.memoizedState===null?oh:sh,Cn=!1,h=l(s,d),Cn=!1,oi&&(h=wp(r,l,s,d)),Ap(t),h}function Ap(t){G.H=Io;var r=ue!==null&&ue.next!==null;if(La=0,_e=ue=Pt=null,Vo=!1,dl=0,si=null,r)throw Error(i(300));t===null||ke||(t=t.dependencies,t!==null&&_o(t)&&(ke=!0))}function wp(t,r,l,s){Pt=t;var d=0;do{if(oi&&(si=null),dl=0,oi=!1,25<=d)throw Error(i(301));if(d+=1,_e=ue=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}G.H=db,h=r(l,s)}while(oi);return h}function lb(){var t=G.H,r=t.useState()[0];return r=typeof r.then=="function"?vl(r):r,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(Pt.flags|=1024),r}function sc(){var t=Go!==0;return Go=0,t}function uc(t,r,l){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~l}function cc(t){if(Vo){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Vo=!1}La=0,_e=ue=Pt=null,oi=!1,dl=Go=0,si=null}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Pt.memoizedState=_e=t:_e=_e.next=t,_e}function ze(){if(ue===null){var t=Pt.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var r=_e===null?Pt.memoizedState:_e.next;if(r!==null)_e=r,ue=t;else{if(t===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},_e===null?Pt.memoizedState=_e=t:_e=_e.next=t}return _e}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var r=dl;return dl+=1,si===null&&(si=[]),t=bp(si,t,r),r=Pt,(_e===null?r.memoizedState:_e.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?oh:sh),t}function Ho(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===M)return Je(t)}throw Error(i(438,String(t)))}function dc(t){var r=null,l=Pt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var s=Pt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(r={data:s.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=fc(),Pt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(t),s=0;s<t;s++)l[s]=H;return r.index++,l}function ha(t,r){return typeof r=="function"?r(t):r}function Uo(t){var r=ze();return vc(r,ue,t)}function vc(t,r,l){var s=t.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=l;var d=t.baseQueue,h=s.pending;if(h!==null){if(d!==null){var T=d.next;d.next=h.next,h.next=T}r.baseQueue=d=h,s.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{r=d.next;var R=T=null,k=null,it=r,mt=!1;do{var St=it.lane&-536870913;if(St!==it.lane?(Jt&St)===St:(La&St)===St){var ot=it.revertLane;if(ot===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),St===ni&&(mt=!0);else if((La&ot)===ot){it=it.next,ot===ni&&(mt=!0);continue}else St={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},k===null?(R=k=St,T=h):k=k.next=St,Pt.lanes|=ot,qa|=ot;St=it.action,Cn&&l(h,St),h=it.hasEagerState?it.eagerState:l(h,St)}else ot={lane:St,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},k===null?(R=k=ot,T=h):k=k.next=ot,Pt.lanes|=St,qa|=St;it=it.next}while(it!==null&&it!==r);if(k===null?T=h:k.next=R,!mr(h,t.memoizedState)&&(ke=!0,mt&&(l=ii,l!==null)))throw l;t.memoizedState=h,t.baseState=T,t.baseQueue=k,s.lastRenderedState=h}return d===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function pc(t){var r=ze(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var s=l.dispatch,d=l.pending,h=r.memoizedState;if(d!==null){l.pending=null;var T=d=d.next;do h=t(h,T.action),T=T.next;while(T!==d);mr(h,r.memoizedState)||(ke=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),l.lastRenderedState=h}return[h,s]}function Mp(t,r,l){var s=Pt,d=ze(),h=ne;if(h){if(l===void 0)throw Error(i(407));l=l()}else l=r();var T=!mr((ue||d).memoizedState,l);T&&(d.memoizedState=l,ke=!0),d=d.queue;var R=Rp.bind(null,s,d,t);if(pl(2048,8,R,[t]),d.getSnapshot!==r||T||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,ui(9,ko(),Op.bind(null,s,d,l,r),null),he===null)throw Error(i(349));h||(La&124)!==0||Dp(s,r,l)}return l}function Dp(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=Pt.updateQueue,r===null?(r=fc(),Pt.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function Op(t,r,l,s){r.value=l,r.getSnapshot=s,_p(r)&&zp(t)}function Rp(t,r,l){return l(function(){_p(r)&&zp(t)})}function _p(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!mr(t,l)}catch{return!0}}function zp(t){var r=ti(t,2);r!==null&&Er(r,t,2)}function hc(t){var r=ur();if(typeof t=="function"){var l=t;if(t=l(),Cn){pr(!0);try{l()}finally{pr(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},r}function Np(t,r,l,s){return t.baseState=l,vc(t,ue,typeof s=="function"?s:ha)}function ob(t,r,l,s,d){if(qo(t))throw Error(i(485));if(t=r.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};G.T!==null?l(!0):h.isTransition=!1,s(h),l=r.pending,l===null?(h.next=r.pending=h,Bp(r,h)):(h.next=l.next,r.pending=l.next=h)}}function Bp(t,r){var l=r.action,s=r.payload,d=t.state;if(r.isTransition){var h=G.T,T={};G.T=T;try{var R=l(d,s),k=G.S;k!==null&&k(T,R),jp(t,r,R)}catch(it){gc(t,r,it)}finally{G.T=h}}else try{h=l(d,s),jp(t,r,h)}catch(it){gc(t,r,it)}}function jp(t,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Lp(t,r,s)},function(s){return gc(t,r,s)}):Lp(t,r,l)}function Lp(t,r,l){r.status="fulfilled",r.value=l,Vp(r),t.state=l,r=t.pending,r!==null&&(l=r.next,l===r?t.pending=null:(l=l.next,r.next=l,Bp(t,l)))}function gc(t,r,l){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do r.status="rejected",r.reason=l,Vp(r),r=r.next;while(r!==s)}t.action=null}function Vp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gp(t,r){return r}function Hp(t,r){if(ne){var l=he.formState;if(l!==null){t:{var s=Pt;if(ne){if(Te){e:{for(var d=Te,h=Zr;d.nodeType!==8;){if(!h){d=null;break e}if(d=Xr(d.nextSibling),d===null){d=null;break e}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Te=Xr(d.nextSibling),s=d.data==="F!";break t}}yn(s)}s=!1}s&&(r=l[0])}}return l=ur(),l.memoizedState=l.baseState=r,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:r},l.queue=s,l=nh.bind(null,Pt,s),s.dispatch=l,s=hc(!1),h=xc.bind(null,Pt,!1,s.queue),s=ur(),d={state:r,dispatch:null,action:t,pending:null},s.queue=d,l=ob.bind(null,Pt,d,h,l),d.dispatch=l,s.memoizedState=t,[r,l,!1]}function Up(t){var r=ze();return kp(r,ue,t)}function kp(t,r,l){if(r=vc(t,r,Gp)[0],t=Uo(ha)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var s=vl(r)}catch(T){throw T===ol?Bo:T}else s=r;r=ze();var d=r.queue,h=d.dispatch;return l!==r.memoizedState&&(Pt.flags|=2048,ui(9,ko(),sb.bind(null,d,l),null)),[s,h,t]}function sb(t,r){t.action=r}function Xp(t){var r=ze(),l=ue;if(l!==null)return kp(r,l,t);ze(),r=r.memoizedState,l=ze();var s=l.queue.dispatch;return l.memoizedState=t,[r,s,!1]}function ui(t,r,l,s){return t={tag:t,create:l,deps:s,inst:r,next:null},r=Pt.updateQueue,r===null&&(r=fc(),Pt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=t.next=t:(s=l.next,l.next=t,t.next=s,r.lastEffect=t),t}function ko(){return{destroy:void 0,resource:void 0}}function qp(){return ze().memoizedState}function Xo(t,r,l,s){var d=ur();s=s===void 0?null:s,Pt.flags|=t,d.memoizedState=ui(1|r,ko(),l,s)}function pl(t,r,l,s){var d=ze();s=s===void 0?null:s;var h=d.memoizedState.inst;ue!==null&&s!==null&&lc(s,ue.memoizedState.deps)?d.memoizedState=ui(r,h,l,s):(Pt.flags|=t,d.memoizedState=ui(1|r,h,l,s))}function Ip(t,r){Xo(8390656,8,t,r)}function Yp(t,r){pl(2048,8,t,r)}function Pp(t,r){return pl(4,2,t,r)}function Fp(t,r){return pl(4,4,t,r)}function Kp(t,r){if(typeof r=="function"){t=t();var l=r(t);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Wp(t,r,l){l=l!=null?l.concat([t]):null,pl(4,4,Kp.bind(null,r,t),l)}function mc(){}function Zp(t,r){var l=ze();r=r===void 0?null:r;var s=l.memoizedState;return r!==null&&lc(r,s[1])?s[0]:(l.memoizedState=[t,r],t)}function Qp(t,r){var l=ze();r=r===void 0?null:r;var s=l.memoizedState;if(r!==null&&lc(r,s[1]))return s[0];if(s=t(),Cn){pr(!0);try{t()}finally{pr(!1)}}return l.memoizedState=[s,r],s}function yc(t,r,l){return l===void 0||(La&1073741824)!==0?t.memoizedState=r:(t.memoizedState=l,t=tg(),Pt.lanes|=t,qa|=t,l)}function Jp(t,r,l,s){return mr(l,r)?l:li.current!==null?(t=yc(t,l,s),mr(t,r)||(ke=!0),t):(La&42)===0?(ke=!0,t.memoizedState=l):(t=tg(),Pt.lanes|=t,qa|=t,r)}function $p(t,r,l,s,d){var h=Z.p;Z.p=h!==0&&8>h?h:8;var T=G.T,R={};G.T=R,xc(t,!1,r,l);try{var k=d(),it=G.S;if(it!==null&&it(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var mt=nb(k,s);hl(t,r,mt,Cr(t))}else hl(t,r,s,Cr(t))}catch(St){hl(t,r,{then:function(){},status:"rejected",reason:St},Cr())}finally{Z.p=h,G.T=T}}function ub(){}function bc(t,r,l,s){if(t.tag!==5)throw Error(i(476));var d=th(t).queue;$p(t,d,r,J,l===null?ub:function(){return eh(t),l(s)})}function th(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:J},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:l},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function eh(t){var r=th(t).next.queue;hl(t,r,{},Cr())}function Sc(){return Je(Nl)}function rh(){return ze().memoizedState}function ah(){return ze().memoizedState}function cb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var l=Cr();t=Ba(l);var s=ja(r,t,l);s!==null&&(Er(s,r,l),ul(s,r,l)),r={cache:Zu()},t.payload=r;return}r=r.return}}function fb(t,r,l){var s=Cr();l={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},qo(t)?ih(r,l):(l=Uu(t,r,l,s),l!==null&&(Er(l,t,s),lh(l,r,s)))}function nh(t,r,l){var s=Cr();hl(t,r,l,s)}function hl(t,r,l,s){var d={lane:s,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(qo(t))ih(r,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var T=r.lastRenderedState,R=h(T,l);if(d.hasEagerState=!0,d.eagerState=R,mr(R,T))return wo(t,r,d,0),he===null&&Ao(),!1}catch{}finally{}if(l=Uu(t,r,d,s),l!==null)return Er(l,t,s),lh(l,r,s),!0}return!1}function xc(t,r,l,s){if(s={lane:2,revertLane:$c(),action:s,hasEagerState:!1,eagerState:null,next:null},qo(t)){if(r)throw Error(i(479))}else r=Uu(t,l,s,2),r!==null&&Er(r,t,2)}function qo(t){var r=t.alternate;return t===Pt||r!==null&&r===Pt}function ih(t,r){oi=Vo=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function lh(t,r,l){if((l&4194048)!==0){var s=r.lanes;s&=t.pendingLanes,l|=s,r.lanes=l,Kr(t,l)}}var Io={readContext:Je,use:Ho,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me},oh={readContext:Je,use:Ho,useCallback:function(t,r){return ur().memoizedState=[t,r===void 0?null:r],t},useContext:Je,useEffect:Ip,useImperativeHandle:function(t,r,l){l=l!=null?l.concat([t]):null,Xo(4194308,4,Kp.bind(null,r,t),l)},useLayoutEffect:function(t,r){return Xo(4194308,4,t,r)},useInsertionEffect:function(t,r){Xo(4,2,t,r)},useMemo:function(t,r){var l=ur();r=r===void 0?null:r;var s=t();if(Cn){pr(!0);try{t()}finally{pr(!1)}}return l.memoizedState=[s,r],s},useReducer:function(t,r,l){var s=ur();if(l!==void 0){var d=l(r);if(Cn){pr(!0);try{l(r)}finally{pr(!1)}}}else d=r;return s.memoizedState=s.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},s.queue=t,t=t.dispatch=fb.bind(null,Pt,t),[s.memoizedState,t]},useRef:function(t){var r=ur();return t={current:t},r.memoizedState=t},useState:function(t){t=hc(t);var r=t.queue,l=nh.bind(null,Pt,r);return r.dispatch=l,[t.memoizedState,l]},useDebugValue:mc,useDeferredValue:function(t,r){var l=ur();return yc(l,t,r)},useTransition:function(){var t=hc(!1);return t=$p.bind(null,Pt,t.queue,!0,!1),ur().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,l){var s=Pt,d=ur();if(ne){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),he===null)throw Error(i(349));(Jt&124)!==0||Dp(s,r,l)}d.memoizedState=l;var h={value:l,getSnapshot:r};return d.queue=h,Ip(Rp.bind(null,s,h,t),[t]),s.flags|=2048,ui(9,ko(),Op.bind(null,s,h,l,r),null),l},useId:function(){var t=ur(),r=he.identifierPrefix;if(ne){var l=da,s=fa;l=(s&~(1<<32-je(s)-1)).toString(32)+l,r=""+r+"R"+l,l=Go++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=ib++,r=""+r+"r"+l.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Sc,useFormState:Hp,useActionState:Hp,useOptimistic:function(t){var r=ur();r.memoizedState=r.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=xc.bind(null,Pt,!0,l),l.dispatch=r,[t,r]},useMemoCache:dc,useCacheRefresh:function(){return ur().memoizedState=cb.bind(null,Pt)}},sh={readContext:Je,use:Ho,useCallback:Zp,useContext:Je,useEffect:Yp,useImperativeHandle:Wp,useInsertionEffect:Pp,useLayoutEffect:Fp,useMemo:Qp,useReducer:Uo,useRef:qp,useState:function(){return Uo(ha)},useDebugValue:mc,useDeferredValue:function(t,r){var l=ze();return Jp(l,ue.memoizedState,t,r)},useTransition:function(){var t=Uo(ha)[0],r=ze().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:Mp,useId:rh,useHostTransitionStatus:Sc,useFormState:Up,useActionState:Up,useOptimistic:function(t,r){var l=ze();return Np(l,ue,t,r)},useMemoCache:dc,useCacheRefresh:ah},db={readContext:Je,use:Ho,useCallback:Zp,useContext:Je,useEffect:Yp,useImperativeHandle:Wp,useInsertionEffect:Pp,useLayoutEffect:Fp,useMemo:Qp,useReducer:pc,useRef:qp,useState:function(){return pc(ha)},useDebugValue:mc,useDeferredValue:function(t,r){var l=ze();return ue===null?yc(l,t,r):Jp(l,ue.memoizedState,t,r)},useTransition:function(){var t=pc(ha)[0],r=ze().memoizedState;return[typeof t=="boolean"?t:vl(t),r]},useSyncExternalStore:Mp,useId:rh,useHostTransitionStatus:Sc,useFormState:Xp,useActionState:Xp,useOptimistic:function(t,r){var l=ze();return ue!==null?Np(l,ue,t,r):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:dc,useCacheRefresh:ah},ci=null,gl=0;function Yo(t){var r=gl;return gl+=1,ci===null&&(ci=[]),bp(ci,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Po(t,r){throw r.$$typeof===y?Error(i(525)):(t=Object.prototype.toString.call(r),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function uh(t){var r=t._init;return r(t._payload)}function ch(t){function r($,W){if(t){var et=$.deletions;et===null?($.deletions=[W],$.flags|=16):et.push(W)}}function l($,W){if(!t)return null;for(;W!==null;)r($,W),W=W.sibling;return null}function s($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function d($,W){return $=ca($,W),$.index=0,$.sibling=null,$}function h($,W,et){return $.index=et,t?(et=$.alternate,et!==null?(et=et.index,et<W?($.flags|=67108866,W):et):($.flags|=67108866,W)):($.flags|=1048576,W)}function T($){return t&&$.alternate===null&&($.flags|=67108866),$}function R($,W,et,yt){return W===null||W.tag!==6?(W=Xu(et,$.mode,yt),W.return=$,W):(W=d(W,et),W.return=$,W)}function k($,W,et,yt){var Dt=et.type;return Dt===x?mt($,W,et.props.children,yt,et.key):W!==null&&(W.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===z&&uh(Dt)===W.type)?(W=d(W,et.props),ml(W,et),W.return=$,W):(W=Do(et.type,et.key,et.props,null,$.mode,yt),ml(W,et),W.return=$,W)}function it($,W,et,yt){return W===null||W.tag!==4||W.stateNode.containerInfo!==et.containerInfo||W.stateNode.implementation!==et.implementation?(W=qu(et,$.mode,yt),W.return=$,W):(W=d(W,et.children||[]),W.return=$,W)}function mt($,W,et,yt,Dt){return W===null||W.tag!==7?(W=pn(et,$.mode,yt,Dt),W.return=$,W):(W=d(W,et),W.return=$,W)}function St($,W,et){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Xu(""+W,$.mode,et),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case m:return et=Do(W.type,W.key,W.props,null,$.mode,et),ml(et,W),et.return=$,et;case b:return W=qu(W,$.mode,et),W.return=$,W;case z:var yt=W._init;return W=yt(W._payload),St($,W,et)}if(U(W)||I(W))return W=pn(W,$.mode,et,null),W.return=$,W;if(typeof W.then=="function")return St($,Yo(W),et);if(W.$$typeof===M)return St($,zo($,W),et);Po($,W)}return null}function ot($,W,et,yt){var Dt=W!==null?W.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Dt!==null?null:R($,W,""+et,yt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case m:return et.key===Dt?k($,W,et,yt):null;case b:return et.key===Dt?it($,W,et,yt):null;case z:return Dt=et._init,et=Dt(et._payload),ot($,W,et,yt)}if(U(et)||I(et))return Dt!==null?null:mt($,W,et,yt,null);if(typeof et.then=="function")return ot($,W,Yo(et),yt);if(et.$$typeof===M)return ot($,W,zo($,et),yt);Po($,et)}return null}function st($,W,et,yt,Dt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return $=$.get(et)||null,R(W,$,""+yt,Dt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case m:return $=$.get(yt.key===null?et:yt.key)||null,k(W,$,yt,Dt);case b:return $=$.get(yt.key===null?et:yt.key)||null,it(W,$,yt,Dt);case z:var Ft=yt._init;return yt=Ft(yt._payload),st($,W,et,yt,Dt)}if(U(yt)||I(yt))return $=$.get(et)||null,mt(W,$,yt,Dt,null);if(typeof yt.then=="function")return st($,W,et,Yo(yt),Dt);if(yt.$$typeof===M)return st($,W,et,zo(W,yt),Dt);Po(W,yt)}return null}function Gt($,W,et,yt){for(var Dt=null,Ft=null,_t=W,Lt=W=0,qe=null;_t!==null&&Lt<et.length;Lt++){_t.index>Lt?(qe=_t,_t=null):qe=_t.sibling;var ee=ot($,_t,et[Lt],yt);if(ee===null){_t===null&&(_t=qe);break}t&&_t&&ee.alternate===null&&r($,_t),W=h(ee,W,Lt),Ft===null?Dt=ee:Ft.sibling=ee,Ft=ee,_t=qe}if(Lt===et.length)return l($,_t),ne&&gn($,Lt),Dt;if(_t===null){for(;Lt<et.length;Lt++)_t=St($,et[Lt],yt),_t!==null&&(W=h(_t,W,Lt),Ft===null?Dt=_t:Ft.sibling=_t,Ft=_t);return ne&&gn($,Lt),Dt}for(_t=s(_t);Lt<et.length;Lt++)qe=st(_t,$,Lt,et[Lt],yt),qe!==null&&(t&&qe.alternate!==null&&_t.delete(qe.key===null?Lt:qe.key),W=h(qe,W,Lt),Ft===null?Dt=qe:Ft.sibling=qe,Ft=qe);return t&&_t.forEach(function(Ja){return r($,Ja)}),ne&&gn($,Lt),Dt}function jt($,W,et,yt){if(et==null)throw Error(i(151));for(var Dt=null,Ft=null,_t=W,Lt=W=0,qe=null,ee=et.next();_t!==null&&!ee.done;Lt++,ee=et.next()){_t.index>Lt?(qe=_t,_t=null):qe=_t.sibling;var Ja=ot($,_t,ee.value,yt);if(Ja===null){_t===null&&(_t=qe);break}t&&_t&&Ja.alternate===null&&r($,_t),W=h(Ja,W,Lt),Ft===null?Dt=Ja:Ft.sibling=Ja,Ft=Ja,_t=qe}if(ee.done)return l($,_t),ne&&gn($,Lt),Dt;if(_t===null){for(;!ee.done;Lt++,ee=et.next())ee=St($,ee.value,yt),ee!==null&&(W=h(ee,W,Lt),Ft===null?Dt=ee:Ft.sibling=ee,Ft=ee);return ne&&gn($,Lt),Dt}for(_t=s(_t);!ee.done;Lt++,ee=et.next())ee=st(_t,$,Lt,ee.value,yt),ee!==null&&(t&&ee.alternate!==null&&_t.delete(ee.key===null?Lt:ee.key),W=h(ee,W,Lt),Ft===null?Dt=ee:Ft.sibling=ee,Ft=ee);return t&&_t.forEach(function(vS){return r($,vS)}),ne&&gn($,Lt),Dt}function fe($,W,et,yt){if(typeof et=="object"&&et!==null&&et.type===x&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case m:t:{for(var Dt=et.key;W!==null;){if(W.key===Dt){if(Dt=et.type,Dt===x){if(W.tag===7){l($,W.sibling),yt=d(W,et.props.children),yt.return=$,$=yt;break t}}else if(W.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===z&&uh(Dt)===W.type){l($,W.sibling),yt=d(W,et.props),ml(yt,et),yt.return=$,$=yt;break t}l($,W);break}else r($,W);W=W.sibling}et.type===x?(yt=pn(et.props.children,$.mode,yt,et.key),yt.return=$,$=yt):(yt=Do(et.type,et.key,et.props,null,$.mode,yt),ml(yt,et),yt.return=$,$=yt)}return T($);case b:t:{for(Dt=et.key;W!==null;){if(W.key===Dt)if(W.tag===4&&W.stateNode.containerInfo===et.containerInfo&&W.stateNode.implementation===et.implementation){l($,W.sibling),yt=d(W,et.children||[]),yt.return=$,$=yt;break t}else{l($,W);break}else r($,W);W=W.sibling}yt=qu(et,$.mode,yt),yt.return=$,$=yt}return T($);case z:return Dt=et._init,et=Dt(et._payload),fe($,W,et,yt)}if(U(et))return Gt($,W,et,yt);if(I(et)){if(Dt=I(et),typeof Dt!="function")throw Error(i(150));return et=Dt.call(et),jt($,W,et,yt)}if(typeof et.then=="function")return fe($,W,Yo(et),yt);if(et.$$typeof===M)return fe($,W,zo($,et),yt);Po($,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,W!==null&&W.tag===6?(l($,W.sibling),yt=d(W,et),yt.return=$,$=yt):(l($,W),yt=Xu(et,$.mode,yt),yt.return=$,$=yt),T($)):l($,W)}return function($,W,et,yt){try{gl=0;var Dt=fe($,W,et,yt);return ci=null,Dt}catch(_t){if(_t===ol||_t===Bo)throw _t;var Ft=yr(29,_t,null,$.mode);return Ft.lanes=yt,Ft.return=$,Ft}finally{}}}var fi=ch(!0),fh=ch(!1),Nr=q(null),Qr=null;function Va(t){var r=t.alternate;lt(Ve,Ve.current&1),lt(Nr,t),Qr===null&&(r===null||li.current!==null||r.memoizedState!==null)&&(Qr=t)}function dh(t){if(t.tag===22){if(lt(Ve,Ve.current),lt(Nr,t),Qr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Qr=t)}}else Ga()}function Ga(){lt(Ve,Ve.current),lt(Nr,Nr.current)}function ga(t){nt(Nr),Qr===t&&(Qr=null),nt(Ve)}var Ve=q(0);function Fo(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||df(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Cc(t,r,l,s){r=t.memoizedState,l=l(s,r),l=l==null?r:g({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Ec={enqueueSetState:function(t,r,l){t=t._reactInternals;var s=Cr(),d=Ba(s);d.payload=r,l!=null&&(d.callback=l),r=ja(t,d,s),r!==null&&(Er(r,t,s),ul(r,t,s))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var s=Cr(),d=Ba(s);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=ja(t,d,s),r!==null&&(Er(r,t,s),ul(r,t,s))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Cr(),s=Ba(l);s.tag=2,r!=null&&(s.callback=r),r=ja(t,s,l),r!==null&&(Er(r,t,l),ul(r,t,l))}};function vh(t,r,l,s,d,h,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,T):r.prototype&&r.prototype.isPureReactComponent?!$i(l,s)||!$i(d,h):!0}function ph(t,r,l,s){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,s),r.state!==t&&Ec.enqueueReplaceState(r,r.state,null)}function En(t,r){var l=r;if("ref"in r){l={};for(var s in r)s!=="ref"&&(l[s]=r[s])}if(t=t.defaultProps){l===r&&(l=g({},l));for(var d in t)l[d]===void 0&&(l[d]=t[d])}return l}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hh(t){Ko(t)}function gh(t){console.error(t)}function mh(t){Ko(t)}function Wo(t,r){try{var l=t.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(s){setTimeout(function(){throw s})}}function yh(t,r,l){try{var s=t.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Tc(t,r,l){return l=Ba(l),l.tag=3,l.payload={element:null},l.callback=function(){Wo(t,r)},l}function bh(t){return t=Ba(t),t.tag=3,t}function Sh(t,r,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;t.payload=function(){return d(h)},t.callback=function(){yh(r,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){yh(r,l,s),typeof d!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var R=s.stack;this.componentDidCatch(s.value,{componentStack:R!==null?R:""})})}function vb(t,r,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(r=l.alternate,r!==null&&nl(r,l,d,!0),l=Nr.current,l!==null){switch(l.tag){case 13:return Qr===null?Kc():l.alternate===null&&Ae===0&&(Ae=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===$u?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([s]):r.add(s),Zc(t,s,d)),!1;case 22:return l.flags|=65536,s===$u?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([s]):l.add(s)),Zc(t,s,d)),!1}throw Error(i(435,l.tag))}return Zc(t,s,d),Kc(),!1}if(ne)return r=Nr.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,s!==Pu&&(t=Error(i(422),{cause:s}),al(Or(t,l)))):(s!==Pu&&(r=Error(i(423),{cause:s}),al(Or(r,l))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,s=Or(s,l),d=Tc(t.stateNode,s,d),rc(t,d),Ae!==4&&(Ae=2)),!1;var h=Error(i(520),{cause:s});if(h=Or(h,l),Tl===null?Tl=[h]:Tl.push(h),Ae!==4&&(Ae=2),r===null)return!0;s=Or(s,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,t=d&-d,l.lanes|=t,t=Tc(l.stateNode,s,t),rc(l,t),!1;case 1:if(r=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ia===null||!Ia.has(h))))return l.flags|=65536,d&=-d,l.lanes|=d,d=bh(d),Sh(d,t,l,s),rc(l,d),!1}l=l.return}while(l!==null);return!1}var xh=Error(i(461)),ke=!1;function Pe(t,r,l,s){r.child=t===null?fh(r,null,l,s):fi(r,t.child,l,s)}function Ch(t,r,l,s,d){l=l.render;var h=r.ref;if("ref"in s){var T={};for(var R in s)R!=="ref"&&(T[R]=s[R])}else T=s;return Sn(r),s=oc(t,r,l,T,h,d),R=sc(),t!==null&&!ke?(uc(t,r,d),ma(t,r,d)):(ne&&R&&Iu(r),r.flags|=1,Pe(t,r,s,d),r.child)}function Eh(t,r,l,s,d){if(t===null){var h=l.type;return typeof h=="function"&&!ku(h)&&h.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=h,Th(t,r,h,s,d)):(t=Do(l.type,null,s,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,!zc(t,d)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:$i,l(T,s)&&t.ref===r.ref)return ma(t,r,d)}return r.flags|=1,t=ca(h,s),t.ref=r.ref,t.return=r,r.child=t}function Th(t,r,l,s,d){if(t!==null){var h=t.memoizedProps;if($i(h,s)&&t.ref===r.ref)if(ke=!1,r.pendingProps=s=h,zc(t,d))(t.flags&131072)!==0&&(ke=!0);else return r.lanes=t.lanes,ma(t,r,d)}return Ac(t,r,l,s,d)}function Ah(t,r,l){var s=r.pendingProps,d=s.children,h=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((r.flags&128)!==0){if(s=h!==null?h.baseLanes|l:l,t!==null){for(d=r.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;r.childLanes=h&~s}else r.childLanes=0,r.child=null;return wh(t,r,s,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&No(r,h!==null?h.cachePool:null),h!==null?Tp(r,h):nc(),dh(r);else return r.lanes=r.childLanes=536870912,wh(t,r,h!==null?h.baseLanes|l:l,l)}else h!==null?(No(r,h.cachePool),Tp(r,h),Ga(),r.memoizedState=null):(t!==null&&No(r,null),nc(),Ga());return Pe(t,r,d,l),r.child}function wh(t,r,l,s){var d=Ju();return d=d===null?null:{parent:Le._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},t!==null&&No(r,null),nc(),dh(r),t!==null&&nl(t,r,s,!0),null}function Zo(t,r){var l=r.ref;if(l===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(r.flags|=4194816)}}function Ac(t,r,l,s,d){return Sn(r),l=oc(t,r,l,s,void 0,d),s=sc(),t!==null&&!ke?(uc(t,r,d),ma(t,r,d)):(ne&&s&&Iu(r),r.flags|=1,Pe(t,r,l,d),r.child)}function Mh(t,r,l,s,d,h){return Sn(r),r.updateQueue=null,l=wp(r,s,l,d),Ap(t),s=sc(),t!==null&&!ke?(uc(t,r,h),ma(t,r,h)):(ne&&s&&Iu(r),r.flags|=1,Pe(t,r,l,h),r.child)}function Dh(t,r,l,s,d){if(Sn(r),r.stateNode===null){var h=ei,T=l.contextType;typeof T=="object"&&T!==null&&(h=Je(T)),h=new l(s,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ec,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=s,h.state=r.memoizedState,h.refs={},tc(r),T=l.contextType,h.context=typeof T=="object"&&T!==null?Je(T):ei,h.state=r.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cc(r,l,T,s),h.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Ec.enqueueReplaceState(h,h.state,null),fl(r,s,h,d),cl(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),s=!0}else if(t===null){h=r.stateNode;var R=r.memoizedProps,k=En(l,R);h.props=k;var it=h.context,mt=l.contextType;T=ei,typeof mt=="object"&&mt!==null&&(T=Je(mt));var St=l.getDerivedStateFromProps;mt=typeof St=="function"||typeof h.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,mt||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(R||it!==T)&&ph(r,h,s,T),Na=!1;var ot=r.memoizedState;h.state=ot,fl(r,s,h,d),cl(),it=r.memoizedState,R||ot!==it||Na?(typeof St=="function"&&(Cc(r,l,St,s),it=r.memoizedState),(k=Na||vh(r,l,k,s,ot,it,T))?(mt||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=it),h.props=s,h.state=it,h.context=T,s=k):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{h=r.stateNode,ec(t,r),T=r.memoizedProps,mt=En(l,T),h.props=mt,St=r.pendingProps,ot=h.context,it=l.contextType,k=ei,typeof it=="object"&&it!==null&&(k=Je(it)),R=l.getDerivedStateFromProps,(it=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==St||ot!==k)&&ph(r,h,s,k),Na=!1,ot=r.memoizedState,h.state=ot,fl(r,s,h,d),cl();var st=r.memoizedState;T!==St||ot!==st||Na||t!==null&&t.dependencies!==null&&_o(t.dependencies)?(typeof R=="function"&&(Cc(r,l,R,s),st=r.memoizedState),(mt=Na||vh(r,l,mt,s,ot,st,k)||t!==null&&t.dependencies!==null&&_o(t.dependencies))?(it||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,st,k),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,st,k)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&ot===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ot===t.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=st),h.props=s,h.state=st,h.context=k,s=mt):(typeof h.componentDidUpdate!="function"||T===t.memoizedProps&&ot===t.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&ot===t.memoizedState||(r.flags|=1024),s=!1)}return h=s,Zo(t,r),s=(r.flags&128)!==0,h||s?(h=r.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,t!==null&&s?(r.child=fi(r,t.child,null,d),r.child=fi(r,null,l,d)):Pe(t,r,l,d),r.memoizedState=h.state,t=r.child):t=ma(t,r,d),t}function Oh(t,r,l,s){return rl(),r.flags|=256,Pe(t,r,l,s),r.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(t){return{baseLanes:t,cachePool:gp()}}function Dc(t,r,l){return t=t!==null?t.childLanes&~l:0,r&&(t|=Br),t}function Rh(t,r,l){var s=r.pendingProps,d=!1,h=(r.flags&128)!==0,T;if((T=h)||(T=t!==null&&t.memoizedState===null?!1:(Ve.current&2)!==0),T&&(d=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,t===null){if(ne){if(d?Va(r):Ga(),ne){var R=Te,k;if(k=R){t:{for(k=R,R=Zr;k.nodeType!==8;){if(!R){R=null;break t}if(k=Xr(k.nextSibling),k===null){R=null;break t}}R=k}R!==null?(r.memoizedState={dehydrated:R,treeContext:hn!==null?{id:fa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},k=yr(18,null,null,0),k.stateNode=R,k.return=r,r.child=k,rr=r,Te=null,k=!0):k=!1}k||yn(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return df(R)?r.lanes=32:r.lanes=536870912,null;ga(r)}return R=s.children,s=s.fallback,d?(Ga(),d=r.mode,R=Qo({mode:"hidden",children:R},d),s=pn(s,d,l,null),R.return=r,s.return=r,R.sibling=s,r.child=R,d=r.child,d.memoizedState=Mc(l),d.childLanes=Dc(t,T,l),r.memoizedState=wc,s):(Va(r),Oc(r,R))}if(k=t.memoizedState,k!==null&&(R=k.dehydrated,R!==null)){if(h)r.flags&256?(Va(r),r.flags&=-257,r=Rc(t,r,l)):r.memoizedState!==null?(Ga(),r.child=t.child,r.flags|=128,r=null):(Ga(),d=s.fallback,R=r.mode,s=Qo({mode:"visible",children:s.children},R),d=pn(d,R,l,null),d.flags|=2,s.return=r,d.return=r,s.sibling=d,r.child=s,fi(r,t.child,null,l),s=r.child,s.memoizedState=Mc(l),s.childLanes=Dc(t,T,l),r.memoizedState=wc,r=d);else if(Va(r),df(R)){if(T=R.nextSibling&&R.nextSibling.dataset,T)var it=T.dgst;T=it,s=Error(i(419)),s.stack="",s.digest=T,al({value:s,source:null,stack:null}),r=Rc(t,r,l)}else if(ke||nl(t,r,l,!1),T=(l&t.childLanes)!==0,ke||T){if(T=he,T!==null&&(s=l&-l,s=(s&42)!==0?1:qn(s),s=(s&(T.suspendedLanes|l))!==0?0:s,s!==0&&s!==k.retryLane))throw k.retryLane=s,ti(t,s),Er(T,t,s),xh;R.data==="$?"||Kc(),r=Rc(t,r,l)}else R.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=k.treeContext,Te=Xr(R.nextSibling),rr=r,ne=!0,mn=null,Zr=!1,t!==null&&(_r[zr++]=fa,_r[zr++]=da,_r[zr++]=hn,fa=t.id,da=t.overflow,hn=r),r=Oc(r,s.children),r.flags|=4096);return r}return d?(Ga(),d=s.fallback,R=r.mode,k=t.child,it=k.sibling,s=ca(k,{mode:"hidden",children:s.children}),s.subtreeFlags=k.subtreeFlags&65011712,it!==null?d=ca(it,d):(d=pn(d,R,l,null),d.flags|=2),d.return=r,s.return=r,s.sibling=d,r.child=s,s=d,d=r.child,R=t.child.memoizedState,R===null?R=Mc(l):(k=R.cachePool,k!==null?(it=Le._currentValue,k=k.parent!==it?{parent:it,pool:it}:k):k=gp(),R={baseLanes:R.baseLanes|l,cachePool:k}),d.memoizedState=R,d.childLanes=Dc(t,T,l),r.memoizedState=wc,s):(Va(r),l=t.child,t=l.sibling,l=ca(l,{mode:"visible",children:s.children}),l.return=r,l.sibling=null,t!==null&&(T=r.deletions,T===null?(r.deletions=[t],r.flags|=16):T.push(t)),r.child=l,r.memoizedState=null,l)}function Oc(t,r){return r=Qo({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Qo(t,r){return t=yr(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rc(t,r,l){return fi(r,t.child,null,l),t=Oc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function _h(t,r,l){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r),Ku(t.return,r,l)}function _c(t,r,l,s,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=l,h.tailMode=d)}function zh(t,r,l){var s=r.pendingProps,d=s.revealOrder,h=s.tail;if(Pe(t,r,s.children,l),s=Ve.current,(s&2)!==0)s=s&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_h(t,l,r);else if(t.tag===19)_h(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break t;for(;t.sibling===null;){if(t.return===null||t.return===r)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(lt(Ve,s),d){case"forwards":for(l=r.child,d=null;l!==null;)t=l.alternate,t!==null&&Fo(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),_c(r,!1,d,l,h);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Fo(t)===null){r.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}_c(r,!0,l,null,h);break;case"together":_c(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ma(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),qa|=r.lanes,(l&r.childLanes)===0)if(t!==null){if(nl(t,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(i(153));if(r.child!==null){for(t=r.child,l=ca(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=ca(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function zc(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&_o(t)))}function pb(t,r,l){switch(r.tag){case 3:Y(r,r.stateNode.containerInfo),za(r,Le,t.memoizedState.cache),rl();break;case 27:case 5:gt(r);break;case 4:Y(r,r.stateNode.containerInfo);break;case 10:za(r,r.type,r.memoizedProps.value);break;case 13:var s=r.memoizedState;if(s!==null)return s.dehydrated!==null?(Va(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Rh(t,r,l):(Va(r),t=ma(t,r,l),t!==null?t.sibling:null);Va(r);break;case 19:var d=(t.flags&128)!==0;if(s=(l&r.childLanes)!==0,s||(nl(t,r,l,!1),s=(l&r.childLanes)!==0),d){if(s)return zh(t,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(Ve,Ve.current),s)break;return null;case 22:case 23:return r.lanes=0,Ah(t,r,l);case 24:za(r,Le,t.memoizedState.cache)}return ma(t,r,l)}function Nh(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps)ke=!0;else{if(!zc(t,l)&&(r.flags&128)===0)return ke=!1,pb(t,r,l);ke=(t.flags&131072)!==0}else ke=!1,ne&&(r.flags&1048576)!==0&&up(r,Ro,r.index);switch(r.lanes=0,r.tag){case 16:t:{t=r.pendingProps;var s=r.elementType,d=s._init;if(s=d(s._payload),r.type=s,typeof s=="function")ku(s)?(t=En(s,t),r.tag=1,r=Dh(null,r,s,t,l)):(r.tag=0,r=Ac(null,r,s,t,l));else{if(s!=null){if(d=s.$$typeof,d===D){r.tag=11,r=Ch(null,r,s,t,l);break t}else if(d===N){r.tag=14,r=Eh(null,r,s,t,l);break t}}throw r=Q(s)||s,Error(i(306,r,""))}}return r;case 0:return Ac(t,r,r.type,r.pendingProps,l);case 1:return s=r.type,d=En(s,r.pendingProps),Dh(t,r,s,d,l);case 3:t:{if(Y(r,r.stateNode.containerInfo),t===null)throw Error(i(387));s=r.pendingProps;var h=r.memoizedState;d=h.element,ec(t,r),fl(r,s,null,l);var T=r.memoizedState;if(s=T.cache,za(r,Le,s),s!==h.cache&&Wu(r,[Le],l,!0),cl(),s=T.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=Oh(t,r,s,l);break t}else if(s!==d){d=Or(Error(i(424)),r),al(d),r=Oh(t,r,s,l);break t}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Te=Xr(t.firstChild),rr=r,ne=!0,mn=null,Zr=!0,l=fh(r,null,s,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(rl(),s===d){r=ma(t,r,l);break t}Pe(t,r,s,l)}r=r.child}return r;case 26:return Zo(t,r),t===null?(l=Vg(r.type,null,r.pendingProps,null))?r.memoizedState=l:ne||(l=r.type,t=r.pendingProps,s=fs(L.current).createElement(l),s[Ue]=r,s[at]=t,Ke(s,l,t),we(s),r.stateNode=s):r.memoizedState=Vg(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gt(r),t===null&&ne&&(s=r.stateNode=Bg(r.type,r.pendingProps,L.current),rr=r,Zr=!0,d=Te,Fa(r.type)?(vf=d,Te=Xr(s.firstChild)):Te=d),Pe(t,r,r.pendingProps.children,l),Zo(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&ne&&((d=s=Te)&&(s=Xb(s,r.type,r.pendingProps,Zr),s!==null?(r.stateNode=s,rr=r,Te=Xr(s.firstChild),Zr=!1,d=!0):d=!1),d||yn(r)),gt(r),d=r.type,h=r.pendingProps,T=t!==null?t.memoizedProps:null,s=h.children,uf(d,h)?s=null:T!==null&&uf(d,T)&&(r.flags|=32),r.memoizedState!==null&&(d=oc(t,r,lb,null,null,l),Nl._currentValue=d),Zo(t,r),Pe(t,r,s,l),r.child;case 6:return t===null&&ne&&((t=l=Te)&&(l=qb(l,r.pendingProps,Zr),l!==null?(r.stateNode=l,rr=r,Te=null,t=!0):t=!1),t||yn(r)),null;case 13:return Rh(t,r,l);case 4:return Y(r,r.stateNode.containerInfo),s=r.pendingProps,t===null?r.child=fi(r,null,s,l):Pe(t,r,s,l),r.child;case 11:return Ch(t,r,r.type,r.pendingProps,l);case 7:return Pe(t,r,r.pendingProps,l),r.child;case 8:return Pe(t,r,r.pendingProps.children,l),r.child;case 12:return Pe(t,r,r.pendingProps.children,l),r.child;case 10:return s=r.pendingProps,za(r,r.type,s.value),Pe(t,r,s.children,l),r.child;case 9:return d=r.type._context,s=r.pendingProps.children,Sn(r),d=Je(d),s=s(d),r.flags|=1,Pe(t,r,s,l),r.child;case 14:return Eh(t,r,r.type,r.pendingProps,l);case 15:return Th(t,r,r.type,r.pendingProps,l);case 19:return zh(t,r,l);case 31:return s=r.pendingProps,l=r.mode,s={mode:s.mode,children:s.children},t===null?(l=Qo(s,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ca(t.child,s),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return Ah(t,r,l);case 24:return Sn(r),s=Je(Le),t===null?(d=Ju(),d===null&&(d=he,h=Zu(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=l),d=h),r.memoizedState={parent:s,cache:d},tc(r),za(r,Le,d)):((t.lanes&l)!==0&&(ec(t,r),fl(r,null,null,l),cl()),d=t.memoizedState,h=r.memoizedState,d.parent!==s?(d={parent:s,cache:s},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),za(r,Le,s)):(s=h.cache,za(r,Le,s),s!==d.cache&&Wu(r,[Le],l,!0))),Pe(t,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ya(t){t.flags|=4}function Bh(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Xg(r)){if(r=Nr.current,r!==null&&((Jt&4194048)===Jt?Qr!==null:(Jt&62914560)!==Jt&&(Jt&536870912)===0||r!==Qr))throw sl=$u,mp;t.flags|=8192}}function Jo(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?re():536870912,t.lanes|=r,hi|=r)}function yl(t,r){if(!ne)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ce(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,s=0;if(r)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=l,r}function hb(t,r,l){var s=r.pendingProps;switch(Yu(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(r),null;case 1:return Ce(r),null;case 3:return l=r.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),pa(Le),ht(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(el(r)?ya(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dp())),Ce(r),null;case 26:return l=r.memoizedState,t===null?(ya(r),l!==null?(Ce(r),Bh(r,l)):(Ce(r),r.flags&=-16777217)):l?l!==t.memoizedState?(ya(r),Ce(r),Bh(r,l)):(Ce(r),r.flags&=-16777217):(t.memoizedProps!==s&&ya(r),Ce(r),r.flags&=-16777217),null;case 27:vt(r),l=L.current;var d=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==s&&ya(r);else{if(!s){if(r.stateNode===null)throw Error(i(166));return Ce(r),null}t=ct.current,el(r)?cp(r):(t=Bg(d,s,l),r.stateNode=t,ya(r))}return Ce(r),null;case 5:if(vt(r),l=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==s&&ya(r);else{if(!s){if(r.stateNode===null)throw Error(i(166));return Ce(r),null}if(t=ct.current,el(r))cp(r);else{switch(d=fs(L.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?d.createElement(l,{is:s.is}):d.createElement(l)}}t[Ue]=r,t[at]=s;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=t;t:switch(Ke(t,l,s),l){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ya(r)}}return Ce(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==s&&ya(r);else{if(typeof s!="string"&&r.stateNode===null)throw Error(i(166));if(t=L.current,el(r)){if(t=r.stateNode,l=r.memoizedProps,s=null,d=rr,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}t[Ue]=r,t=!!(t.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Mg(t.nodeValue,l)),t||yn(r)}else t=fs(t).createTextNode(s),t[Ue]=r,r.stateNode=t}return Ce(r),null;case 13:if(s=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=el(r),s!==null&&s.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ue]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ce(r),d=!1}else d=dp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(ga(r),r):(ga(r),null)}if(ga(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=s!==null,t=t!==null&&t.memoizedState!==null,l){s=r.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var h=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)}return l!==t&&l&&(r.child.flags|=8192),Jo(r,r.updateQueue),Ce(r),null;case 4:return ht(),t===null&&af(r.stateNode.containerInfo),Ce(r),null;case 10:return pa(r.type),Ce(r),null;case 19:if(nt(Ve),d=r.memoizedState,d===null)return Ce(r),null;if(s=(r.flags&128)!==0,h=d.rendering,h===null)if(s)yl(d,!1);else{if(Ae!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(h=Fo(t),h!==null){for(r.flags|=128,yl(d,!1),t=h.updateQueue,r.updateQueue=t,Jo(r,t),r.subtreeFlags=0,t=l,l=r.child;l!==null;)sp(l,t),l=l.sibling;return lt(Ve,Ve.current&1|2),r.child}t=t.sibling}d.tail!==null&&Vt()>es&&(r.flags|=128,s=!0,yl(d,!1),r.lanes=4194304)}else{if(!s)if(t=Fo(h),t!==null){if(r.flags|=128,s=!0,t=t.updateQueue,r.updateQueue=t,Jo(r,t),yl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!ne)return Ce(r),null}else 2*Vt()-d.renderingStartTime>es&&l!==536870912&&(r.flags|=128,s=!0,yl(d,!1),r.lanes=4194304);d.isBackwards?(h.sibling=r.child,r.child=h):(t=d.last,t!==null?t.sibling=h:r.child=h,d.last=h)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Vt(),r.sibling=null,t=Ve.current,lt(Ve,s?t&1|2:t&1),r):(Ce(r),null);case 22:case 23:return ga(r),ic(),s=r.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(r.flags|=8192):s&&(r.flags|=8192),s?(l&536870912)!==0&&(r.flags&128)===0&&(Ce(r),r.subtreeFlags&6&&(r.flags|=8192)):Ce(r),l=r.updateQueue,l!==null&&Jo(r,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(r.flags|=2048),t!==null&&nt(xn),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),pa(Le),Ce(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function gb(t,r){switch(Yu(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return pa(Le),ht(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return vt(r),null;case 13:if(ga(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(i(340));rl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return nt(Ve),null;case 4:return ht(),null;case 10:return pa(r.type),null;case 22:case 23:return ga(r),ic(),t!==null&&nt(xn),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return pa(Le),null;case 25:return null;default:return null}}function jh(t,r){switch(Yu(r),r.tag){case 3:pa(Le),ht();break;case 26:case 27:case 5:vt(r);break;case 4:ht();break;case 13:ga(r);break;case 19:nt(Ve);break;case 10:pa(r.type);break;case 22:case 23:ga(r),ic(),t!==null&&nt(xn);break;case 24:pa(Le)}}function bl(t,r){try{var l=r.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&t)===t){s=void 0;var h=l.create,T=l.inst;s=h(),T.destroy=s}l=l.next}while(l!==d)}}catch(R){pe(r,r.return,R)}}function Ha(t,r,l){try{var s=r.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&t)===t){var T=s.inst,R=T.destroy;if(R!==void 0){T.destroy=void 0,d=r;var k=l,it=R;try{it()}catch(mt){pe(d,k,mt)}}}s=s.next}while(s!==h)}}catch(mt){pe(r,r.return,mt)}}function Lh(t){var r=t.updateQueue;if(r!==null){var l=t.stateNode;try{Ep(r,l)}catch(s){pe(t,t.return,s)}}}function Vh(t,r,l){l.props=En(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(s){pe(t,r,s)}}function Sl(t,r){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof l=="function"?t.refCleanup=l(s):l.current=s}}catch(d){pe(t,r,d)}}function Jr(t,r){var l=t.ref,s=t.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){pe(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){pe(t,r,d)}else l.current=null}function Gh(t){var r=t.type,l=t.memoizedProps,s=t.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break t;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){pe(t,t.return,d)}}function Nc(t,r,l){try{var s=t.stateNode;Vb(s,t.type,l,r),s[at]=r}catch(d){pe(t,t.return,d)}}function Hh(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fa(t.type)||t.tag===4}function Bc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jc(t,r,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(t),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=cs));else if(s!==4&&(s===27&&Fa(t.type)&&(l=t.stateNode,r=null),t=t.child,t!==null))for(jc(t,r,l),t=t.sibling;t!==null;)jc(t,r,l),t=t.sibling}function $o(t,r,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(s!==4&&(s===27&&Fa(t.type)&&(l=t.stateNode),t=t.child,t!==null))for($o(t,r,l),t=t.sibling;t!==null;)$o(t,r,l),t=t.sibling}function Uh(t){var r=t.stateNode,l=t.memoizedProps;try{for(var s=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ke(r,s,l),r[Ue]=t,r[at]=l}catch(h){pe(t,t.return,h)}}var ba=!1,De=!1,Lc=!1,kh=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function mb(t,r){if(t=t.containerInfo,of=ms,t=Jv(t),Bu(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break t}var T=0,R=-1,k=-1,it=0,mt=0,St=t,ot=null;e:for(;;){for(var st;St!==l||d!==0&&St.nodeType!==3||(R=T+d),St!==h||s!==0&&St.nodeType!==3||(k=T+s),St.nodeType===3&&(T+=St.nodeValue.length),(st=St.firstChild)!==null;)ot=St,St=st;for(;;){if(St===t)break e;if(ot===l&&++it===d&&(R=T),ot===h&&++mt===s&&(k=T),(st=St.nextSibling)!==null)break;St=ot,ot=St.parentNode}St=st}l=R===-1||k===-1?null:{start:R,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(sf={focusedElem:t,selectionRange:l},ms=!1,Xe=r;Xe!==null;)if(r=Xe,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Xe=t;else for(;Xe!==null;){switch(r=Xe,h=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,l=r,d=h.memoizedProps,h=h.memoizedState,s=l.stateNode;try{var Gt=En(l.type,d,l.elementType===l.type);t=s.getSnapshotBeforeUpdate(Gt,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(jt){pe(l,l.return,jt)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,l=t.nodeType,l===9)ff(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=r.sibling,t!==null){t.return=r.return,Xe=t;break}Xe=r.return}}function Xh(t,r,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Ua(t,l),s&4&&bl(5,l);break;case 1:if(Ua(t,l),s&4)if(t=l.stateNode,r===null)try{t.componentDidMount()}catch(T){pe(l,l.return,T)}else{var d=En(l.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(T){pe(l,l.return,T)}}s&64&&Lh(l),s&512&&Sl(l,l.return);break;case 3:if(Ua(t,l),s&64&&(t=l.updateQueue,t!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Ep(t,r)}catch(T){pe(l,l.return,T)}}break;case 27:r===null&&s&4&&Uh(l);case 26:case 5:Ua(t,l),r===null&&s&4&&Gh(l),s&512&&Sl(l,l.return);break;case 12:Ua(t,l);break;case 13:Ua(t,l),s&4&&Yh(t,l),s&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=wb.bind(null,l),Ib(t,l))));break;case 22:if(s=l.memoizedState!==null||ba,!s){r=r!==null&&r.memoizedState!==null||De,d=ba;var h=De;ba=s,(De=r)&&!h?ka(t,l,(l.subtreeFlags&8772)!==0):Ua(t,l),ba=d,De=h}break;case 30:break;default:Ua(t,l)}}function qh(t){var r=t.alternate;r!==null&&(t.alternate=null,qh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Qt(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,cr=!1;function Sa(t,r,l){for(l=l.child;l!==null;)Ih(t,r,l),l=l.sibling}function Ih(t,r,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:De||Jr(l,r),Sa(t,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:De||Jr(l,r);var s=Se,d=cr;Fa(l.type)&&(Se=l.stateNode,cr=!1),Sa(t,r,l),Ol(l.stateNode),Se=s,cr=d;break;case 5:De||Jr(l,r);case 6:if(s=Se,d=cr,Se=null,Sa(t,r,l),Se=s,cr=d,Se!==null)if(cr)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(l.stateNode)}catch(h){pe(l,r,h)}else try{Se.removeChild(l.stateNode)}catch(h){pe(l,r,h)}break;case 18:Se!==null&&(cr?(t=Se,zg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Vl(t)):zg(Se,l.stateNode));break;case 4:s=Se,d=cr,Se=l.stateNode.containerInfo,cr=!0,Sa(t,r,l),Se=s,cr=d;break;case 0:case 11:case 14:case 15:De||Ha(2,l,r),De||Ha(4,l,r),Sa(t,r,l);break;case 1:De||(Jr(l,r),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Vh(l,r,s)),Sa(t,r,l);break;case 21:Sa(t,r,l);break;case 22:De=(s=De)||l.memoizedState!==null,Sa(t,r,l),De=s;break;default:Sa(t,r,l)}}function Yh(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(l){pe(r,r.return,l)}}function yb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new kh),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new kh),r;default:throw Error(i(435,t.tag))}}function Vc(t,r){var l=yb(t);r.forEach(function(s){var d=Mb.bind(null,t,s);l.has(s)||(l.add(s),s.then(d,d))})}function br(t,r){var l=r.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],h=t,T=r,R=T;t:for(;R!==null;){switch(R.tag){case 27:if(Fa(R.type)){Se=R.stateNode,cr=!1;break t}break;case 5:Se=R.stateNode,cr=!1;break t;case 3:case 4:Se=R.stateNode.containerInfo,cr=!0;break t}R=R.return}if(Se===null)throw Error(i(160));Ih(h,T,d),Se=null,cr=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ph(r,t),r=r.sibling}var kr=null;function Ph(t,r){var l=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:br(r,t),Sr(t),s&4&&(Ha(3,t,t.return),bl(3,t),Ha(5,t,t.return));break;case 1:br(r,t),Sr(t),s&512&&(De||l===null||Jr(l,l.return)),s&64&&ba&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=kr;if(br(r,t),Sr(t),s&512&&(De||l===null||Jr(l,l.return)),s&4){var h=l!==null?l.memoizedState:null;if(s=t.memoizedState,l===null)if(s===null)if(t.stateNode===null){t:{s=t.type,l=t.memoizedProps,d=d.ownerDocument||d;e:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[It]||h[Ue]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),Ke(h,s,l),h[Ue]=t,we(h),s=h;break t;case"link":var T=Ug("link","href",d).get(s+(l.href||""));if(T){for(var R=0;R<T.length;R++)if(h=T[R],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(R,1);break e}}h=d.createElement(s),Ke(h,s,l),d.head.appendChild(h);break;case"meta":if(T=Ug("meta","content",d).get(s+(l.content||""))){for(R=0;R<T.length;R++)if(h=T[R],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(R,1);break e}}h=d.createElement(s),Ke(h,s,l),d.head.appendChild(h);break;default:throw Error(i(468,s))}h[Ue]=t,we(h),s=h}t.stateNode=s}else kg(d,t.type,t.stateNode);else t.stateNode=Hg(d,s,t.memoizedProps);else h!==s?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,s===null?kg(d,t.type,t.stateNode):Hg(d,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Nc(t,t.memoizedProps,l.memoizedProps)}break;case 27:br(r,t),Sr(t),s&512&&(De||l===null||Jr(l,l.return)),l!==null&&s&4&&Nc(t,t.memoizedProps,l.memoizedProps);break;case 5:if(br(r,t),Sr(t),s&512&&(De||l===null||Jr(l,l.return)),t.flags&32){d=t.stateNode;try{Fn(d,"")}catch(st){pe(t,t.return,st)}}s&4&&t.stateNode!=null&&(d=t.memoizedProps,Nc(t,d,l!==null?l.memoizedProps:d)),s&1024&&(Lc=!0);break;case 6:if(br(r,t),Sr(t),s&4){if(t.stateNode===null)throw Error(i(162));s=t.memoizedProps,l=t.stateNode;try{l.nodeValue=s}catch(st){pe(t,t.return,st)}}break;case 3:if(ps=null,d=kr,kr=ds(r.containerInfo),br(r,t),kr=d,Sr(t),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(st){pe(t,t.return,st)}Lc&&(Lc=!1,Fh(t));break;case 4:s=kr,kr=ds(t.stateNode.containerInfo),br(r,t),Sr(t),kr=s;break;case 12:br(r,t),Sr(t);break;case 13:br(r,t),Sr(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qc=Vt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Vc(t,s)));break;case 22:d=t.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,it=ba,mt=De;if(ba=it||d,De=mt||k,br(r,t),De=mt,ba=it,Sr(t),s&8192)t:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||k||ba||De||Tn(t)),l=null,r=t;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(h=k.stateNode,d)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{R=k.stateNode;var St=k.memoizedProps.style,ot=St!=null&&St.hasOwnProperty("display")?St.display:null;R.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(st){pe(k,k.return,st)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(st){pe(k,k.return,st)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}s&4&&(s=t.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Vc(t,l))));break;case 19:br(r,t),Sr(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Vc(t,s)));break;case 30:break;case 21:break;default:br(r,t),Sr(t)}}function Sr(t){var r=t.flags;if(r&2){try{for(var l,s=t.return;s!==null;){if(Hh(s)){l=s;break}s=s.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,h=Bc(t);$o(t,h,d);break;case 5:var T=l.stateNode;l.flags&32&&(Fn(T,""),l.flags&=-33);var R=Bc(t);$o(t,R,T);break;case 3:case 4:var k=l.stateNode.containerInfo,it=Bc(t);jc(t,it,k);break;default:throw Error(i(161))}}catch(mt){pe(t,t.return,mt)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Fh(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Fh(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ua(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xh(t,r.alternate,r),r=r.sibling}function Tn(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ha(4,r,r.return),Tn(r);break;case 1:Jr(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Vh(r,r.return,l),Tn(r);break;case 27:Ol(r.stateNode);case 26:case 5:Jr(r,r.return),Tn(r);break;case 22:r.memoizedState===null&&Tn(r);break;case 30:Tn(r);break;default:Tn(r)}t=t.sibling}}function ka(t,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var s=r.alternate,d=t,h=r,T=h.flags;switch(h.tag){case 0:case 11:case 15:ka(d,h,l),bl(4,h);break;case 1:if(ka(d,h,l),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(it){pe(s,s.return,it)}if(s=h,d=s.updateQueue,d!==null){var R=s.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Cp(k[d],R)}catch(it){pe(s,s.return,it)}}l&&T&64&&Lh(h),Sl(h,h.return);break;case 27:Uh(h);case 26:case 5:ka(d,h,l),l&&s===null&&T&4&&Gh(h),Sl(h,h.return);break;case 12:ka(d,h,l);break;case 13:ka(d,h,l),l&&T&4&&Yh(d,h);break;case 22:h.memoizedState===null&&ka(d,h,l),Sl(h,h.return);break;case 30:break;default:ka(d,h,l)}r=r.sibling}}function Gc(t,r){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&il(l))}function Hc(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t))}function $r(t,r,l,s){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Kh(t,r,l,s),r=r.sibling}function Kh(t,r,l,s){var d=r.flags;switch(r.tag){case 0:case 11:case 15:$r(t,r,l,s),d&2048&&bl(9,r);break;case 1:$r(t,r,l,s);break;case 3:$r(t,r,l,s),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&il(t)));break;case 12:if(d&2048){$r(t,r,l,s),t=r.stateNode;try{var h=r.memoizedProps,T=h.id,R=h.onPostCommit;typeof R=="function"&&R(T,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){pe(r,r.return,k)}}else $r(t,r,l,s);break;case 13:$r(t,r,l,s);break;case 23:break;case 22:h=r.stateNode,T=r.alternate,r.memoizedState!==null?h._visibility&2?$r(t,r,l,s):xl(t,r):h._visibility&2?$r(t,r,l,s):(h._visibility|=2,di(t,r,l,s,(r.subtreeFlags&10256)!==0)),d&2048&&Gc(T,r);break;case 24:$r(t,r,l,s),d&2048&&Hc(r.alternate,r);break;default:$r(t,r,l,s)}}function di(t,r,l,s,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var h=t,T=r,R=l,k=s,it=T.flags;switch(T.tag){case 0:case 11:case 15:di(h,T,R,k,d),bl(8,T);break;case 23:break;case 22:var mt=T.stateNode;T.memoizedState!==null?mt._visibility&2?di(h,T,R,k,d):xl(h,T):(mt._visibility|=2,di(h,T,R,k,d)),d&&it&2048&&Gc(T.alternate,T);break;case 24:di(h,T,R,k,d),d&&it&2048&&Hc(T.alternate,T);break;default:di(h,T,R,k,d)}r=r.sibling}}function xl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=t,s=r,d=s.flags;switch(s.tag){case 22:xl(l,s),d&2048&&Gc(s.alternate,s);break;case 24:xl(l,s),d&2048&&Hc(s.alternate,s);break;default:xl(l,s)}r=r.sibling}}var Cl=8192;function vi(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)Wh(t),t=t.sibling}function Wh(t){switch(t.tag){case 26:vi(t),t.flags&Cl&&t.memoizedState!==null&&aS(kr,t.memoizedState,t.memoizedProps);break;case 5:vi(t);break;case 3:case 4:var r=kr;kr=ds(t.stateNode.containerInfo),vi(t),kr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,vi(t),Cl=r):vi(t));break;default:vi(t)}}function Zh(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Xe=s,Jh(s,t)}Zh(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(t),t=t.sibling}function Qh(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ha(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,ts(t)):El(t);break;default:El(t)}}function ts(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var s=r[l];Xe=s,Jh(s,t)}Zh(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ha(8,r,r.return),ts(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,ts(r));break;default:ts(r)}t=t.sibling}}function Jh(t,r){for(;Xe!==null;){var l=Xe;switch(l.tag){case 0:case 11:case 15:Ha(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:il(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Xe=s;else t:for(l=t;Xe!==null;){s=Xe;var d=s.sibling,h=s.return;if(qh(s),s===l){Xe=null;break t}if(d!==null){d.return=h,Xe=d;break t}Xe=h}}}var bb={getCacheForType:function(t){var r=Je(Le),l=r.data.get(t);return l===void 0&&(l=t(),r.data.set(t,l)),l}},Sb=typeof WeakMap=="function"?WeakMap:Map,le=0,he=null,Kt=null,Jt=0,oe=0,xr=null,Xa=!1,pi=!1,Uc=!1,xa=0,Ae=0,qa=0,An=0,kc=0,Br=0,hi=0,Tl=null,fr=null,Xc=!1,qc=0,es=1/0,rs=null,Ia=null,Fe=0,Ya=null,gi=null,mi=0,Ic=0,Yc=null,$h=null,Al=0,Pc=null;function Cr(){if((le&2)!==0&&Jt!==0)return Jt&-Jt;if(G.T!==null){var t=ni;return t!==0?t:$c()}return vo()}function tg(){Br===0&&(Br=(Jt&536870912)===0||ne?Ra():536870912);var t=Nr.current;return t!==null&&(t.flags|=32),Br}function Er(t,r,l){(t===he&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(yi(t,0),Pa(t,Jt,Br,!1)),Fr(t,l),((le&2)===0||t!==he)&&(t===he&&((le&2)===0&&(An|=l),Ae===4&&Pa(t,Jt,Br,!1)),ta(t))}function eg(t,r,l){if((le&6)!==0)throw Error(i(327));var s=!l&&(r&124)===0&&(r&t.expiredLanes)===0||oa(t,r),d=s?Eb(t,r):Wc(t,r,!0),h=s;do{if(d===0){pi&&!s&&Pa(t,r,0,!1);break}else{if(l=t.current.alternate,h&&!xb(l)){d=Wc(t,r,!1),h=!1;continue}if(d===2){if(h=r,t.errorRecoveryDisabledLanes&h)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var R=t;d=Tl;var k=R.current.memoizedState.isDehydrated;if(k&&(yi(R,T).flags|=256),T=Wc(R,T,!1),T!==2){if(Uc&&!k){R.errorRecoveryDisabledLanes|=h,An|=h,d=4;break t}h=fr,fr=d,h!==null&&(fr===null?fr=h:fr.push.apply(fr,h))}d=T}if(h=!1,d!==2)continue}}if(d===1){yi(t,0),Pa(t,r,0,!0);break}t:{switch(s=t,h=d,h){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:Pa(s,r,Br,!Xa);break t;case 2:fr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=qc+300-Vt(),10<d)){if(Pa(s,r,Br,!Xa),Oa(s,0,!0)!==0)break t;s.timeoutHandle=Rg(rg.bind(null,s,l,fr,rs,Xc,r,Br,An,hi,Xa,h,2,-0,0),d);break t}rg(s,l,fr,rs,Xc,r,Br,An,hi,Xa,h,0,-0,0)}}break}while(!0);ta(t)}function rg(t,r,l,s,d,h,T,R,k,it,mt,St,ot,st){if(t.timeoutHandle=-1,St=r.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:rS},Wh(r),St=nS(),St!==null)){t.cancelPendingCommit=St(ug.bind(null,t,r,h,l,s,d,T,R,k,mt,1,ot,st)),Pa(t,h,T,!it);return}ug(t,r,h,l,s,d,T,R,k)}function xb(t){for(var r=t;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],h=d.getSnapshot;d=d.value;try{if(!mr(h(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pa(t,r,l,s){r&=~kc,r&=~An,t.suspendedLanes|=r,t.pingedLanes&=~r,s&&(t.warmLanes|=r),s=t.expirationTimes;for(var d=r;0<d;){var h=31-je(d),T=1<<h;s[h]=-1,d&=~T}l!==0&&Xn(t,l,r)}function as(){return(le&6)===0?(wl(0),!1):!0}function Fc(){if(Kt!==null){if(oe===0)var t=Kt.return;else t=Kt,va=bn=null,cc(t),ci=null,gl=0,t=Kt;for(;t!==null;)jh(t.alternate,t),t=t.return;Kt=null}}function yi(t,r){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Hb(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Fc(),he=t,Kt=l=ca(t.current,null),Jt=r,oe=0,xr=null,Xa=!1,pi=oa(t,r),Uc=!1,hi=Br=kc=An=qa=Ae=0,fr=Tl=null,Xc=!1,(r&8)!==0&&(r|=r&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=r;0<s;){var d=31-je(s),h=1<<d;r|=t[d],s&=~h}return xa=r,Ao(),l}function ag(t,r){Pt=null,G.H=Io,r===ol||r===Bo?(r=Sp(),oe=3):r===mp?(r=Sp(),oe=4):oe=r===xh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xr=r,Kt===null&&(Ae=1,Wo(t,Or(r,t.current)))}function ng(){var t=G.H;return G.H=Io,t===null?Io:t}function ig(){var t=G.A;return G.A=bb,t}function Kc(){Ae=4,Xa||(Jt&4194048)!==Jt&&Nr.current!==null||(pi=!0),(qa&134217727)===0&&(An&134217727)===0||he===null||Pa(he,Jt,Br,!1)}function Wc(t,r,l){var s=le;le|=2;var d=ng(),h=ig();(he!==t||Jt!==r)&&(rs=null,yi(t,r)),r=!1;var T=Ae;t:do try{if(oe!==0&&Kt!==null){var R=Kt,k=xr;switch(oe){case 8:Fc(),T=6;break t;case 3:case 2:case 9:case 6:Nr.current===null&&(r=!0);var it=oe;if(oe=0,xr=null,bi(t,R,k,it),l&&pi){T=0;break t}break;default:it=oe,oe=0,xr=null,bi(t,R,k,it)}}Cb(),T=Ae;break}catch(mt){ag(t,mt)}while(!0);return r&&t.shellSuspendCounter++,va=bn=null,le=s,G.H=d,G.A=h,Kt===null&&(he=null,Jt=0,Ao()),T}function Cb(){for(;Kt!==null;)lg(Kt)}function Eb(t,r){var l=le;le|=2;var s=ng(),d=ig();he!==t||Jt!==r?(rs=null,es=Vt()+500,yi(t,r)):pi=oa(t,r);t:do try{if(oe!==0&&Kt!==null){r=Kt;var h=xr;e:switch(oe){case 1:oe=0,xr=null,bi(t,r,h,1);break;case 2:case 9:if(yp(h)){oe=0,xr=null,og(r);break}r=function(){oe!==2&&oe!==9||he!==t||(oe=7),ta(t)},h.then(r,r);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:yp(h)?(oe=0,xr=null,og(r)):(oe=0,xr=null,bi(t,r,h,7));break;case 5:var T=null;switch(Kt.tag){case 26:T=Kt.memoizedState;case 5:case 27:var R=Kt;if(!T||Xg(T)){oe=0,xr=null;var k=R.sibling;if(k!==null)Kt=k;else{var it=R.return;it!==null?(Kt=it,ns(it)):Kt=null}break e}}oe=0,xr=null,bi(t,r,h,5);break;case 6:oe=0,xr=null,bi(t,r,h,6);break;case 8:Fc(),Ae=6;break t;default:throw Error(i(462))}}Tb();break}catch(mt){ag(t,mt)}while(!0);return va=bn=null,G.H=s,G.A=d,le=l,Kt!==null?0:(he=null,Jt=0,Ao(),Ae)}function Tb(){for(;Kt!==null&&!Ct();)lg(Kt)}function lg(t){var r=Nh(t.alternate,t,xa);t.memoizedProps=t.pendingProps,r===null?ns(t):Kt=r}function og(t){var r=t,l=r.alternate;switch(r.tag){case 15:case 0:r=Mh(l,r,r.pendingProps,r.type,void 0,Jt);break;case 11:r=Mh(l,r,r.pendingProps,r.type.render,r.ref,Jt);break;case 5:cc(r);default:jh(l,r),r=Kt=sp(r,xa),r=Nh(l,r,xa)}t.memoizedProps=t.pendingProps,r===null?ns(t):Kt=r}function bi(t,r,l,s){va=bn=null,cc(r),ci=null,gl=0;var d=r.return;try{if(vb(t,d,r,l,Jt)){Ae=1,Wo(t,Or(l,t.current)),Kt=null;return}}catch(h){if(d!==null)throw Kt=d,h;Ae=1,Wo(t,Or(l,t.current)),Kt=null;return}r.flags&32768?(ne||s===1?t=!0:pi||(Jt&536870912)!==0?t=!1:(Xa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Nr.current,s!==null&&s.tag===13&&(s.flags|=16384))),sg(r,t)):ns(r)}function ns(t){var r=t;do{if((r.flags&32768)!==0){sg(r,Xa);return}t=r.return;var l=hb(r.alternate,r,xa);if(l!==null){Kt=l;return}if(r=r.sibling,r!==null){Kt=r;return}Kt=r=t}while(r!==null);Ae===0&&(Ae=5)}function sg(t,r){do{var l=gb(t.alternate,t);if(l!==null){l.flags&=32767,Kt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(t=t.sibling,t!==null)){Kt=t;return}Kt=t=l}while(t!==null);Ae=6,Kt=null}function ug(t,r,l,s,d,h,T,R,k){t.cancelPendingCommit=null;do is();while(Fe!==0);if((le&6)!==0)throw Error(i(327));if(r!==null){if(r===t.current)throw Error(i(177));if(h=r.lanes|r.childLanes,h|=Hu,kn(t,l,h,T,R,k),t===he&&(Kt=he=null,Jt=0),gi=r,Ya=t,mi=l,Ic=h,Yc=d,$h=s,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Db(Zt,function(){return pg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||s){s=G.T,G.T=null,d=Z.p,Z.p=2,T=le,le|=4;try{mb(t,r,l)}finally{le=T,Z.p=d,G.T=s}}Fe=1,cg(),fg(),dg()}}function cg(){if(Fe===1){Fe=0;var t=Ya,r=gi,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var s=Z.p;Z.p=2;var d=le;le|=4;try{Ph(r,t);var h=sf,T=Jv(t.containerInfo),R=h.focusedElem,k=h.selectionRange;if(T!==R&&R&&R.ownerDocument&&Qv(R.ownerDocument.documentElement,R)){if(k!==null&&Bu(R)){var it=k.start,mt=k.end;if(mt===void 0&&(mt=it),"selectionStart"in R)R.selectionStart=it,R.selectionEnd=Math.min(mt,R.value.length);else{var St=R.ownerDocument||document,ot=St&&St.defaultView||window;if(ot.getSelection){var st=ot.getSelection(),Gt=R.textContent.length,jt=Math.min(k.start,Gt),fe=k.end===void 0?jt:Math.min(k.end,Gt);!st.extend&&jt>fe&&(T=fe,fe=jt,jt=T);var $=Zv(R,jt),W=Zv(R,fe);if($&&W&&(st.rangeCount!==1||st.anchorNode!==$.node||st.anchorOffset!==$.offset||st.focusNode!==W.node||st.focusOffset!==W.offset)){var et=St.createRange();et.setStart($.node,$.offset),st.removeAllRanges(),jt>fe?(st.addRange(et),st.extend(W.node,W.offset)):(et.setEnd(W.node,W.offset),st.addRange(et))}}}}for(St=[],st=R;st=st.parentNode;)st.nodeType===1&&St.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<St.length;R++){var yt=St[R];yt.element.scrollLeft=yt.left,yt.element.scrollTop=yt.top}}ms=!!of,sf=of=null}finally{le=d,Z.p=s,G.T=l}}t.current=r,Fe=2}}function fg(){if(Fe===2){Fe=0;var t=Ya,r=gi,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var s=Z.p;Z.p=2;var d=le;le|=4;try{Xh(t,r.alternate,r)}finally{le=d,Z.p=s,G.T=l}}Fe=3}}function dg(){if(Fe===4||Fe===3){Fe=0,Mt();var t=Ya,r=gi,l=mi,s=$h;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,gi=Ya=null,vg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ia=null),Yi(l),r=r.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Qe,r,void 0,(r.current.flags&128)===128)}catch{}if(s!==null){r=G.T,d=Z.p,Z.p=2,G.T=null;try{for(var h=t.onRecoverableError,T=0;T<s.length;T++){var R=s[T];h(R.value,{componentStack:R.stack})}}finally{G.T=r,Z.p=d}}(mi&3)!==0&&is(),ta(t),d=t.pendingLanes,(l&4194090)!==0&&(d&42)!==0?t===Pc?Al++:(Al=0,Pc=t):Al=0,wl(0)}}function vg(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,il(r)))}function is(t){return cg(),fg(),dg(),pg()}function pg(){if(Fe!==5)return!1;var t=Ya,r=Ic;Ic=0;var l=Yi(mi),s=G.T,d=Z.p;try{Z.p=32>l?32:l,G.T=null,l=Yc,Yc=null;var h=Ya,T=mi;if(Fe=0,gi=Ya=null,mi=0,(le&6)!==0)throw Error(i(331));var R=le;if(le|=4,Qh(h.current),Kh(h,h.current,T,l),le=R,wl(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Qe,h)}catch{}return!0}finally{Z.p=d,G.T=s,vg(t,r)}}function hg(t,r,l){r=Or(l,r),r=Tc(t.stateNode,r,2),t=ja(t,r,2),t!==null&&(Fr(t,2),ta(t))}function pe(t,r,l){if(t.tag===3)hg(t,t,l);else for(;r!==null;){if(r.tag===3){hg(r,t,l);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ia===null||!Ia.has(s))){t=Or(l,t),l=bh(2),s=ja(r,l,2),s!==null&&(Sh(l,s,r,t),Fr(s,2),ta(s));break}}r=r.return}}function Zc(t,r,l){var s=t.pingCache;if(s===null){s=t.pingCache=new Sb;var d=new Set;s.set(r,d)}else d=s.get(r),d===void 0&&(d=new Set,s.set(r,d));d.has(l)||(Uc=!0,d.add(l),t=Ab.bind(null,t,r,l),r.then(t,t))}function Ab(t,r,l){var s=t.pingCache;s!==null&&s.delete(r),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,he===t&&(Jt&l)===l&&(Ae===4||Ae===3&&(Jt&62914560)===Jt&&300>Vt()-qc?(le&2)===0&&yi(t,0):kc|=l,hi===Jt&&(hi=0)),ta(t)}function gg(t,r){r===0&&(r=re()),t=ti(t,r),t!==null&&(Fr(t,r),ta(t))}function wb(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),gg(t,l)}function Mb(t,r){var l=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(r),gg(t,l)}function Db(t,r){return rt(t,r)}var ls=null,Si=null,Qc=!1,os=!1,Jc=!1,wn=0;function ta(t){t!==Si&&t.next===null&&(Si===null?ls=Si=t:Si=Si.next=t),os=!0,Qc||(Qc=!0,Rb())}function wl(t,r){if(!Jc&&os){Jc=!0;do for(var l=!1,s=ls;s!==null;){if(t!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var T=s.suspendedLanes,R=s.pingedLanes;h=(1<<31-je(42|t)+1)-1,h&=d&~(T&~R),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Sg(s,h))}else h=Jt,h=Oa(s,s===he?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||oa(s,h)||(l=!0,Sg(s,h));s=s.next}while(l);Jc=!1}}function Ob(){mg()}function mg(){os=Qc=!1;var t=0;wn!==0&&(Gb()&&(t=wn),wn=0);for(var r=Vt(),l=null,s=ls;s!==null;){var d=s.next,h=yg(s,r);h===0?(s.next=null,l===null?ls=d:l.next=d,d===null&&(Si=l)):(l=s,(t!==0||(h&3)!==0)&&(os=!0)),s=d}wl(t)}function yg(t,r){for(var l=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var T=31-je(h),R=1<<T,k=d[T];k===-1?((R&l)===0||(R&s)!==0)&&(d[T]=Un(R,r)):k<=r&&(t.expiredLanes|=R),h&=~R}if(r=he,l=Jt,l=Oa(t,t===r?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,l===0||t===r&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&ut(s),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||oa(t,l)){if(r=l&-l,r===t.callbackPriority)return r;switch(s!==null&&ut(s),Yi(l)){case 2:case 8:l=Ut;break;case 32:l=Zt;break;case 268435456:l=$t;break;default:l=Zt}return s=bg.bind(null,t),l=rt(l,s),t.callbackPriority=r,t.callbackNode=l,r}return s!==null&&s!==null&&ut(s),t.callbackPriority=2,t.callbackNode=null,2}function bg(t,r){if(Fe!==0&&Fe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(is()&&t.callbackNode!==l)return null;var s=Jt;return s=Oa(t,t===he?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(eg(t,s,r),yg(t,Vt()),t.callbackNode!=null&&t.callbackNode===l?bg.bind(null,t):null)}function Sg(t,r){if(is())return null;eg(t,r,!0)}function Rb(){Ub(function(){(le&6)!==0?rt(Ot,Ob):mg()})}function $c(){return wn===0&&(wn=Ra()),wn}function xg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:yo(""+t)}function Cg(t,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,t.id&&l.setAttribute("form",t.id),r.parentNode.insertBefore(l,r),t=new FormData(t),l.parentNode.removeChild(l),t}function _b(t,r,l,s,d){if(r==="submit"&&l&&l.stateNode===d){var h=xg((d[at]||null).action),T=s.submitter;T&&(r=(r=T[at]||null)?xg(r.formAction):T.getAttribute("formAction"),r!==null&&(h=r,T=null));var R=new Co("action","action",null,s,d);t.push({event:R,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(wn!==0){var k=T?Cg(d,T):new FormData(d);bc(l,{pending:!0,data:k,method:d.method,action:h},null,k)}}else typeof h=="function"&&(R.preventDefault(),k=T?Cg(d,T):new FormData(d),bc(l,{pending:!0,data:k,method:d.method,action:h},h,k))},currentTarget:d}]})}}for(var tf=0;tf<Gu.length;tf++){var ef=Gu[tf],zb=ef.toLowerCase(),Nb=ef[0].toUpperCase()+ef.slice(1);Ur(zb,"on"+Nb)}Ur(ep,"onAnimationEnd"),Ur(rp,"onAnimationIteration"),Ur(ap,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Zy,"onTransitionRun"),Ur(Qy,"onTransitionStart"),Ur(Jy,"onTransitionCancel"),Ur(np,"onTransitionEnd"),In("onMouseEnter",["mouseout","mouseover"]),In("onMouseLeave",["mouseout","mouseover"]),In("onPointerEnter",["pointerout","pointerover"]),In("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Eg(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var s=t[l],d=s.event;s=s.listeners;t:{var h=void 0;if(r)for(var T=s.length-1;0<=T;T--){var R=s[T],k=R.instance,it=R.currentTarget;if(R=R.listener,k!==h&&d.isPropagationStopped())break t;h=R,d.currentTarget=it;try{h(d)}catch(mt){Ko(mt)}d.currentTarget=null,h=k}else for(T=0;T<s.length;T++){if(R=s[T],k=R.instance,it=R.currentTarget,R=R.listener,k!==h&&d.isPropagationStopped())break t;h=R,d.currentTarget=it;try{h(d)}catch(mt){Ko(mt)}d.currentTarget=null,h=k}}}}function Wt(t,r){var l=r[Tt];l===void 0&&(l=r[Tt]=new Set);var s=t+"__bubble";l.has(s)||(Tg(r,t,2,!1),l.add(s))}function rf(t,r,l){var s=0;r&&(s|=4),Tg(l,t,s,r)}var ss="_reactListening"+Math.random().toString(36).slice(2);function af(t){if(!t[ss]){t[ss]=!0,mv.forEach(function(l){l!=="selectionchange"&&(Bb.has(l)||rf(l,!1,t),rf(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ss]||(r[ss]=!0,rf("selectionchange",!1,r))}}function Tg(t,r,l,s){switch(Kg(r)){case 2:var d=oS;break;case 8:d=sS;break;default:d=yf}l=d.bind(null,r,l,t),d=void 0,!Au||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(r,l,{capture:!0,passive:d}):t.addEventListener(r,l,!0):d!==void 0?t.addEventListener(r,l,{passive:d}):t.addEventListener(r,l,!1)}function nf(t,r,l,s,d){var h=s;if((r&1)===0&&(r&2)===0&&s!==null)t:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var R=s.stateNode.containerInfo;if(R===d)break;if(T===4)for(T=s.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;R!==null;){if(T=ie(R),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){s=h=T;continue t}R=R.parentNode}}s=s.return}_v(function(){var it=h,mt=Eu(l),St=[];t:{var ot=ip.get(t);if(ot!==void 0){var st=Co,Gt=t;switch(t){case"keypress":if(So(l)===0)break t;case"keydown":case"keyup":st=Dy;break;case"focusin":Gt="focus",st=Ou;break;case"focusout":Gt="blur",st=Ou;break;case"beforeblur":case"afterblur":st=Ou;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Bv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=_y;break;case ep:case rp:case ap:st=by;break;case np:st=Ny;break;case"scroll":case"scrollend":st=py;break;case"wheel":st=jy;break;case"copy":case"cut":case"paste":st=xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Lv;break;case"toggle":case"beforetoggle":st=Vy}var jt=(r&4)!==0,fe=!jt&&(t==="scroll"||t==="scrollend"),$=jt?ot!==null?ot+"Capture":null:ot;jt=[];for(var W=it,et;W!==null;){var yt=W;if(et=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||et===null||$===null||(yt=Pi(W,$),yt!=null&&jt.push(Dl(W,yt,et))),fe)break;W=W.return}0<jt.length&&(ot=new st(ot,Gt,null,l,mt),St.push({event:ot,listeners:jt}))}}if((r&7)===0){t:{if(ot=t==="mouseover"||t==="pointerover",st=t==="mouseout"||t==="pointerout",ot&&l!==Cu&&(Gt=l.relatedTarget||l.fromElement)&&(ie(Gt)||Gt[pt]))break t;if((st||ot)&&(ot=mt.window===mt?mt:(ot=mt.ownerDocument)?ot.defaultView||ot.parentWindow:window,st?(Gt=l.relatedTarget||l.toElement,st=it,Gt=Gt?ie(Gt):null,Gt!==null&&(fe=u(Gt),jt=Gt.tag,Gt!==fe||jt!==5&&jt!==27&&jt!==6)&&(Gt=null)):(st=null,Gt=it),st!==Gt)){if(jt=Bv,yt="onMouseLeave",$="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(jt=Lv,yt="onPointerLeave",$="onPointerEnter",W="pointer"),fe=st==null?ot:Ye(st),et=Gt==null?ot:Ye(Gt),ot=new jt(yt,W+"leave",st,l,mt),ot.target=fe,ot.relatedTarget=et,yt=null,ie(mt)===it&&(jt=new jt($,W+"enter",Gt,l,mt),jt.target=et,jt.relatedTarget=fe,yt=jt),fe=yt,st&&Gt)e:{for(jt=st,$=Gt,W=0,et=jt;et;et=xi(et))W++;for(et=0,yt=$;yt;yt=xi(yt))et++;for(;0<W-et;)jt=xi(jt),W--;for(;0<et-W;)$=xi($),et--;for(;W--;){if(jt===$||$!==null&&jt===$.alternate)break e;jt=xi(jt),$=xi($)}jt=null}else jt=null;st!==null&&Ag(St,ot,st,jt,!1),Gt!==null&&fe!==null&&Ag(St,fe,Gt,jt,!0)}}t:{if(ot=it?Ye(it):window,st=ot.nodeName&&ot.nodeName.toLowerCase(),st==="select"||st==="input"&&ot.type==="file")var Dt=Iv;else if(Xv(ot))if(Yv)Dt=Fy;else{Dt=Yy;var Ft=Iy}else st=ot.nodeName,!st||st.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?it&&xu(it.elementType)&&(Dt=Iv):Dt=Py;if(Dt&&(Dt=Dt(t,it))){qv(St,Dt,l,mt);break t}Ft&&Ft(t,ot,it),t==="focusout"&&it&&ot.type==="number"&&it.memoizedProps.value!=null&&Su(ot,"number",ot.value)}switch(Ft=it?Ye(it):window,t){case"focusin":(Xv(Ft)||Ft.contentEditable==="true")&&(Qn=Ft,ju=it,tl=null);break;case"focusout":tl=ju=Qn=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,$v(St,l,mt);break;case"selectionchange":if(Wy)break;case"keydown":case"keyup":$v(St,l,mt)}var _t;if(_u)t:{switch(t){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Zn?Uv(t,l)&&(Lt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Lt="onCompositionStart");Lt&&(Vv&&l.locale!=="ko"&&(Zn||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Zn&&(_t=zv()):(_a=mt,wu="value"in _a?_a.value:_a.textContent,Zn=!0)),Ft=us(it,Lt),0<Ft.length&&(Lt=new jv(Lt,t,null,l,mt),St.push({event:Lt,listeners:Ft}),_t?Lt.data=_t:(_t=kv(l),_t!==null&&(Lt.data=_t)))),(_t=Hy?Uy(t,l):ky(t,l))&&(Lt=us(it,"onBeforeInput"),0<Lt.length&&(Ft=new jv("onBeforeInput","beforeinput",null,l,mt),St.push({event:Ft,listeners:Lt}),Ft.data=_t)),_b(St,t,it,l,mt)}Eg(St,r)})}function Dl(t,r,l){return{instance:t,listener:r,currentTarget:l}}function us(t,r){for(var l=r+"Capture",s=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Pi(t,l),d!=null&&s.unshift(Dl(t,d,h)),d=Pi(t,r),d!=null&&s.push(Dl(t,d,h))),t.tag===3)return s;t=t.return}return[]}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ag(t,r,l,s,d){for(var h=r._reactName,T=[];l!==null&&l!==s;){var R=l,k=R.alternate,it=R.stateNode;if(R=R.tag,k!==null&&k===s)break;R!==5&&R!==26&&R!==27||it===null||(k=it,d?(it=Pi(l,h),it!=null&&T.unshift(Dl(l,it,k))):d||(it=Pi(l,h),it!=null&&T.push(Dl(l,it,k)))),l=l.return}T.length!==0&&t.push({event:r,listeners:T})}var jb=/\r\n?/g,Lb=/\u0000|\uFFFD/g;function wg(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Lb,"")}function Mg(t,r){return r=wg(r),wg(t)===r}function cs(){}function ce(t,r,l,s,d,h){switch(l){case"children":typeof s=="string"?r==="body"||r==="textarea"&&s===""||Fn(t,s):(typeof s=="number"||typeof s=="bigint")&&r!=="body"&&Fn(t,""+s);break;case"className":ho(t,"class",s);break;case"tabIndex":ho(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(t,l,s);break;case"style":Ov(t,s,h);break;case"data":if(r!=="object"){ho(t,"data",s);break}case"src":case"href":if(s===""&&(r!=="a"||l!=="href")){t.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=yo(""+s),t.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(r!=="input"&&ce(t,r,"name",d.name,d,null),ce(t,r,"formEncType",d.formEncType,d,null),ce(t,r,"formMethod",d.formMethod,d,null),ce(t,r,"formTarget",d.formTarget,d,null)):(ce(t,r,"encType",d.encType,d,null),ce(t,r,"method",d.method,d,null),ce(t,r,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=yo(""+s),t.setAttribute(l,s);break;case"onClick":s!=null&&(t.onclick=cs);break;case"onScroll":s!=null&&Wt("scroll",t);break;case"onScrollEnd":s!=null&&Wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}l=yo(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""+s):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":s===!0?t.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,s):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(l,s):t.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(l):t.setAttribute(l,s);break;case"popover":Wt("beforetoggle",t),Wt("toggle",t),po(t,"popover",s);break;case"xlinkActuate":sa(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":sa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":sa(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":sa(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":sa(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":sa(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":sa(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":sa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":sa(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":po(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=dy.get(l)||l,po(t,l,s))}}function lf(t,r,l,s,d,h){switch(l){case"style":Ov(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof s=="string"?Fn(t,s):(typeof s=="number"||typeof s=="bigint")&&Fn(t,""+s);break;case"onScroll":s!=null&&Wt("scroll",t);break;case"onScrollEnd":s!=null&&Wt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=cs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yv.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),h=t[at]||null,h=h!=null?h[l]:null,typeof h=="function"&&t.removeEventListener(r,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(r,s,d);break t}l in t?t[l]=s:s===!0?t.setAttribute(l,""):po(t,l,s)}}}function Ke(t,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",t),Wt("load",t);var s=!1,d=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ce(t,r,h,T,l,null)}}d&&ce(t,r,"srcSet",l.srcSet,l,null),s&&ce(t,r,"src",l.src,l,null);return;case"input":Wt("invalid",t);var R=h=T=d=null,k=null,it=null;for(s in l)if(l.hasOwnProperty(s)){var mt=l[s];if(mt!=null)switch(s){case"name":d=mt;break;case"type":T=mt;break;case"checked":k=mt;break;case"defaultChecked":it=mt;break;case"value":h=mt;break;case"defaultValue":R=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(i(137,r));break;default:ce(t,r,s,mt,l,null)}}Av(t,h,R,k,it,T,d,!1),go(t);return;case"select":Wt("invalid",t),s=T=h=null;for(d in l)if(l.hasOwnProperty(d)&&(R=l[d],R!=null))switch(d){case"value":h=R;break;case"defaultValue":T=R;break;case"multiple":s=R;default:ce(t,r,d,R,l,null)}r=h,l=T,t.multiple=!!s,r!=null?Pn(t,!!s,r,!1):l!=null&&Pn(t,!!s,l,!0);return;case"textarea":Wt("invalid",t),h=d=s=null;for(T in l)if(l.hasOwnProperty(T)&&(R=l[T],R!=null))switch(T){case"value":s=R;break;case"defaultValue":d=R;break;case"children":h=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ce(t,r,T,R,l,null)}Mv(t,s,d,h),go(t);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(s=l[k],s!=null))switch(k){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ce(t,r,k,s,l,null)}return;case"dialog":Wt("beforetoggle",t),Wt("toggle",t),Wt("cancel",t),Wt("close",t);break;case"iframe":case"object":Wt("load",t);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Wt(Ml[s],t);break;case"image":Wt("error",t),Wt("load",t);break;case"details":Wt("toggle",t);break;case"embed":case"source":case"link":Wt("error",t),Wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in l)if(l.hasOwnProperty(it)&&(s=l[it],s!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ce(t,r,it,s,l,null)}return;default:if(xu(r)){for(mt in l)l.hasOwnProperty(mt)&&(s=l[mt],s!==void 0&&lf(t,r,mt,s,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(s=l[R],s!=null&&ce(t,r,R,s,l,null))}function Vb(t,r,l,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,T=null,R=null,k=null,it=null,mt=null;for(st in l){var St=l[st];if(l.hasOwnProperty(st)&&St!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":k=St;default:s.hasOwnProperty(st)||ce(t,r,st,null,s,St)}}for(var ot in s){var st=s[ot];if(St=l[ot],s.hasOwnProperty(ot)&&(st!=null||St!=null))switch(ot){case"type":h=st;break;case"name":d=st;break;case"checked":it=st;break;case"defaultChecked":mt=st;break;case"value":T=st;break;case"defaultValue":R=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,r));break;default:st!==St&&ce(t,r,ot,st,s,St)}}bu(t,T,R,k,it,mt,h,d);return;case"select":st=T=R=ot=null;for(h in l)if(k=l[h],l.hasOwnProperty(h)&&k!=null)switch(h){case"value":break;case"multiple":st=k;default:s.hasOwnProperty(h)||ce(t,r,h,null,s,k)}for(d in s)if(h=s[d],k=l[d],s.hasOwnProperty(d)&&(h!=null||k!=null))switch(d){case"value":ot=h;break;case"defaultValue":R=h;break;case"multiple":T=h;default:h!==k&&ce(t,r,d,h,s,k)}r=R,l=T,s=st,ot!=null?Pn(t,!!l,ot,!1):!!s!=!!l&&(r!=null?Pn(t,!!l,r,!0):Pn(t,!!l,l?[]:"",!1));return;case"textarea":st=ot=null;for(R in l)if(d=l[R],l.hasOwnProperty(R)&&d!=null&&!s.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ce(t,r,R,null,s,d)}for(T in s)if(d=s[T],h=l[T],s.hasOwnProperty(T)&&(d!=null||h!=null))switch(T){case"value":ot=d;break;case"defaultValue":st=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==h&&ce(t,r,T,d,s,h)}wv(t,ot,st);return;case"option":for(var Gt in l)if(ot=l[Gt],l.hasOwnProperty(Gt)&&ot!=null&&!s.hasOwnProperty(Gt))switch(Gt){case"selected":t.selected=!1;break;default:ce(t,r,Gt,null,s,ot)}for(k in s)if(ot=s[k],st=l[k],s.hasOwnProperty(k)&&ot!==st&&(ot!=null||st!=null))switch(k){case"selected":t.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:ce(t,r,k,ot,s,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in l)ot=l[jt],l.hasOwnProperty(jt)&&ot!=null&&!s.hasOwnProperty(jt)&&ce(t,r,jt,null,s,ot);for(it in s)if(ot=s[it],st=l[it],s.hasOwnProperty(it)&&ot!==st&&(ot!=null||st!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,r));break;default:ce(t,r,it,ot,s,st)}return;default:if(xu(r)){for(var fe in l)ot=l[fe],l.hasOwnProperty(fe)&&ot!==void 0&&!s.hasOwnProperty(fe)&&lf(t,r,fe,void 0,s,ot);for(mt in s)ot=s[mt],st=l[mt],!s.hasOwnProperty(mt)||ot===st||ot===void 0&&st===void 0||lf(t,r,mt,ot,s,st);return}}for(var $ in l)ot=l[$],l.hasOwnProperty($)&&ot!=null&&!s.hasOwnProperty($)&&ce(t,r,$,null,s,ot);for(St in s)ot=s[St],st=l[St],!s.hasOwnProperty(St)||ot===st||ot==null&&st==null||ce(t,r,St,ot,s,st)}var of=null,sf=null;function fs(t){return t.nodeType===9?t:t.ownerDocument}function Dg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Og(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function uf(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cf=null;function Gb(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Rg=typeof setTimeout=="function"?setTimeout:void 0,Hb=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(t){return _g.resolve(null).then(t).catch(kb)}:Rg;function kb(t){setTimeout(function(){throw t})}function Fa(t){return t==="head"}function zg(t,r){var l=r,s=0,d=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(0<s&&8>s){l=s;var T=t.ownerDocument;if(l&1&&Ol(T.documentElement),l&2&&Ol(T.body),l&4)for(l=T.head,Ol(l),T=l.firstChild;T;){var R=T.nextSibling,k=T.nodeName;T[It]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=R}}if(d===0){t.removeChild(h),Vl(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:s=l.charCodeAt(0)-48;else s=0;l=h}while(l);Vl(r)}function ff(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ff(l),Qt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function Xb(t,r,l,s){for(;t.nodeType===1;){var d=l;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[It])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Xr(t.nextSibling),t===null)break}return null}function qb(t,r,l){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Xr(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ib(t,r){var l=t.ownerDocument;if(t.data!=="$?"||l.readyState==="complete")r();else{var s=function(){r(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Xr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var vf=null;function Ng(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}function Bg(t,r,l){switch(r=fs(l),t){case"html":if(t=r.documentElement,!t)throw Error(i(452));return t;case"head":if(t=r.head,!t)throw Error(i(453));return t;case"body":if(t=r.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Qt(t)}var jr=new Map,jg=new Set;function ds(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ca=Z.d;Z.d={f:Yb,r:Pb,D:Fb,C:Kb,L:Wb,m:Zb,X:Jb,S:Qb,M:$b};function Yb(){var t=Ca.f(),r=as();return t||r}function Pb(t){var r=ae(t);r!==null&&r.tag===5&&r.type==="form"?eh(r):Ca.r(t)}var Ci=typeof document>"u"?null:document;function Lg(t,r,l){var s=Ci;if(s&&typeof r=="string"&&r){var d=Dr(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),jg.has(d)||(jg.add(d),t={rel:t,crossOrigin:l,href:r},s.querySelector(d)===null&&(r=s.createElement("link"),Ke(r,"link",t),we(r),s.head.appendChild(r)))}}function Fb(t){Ca.D(t),Lg("dns-prefetch",t,null)}function Kb(t,r){Ca.C(t,r),Lg("preconnect",t,r)}function Wb(t,r,l){Ca.L(t,r,l);var s=Ci;if(s&&t&&r){var d='link[rel="preload"][as="'+Dr(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Dr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Dr(l.imageSizes)+'"]')):d+='[href="'+Dr(t)+'"]';var h=d;switch(r){case"style":h=Ei(t);break;case"script":h=Ti(t)}jr.has(h)||(t=g({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:t,as:r},l),jr.set(h,t),s.querySelector(d)!==null||r==="style"&&s.querySelector(Rl(h))||r==="script"&&s.querySelector(_l(h))||(r=s.createElement("link"),Ke(r,"link",t),we(r),s.head.appendChild(r)))}}function Zb(t,r){Ca.m(t,r);var l=Ci;if(l&&t){var s=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Dr(s)+'"][href="'+Dr(t)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ti(t)}if(!jr.has(h)&&(t=g({rel:"modulepreload",href:t},r),jr.set(h,t),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_l(h)))return}s=l.createElement("link"),Ke(s,"link",t),we(s),l.head.appendChild(s)}}}function Qb(t,r,l){Ca.S(t,r,l);var s=Ci;if(s&&t){var d=gr(s).hoistableStyles,h=Ei(t);r=r||"default";var T=d.get(h);if(!T){var R={loading:0,preload:null};if(T=s.querySelector(Rl(h)))R.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":r},l),(l=jr.get(h))&&pf(t,l);var k=T=s.createElement("link");we(k),Ke(k,"link",t),k._p=new Promise(function(it,mt){k.onload=it,k.onerror=mt}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,vs(T,r,s)}T={type:"stylesheet",instance:T,count:1,state:R},d.set(h,T)}}}function Jb(t,r){Ca.X(t,r);var l=Ci;if(l&&t){var s=gr(l).hoistableScripts,d=Ti(t),h=s.get(d);h||(h=l.querySelector(_l(d)),h||(t=g({src:t,async:!0},r),(r=jr.get(d))&&hf(t,r),h=l.createElement("script"),we(h),Ke(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function $b(t,r){Ca.M(t,r);var l=Ci;if(l&&t){var s=gr(l).hoistableScripts,d=Ti(t),h=s.get(d);h||(h=l.querySelector(_l(d)),h||(t=g({src:t,async:!0,type:"module"},r),(r=jr.get(d))&&hf(t,r),h=l.createElement("script"),we(h),Ke(h,"link",t),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Vg(t,r,l,s){var d=(d=L.current)?ds(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ei(l.href),l=gr(d).hoistableStyles,s=l.get(r),s||(s={type:"style",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Ei(l.href);var h=gr(d).hoistableStyles,T=h.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,T),(h=d.querySelector(Rl(t)))&&!h._p&&(T.instance=h,T.state.loading=5),jr.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jr.set(t,l),h||tS(d,t,l,T.state))),r&&s===null)throw Error(i(528,""));return T}if(r&&s!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ti(l),l=gr(d).hoistableScripts,s=l.get(r),s||(s={type:"script",instance:null,count:0,state:null},l.set(r,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function Ei(t){return'href="'+Dr(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function Gg(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function tS(t,r,l,s){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?s.loading=1:(r=t.createElement("link"),s.preload=r,r.addEventListener("load",function(){return s.loading|=1}),r.addEventListener("error",function(){return s.loading|=2}),Ke(r,"link",l),we(r),t.head.appendChild(r))}function Ti(t){return'[src="'+Dr(t)+'"]'}function _l(t){return"script[async]"+t}function Hg(t,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var s=t.querySelector('style[data-href~="'+Dr(l.href)+'"]');if(s)return r.instance=s,we(s),s;var d=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),we(s),Ke(s,"style",d),vs(s,l.precedence,t),r.instance=s;case"stylesheet":d=Ei(l.href);var h=t.querySelector(Rl(d));if(h)return r.state.loading|=4,r.instance=h,we(h),h;s=Gg(l),(d=jr.get(d))&&pf(s,d),h=(t.ownerDocument||t).createElement("link"),we(h);var T=h;return T._p=new Promise(function(R,k){T.onload=R,T.onerror=k}),Ke(h,"link",s),r.state.loading|=4,vs(h,l.precedence,t),r.instance=h;case"script":return h=Ti(l.src),(d=t.querySelector(_l(h)))?(r.instance=d,we(d),d):(s=l,(d=jr.get(h))&&(s=g({},l),hf(s,d)),t=t.ownerDocument||t,d=t.createElement("script"),we(d),Ke(d,"link",s),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(s=r.instance,r.state.loading|=4,vs(s,l.precedence,t));return r.instance}function vs(t,r,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,T=0;T<s.length;T++){var R=s[T];if(R.dataset.precedence===r)h=R;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(t,r.firstChild))}function pf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function hf(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var ps=null;function Ug(t,r,l){if(ps===null){var s=new Map,d=ps=new Map;d.set(l,s)}else d=ps,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(t))return s;for(s.set(t,null),l=l.getElementsByTagName(t),d=0;d<l.length;d++){var h=l[d];if(!(h[It]||h[Ue]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(r)||"";T=t+T;var R=s.get(T);R?R.push(h):s.set(T,[h])}}return s}function kg(t,r,l){t=t.ownerDocument||t,t.head.insertBefore(l,r==="title"?t.querySelector("head > title"):null)}function eS(t,r,l){if(l===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Xg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function rS(){}function aS(t,r,l){if(zl===null)throw Error(i(475));var s=zl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Ei(l.href),h=t.querySelector(Rl(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=hs.bind(s),t.then(s,s)),r.state.loading|=4,r.instance=h,we(h);return}h=t.ownerDocument||t,l=Gg(l),(d=jr.get(d))&&pf(l,d),h=h.createElement("link"),we(h);var T=h;T._p=new Promise(function(R,k){T.onload=R,T.onerror=k}),Ke(h,"link",l),r.instance=h}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(s.count++,r=hs.bind(s),t.addEventListener("load",r),t.addEventListener("error",r))}}function nS(){if(zl===null)throw Error(i(475));var t=zl;return t.stylesheets&&t.count===0&&gf(t,t.stylesheets),0<t.count?function(r){var l=setTimeout(function(){if(t.stylesheets&&gf(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l)}}:null}function hs(){if(this.count--,this.count===0){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gs=null;function gf(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gs=new Map,r.forEach(iS,t),gs=null,hs.call(t))}function iS(t,r){if(!(r.state.loading&4)){var l=gs.get(t);if(l)var s=l.get(null);else{l=new Map,gs.set(t,l);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var T=d[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}d=r.instance,T=d.getAttribute("data-precedence"),h=l.get(T)||s,h===s&&l.set(null,d),l.set(T,d),this.count++,s=hs.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:M,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function lS(t,r,l,s,d,h,T,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function qg(t,r,l,s,d,h,T,R,k,it,mt,St){return t=new lS(t,r,l,T,R,k,it,St),r=1,h===!0&&(r|=24),h=yr(3,null,null,r),t.current=h,h.stateNode=t,r=Zu(),r.refCount++,t.pooledCache=r,r.refCount++,h.memoizedState={element:s,isDehydrated:l,cache:r},tc(h),t}function Ig(t){return t?(t=ei,t):ei}function Yg(t,r,l,s,d,h){d=Ig(d),s.context===null?s.context=d:s.pendingContext=d,s=Ba(r),s.payload={element:l},h=h===void 0?null:h,h!==null&&(s.callback=h),l=ja(t,s,r),l!==null&&(Er(l,t,r),ul(l,t,r))}function Pg(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function mf(t,r){Pg(t,r),(t=t.alternate)&&Pg(t,r)}function Fg(t){if(t.tag===13){var r=ti(t,67108864);r!==null&&Er(r,t,67108864),mf(t,67108864)}}var ms=!0;function oS(t,r,l,s){var d=G.T;G.T=null;var h=Z.p;try{Z.p=2,yf(t,r,l,s)}finally{Z.p=h,G.T=d}}function sS(t,r,l,s){var d=G.T;G.T=null;var h=Z.p;try{Z.p=8,yf(t,r,l,s)}finally{Z.p=h,G.T=d}}function yf(t,r,l,s){if(ms){var d=bf(s);if(d===null)nf(t,r,s,ys,l),Wg(t,s);else if(cS(d,t,r,l,s))s.stopPropagation();else if(Wg(t,s),r&4&&-1<uS.indexOf(t)){for(;d!==null;){var h=ae(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=hr(h.pendingLanes);if(T!==0){var R=h;for(R.pendingLanes|=2,R.entangledLanes|=2;T;){var k=1<<31-je(T);R.entanglements[1]|=k,T&=~k}ta(h),(le&6)===0&&(es=Vt()+500,wl(0))}}break;case 13:R=ti(h,2),R!==null&&Er(R,h,2),as(),mf(h,2)}if(h=bf(s),h===null&&nf(t,r,s,ys,l),h===d)break;d=h}d!==null&&s.stopPropagation()}else nf(t,r,s,null,l)}}function bf(t){return t=Eu(t),Sf(t)}var ys=null;function Sf(t){if(ys=null,t=ie(t),t!==null){var r=u(t);if(r===null)t=null;else{var l=r.tag;if(l===13){if(t=c(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ys=t,null}function Kg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case Ot:return 2;case Ut:return 8;case Zt:case Yt:return 32;case $t:return 268435456;default:return 32}default:return 32}}var xf=!1,Ka=null,Wa=null,Za=null,Bl=new Map,jl=new Map,Qa=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wg(t,r){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Ll(t,r,l,s,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:l,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},r!==null&&(r=ae(r),r!==null&&Fg(r)),t):(t.eventSystemFlags|=s,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function cS(t,r,l,s,d){switch(r){case"focusin":return Ka=Ll(Ka,t,r,l,s,d),!0;case"dragenter":return Wa=Ll(Wa,t,r,l,s,d),!0;case"mouseover":return Za=Ll(Za,t,r,l,s,d),!0;case"pointerover":var h=d.pointerId;return Bl.set(h,Ll(Bl.get(h)||null,t,r,l,s,d)),!0;case"gotpointercapture":return h=d.pointerId,jl.set(h,Ll(jl.get(h)||null,t,r,l,s,d)),!0}return!1}function Zg(t){var r=ie(t.target);if(r!==null){var l=u(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){t.blockedOn=r,hu(t.priority,function(){if(l.tag===13){var s=Cr();s=qn(s);var d=ti(l,s);d!==null&&Er(d,l,s),mf(l,s)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bs(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=bf(t.nativeEvent);if(l===null){l=t.nativeEvent;var s=new l.constructor(l.type,l);Cu=s,l.target.dispatchEvent(s),Cu=null}else return r=ae(l),r!==null&&Fg(r),t.blockedOn=l,!1;r.shift()}return!0}function Qg(t,r,l){bs(t)&&l.delete(r)}function fS(){xf=!1,Ka!==null&&bs(Ka)&&(Ka=null),Wa!==null&&bs(Wa)&&(Wa=null),Za!==null&&bs(Za)&&(Za=null),Bl.forEach(Qg),jl.forEach(Qg)}function Ss(t,r){t.blockedOn===r&&(t.blockedOn=null,xf||(xf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fS)))}var xs=null;function Jg(t){xs!==t&&(xs=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xs===t&&(xs=null);for(var r=0;r<t.length;r+=3){var l=t[r],s=t[r+1],d=t[r+2];if(typeof s!="function"){if(Sf(s||l)===null)continue;break}var h=ae(l);h!==null&&(t.splice(r,3),r-=3,bc(h,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Vl(t){function r(k){return Ss(k,t)}Ka!==null&&Ss(Ka,t),Wa!==null&&Ss(Wa,t),Za!==null&&Ss(Za,t),Bl.forEach(r),jl.forEach(r);for(var l=0;l<Qa.length;l++){var s=Qa[l];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Qa.length&&(l=Qa[0],l.blockedOn===null);)Zg(l),l.blockedOn===null&&Qa.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],h=l[s+1],T=d[at]||null;if(typeof h=="function")T||Jg(l);else if(T){var R=null;if(h&&h.hasAttribute("formAction")){if(d=h,T=h[at]||null)R=T.formAction;else if(Sf(d)!==null)continue}else R=T.action;typeof R=="function"?l[s+1]=R:(l.splice(s,3),s-=3),Jg(l)}}}function Cf(t){this._internalRoot=t}Cs.prototype.render=Cf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,s=Cr();Yg(l,s,t,r,null,null)},Cs.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Yg(t.current,2,null,t,null,null),as(),r[pt]=null}};function Cs(t){this._internalRoot=t}Cs.prototype.unstable_scheduleHydration=function(t){if(t){var r=vo();t={blockedOn:null,target:t,priority:r};for(var l=0;l<Qa.length&&r!==0&&r<Qa[l].priority;l++);Qa.splice(l,0,t),l===0&&Zg(t)}};var $g=a.version;if($g!=="19.1.0")throw Error(i(527,$g,"19.1.0"));Z.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(r),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var dS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Qe=Es.inject(dS),be=Es}catch{}}return Hl.createRoot=function(t,r){if(!o(t))throw Error(i(299));var l=!1,s="",d=hh,h=gh,T=mh,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=qg(t,1,!1,null,null,l,s,d,h,T,R,null),t[pt]=r.current,af(t),new Cf(r)},Hl.hydrateRoot=function(t,r,l){if(!o(t))throw Error(i(299));var s=!1,d="",h=hh,T=gh,R=mh,k=null,it=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(it=l.formState)),r=qg(t,1,!0,r,l??null,s,d,h,T,R,k,it),r.context=Ig(null),l=r.current,s=Cr(),s=qn(s),d=Ba(s),d.callback=null,ja(l,d,s),l=s,r.current.lanes=l,Fr(r,l),ta(r),t[pt]=r.current,af(t),new Cs(r)},Hl.version="19.1.0",Hl}var u0;function ES(){if(u0)return Af.exports;u0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(a){console.error(a)}}return e(),Af.exports=CS(),Af.exports}var TS=ES();const Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).slice(1));function AS(e,a=0){return(Ze[e[a+0]]+Ze[e[a+1]]+Ze[e[a+2]]+Ze[e[a+3]]+"-"+Ze[e[a+4]]+Ze[e[a+5]]+"-"+Ze[e[a+6]]+Ze[e[a+7]]+"-"+Ze[e[a+8]]+Ze[e[a+9]]+"-"+Ze[e[a+10]]+Ze[e[a+11]]+Ze[e[a+12]]+Ze[e[a+13]]+Ze[e[a+14]]+Ze[e[a+15]]).toLowerCase()}let Of;const wS=new Uint8Array(16);function MS(){if(!Of){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Of=crypto.getRandomValues.bind(crypto)}return Of(wS)}const DS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),c0={randomUUID:DS};function Ea(e,a,n){var o;if(c0.randomUUID&&!e)return c0.randomUUID();e=e||{};const i=e.random??((o=e.rng)==null?void 0:o.call(e))??MS();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,AS(i)}function zd(e,a){for(var n=e.length,i=0;i<n;++i)if(a(e[i],i))return!0;return!1}function vm(e,a){for(var n=e.length,i=0;i<n;++i)if(a(e[i],i))return e[i];return null}function pm(e){var a=e;if(typeof a>"u"){if(typeof navigator>"u"||!navigator)return"";a=navigator.userAgent||""}return a.toLowerCase()}function Nd(e,a){try{return new RegExp(e,"g").exec(a)}catch{return null}}function OS(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var e=navigator.userAgentData,a=e.brands||e.uaList;return!!(a&&a.length)}function RS(e,a){var n=Nd("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))",a);return n?n[3]:""}function td(e){return e.replace(/_/g,".")}function Xl(e,a){var n=null,i="-1";return zd(e,function(o){var u=Nd("("+o.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",a);return!u||o.brand?!1:(n=o,i=u[3]||"-1",o.versionAlias?i=o.versionAlias:o.versionTest&&(i=RS(o.versionTest.toLowerCase(),a)||i),i=td(i),!0)}),{preset:n,version:i}}function Ts(e,a){var n={brand:"",version:"-1"};return zd(e,function(i){var o=hm(a,i);return o?(n.brand=i.id,n.version=i.versionAlias||o.version,n.version!=="-1"):!1}),n}function hm(e,a){return vm(e,function(n){var i=n.brand;return Nd(""+a.test,i.toLowerCase())})}var gm=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],mm=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ed=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],ym=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],bm=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Sm(e){return!!Xl(ym,e).preset}function _S(e){var a=pm(e),n=!!/mobi/g.exec(a),i={name:"unknown",version:"-1",majorVersion:-1,webview:Sm(a),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},o={name:"unknown",version:"-1",majorVersion:-1},u=Xl(gm,a),c=u.preset,f=u.version,p=Xl(bm,a),v=p.preset,g=p.version,y=Xl(mm,a);if(i.chromium=!!y.preset,i.chromiumVersion=y.version,!i.chromium){var m=Xl(ed,a);i.webkit=!!m.preset,i.webkitVersion=m.version}return v&&(o.name=v.id,o.version=g,o.majorVersion=parseInt(g,10)),c&&(i.name=c.id,i.version=f,i.webview&&o.name==="ios"&&i.name!=="safari"&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:o,isMobile:n,isHints:!1}}function zS(e){var a=navigator.userAgentData,n=(a.uaList||a.brands).slice(),i=a.mobile||!1,o=n[0],u=(a.platform||navigator.platform).toLowerCase(),c={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Ts(ym,n).brand||Sm(pm())},f={name:"unknown",version:"-1",majorVersion:-1};c.webkit=!c.chromium&&zd(ed,function(m){return hm(n,m)});var p=Ts(mm,n);if(c.chromium=!!p.brand,c.chromiumVersion=p.version||"-1",!c.chromium){var v=Ts(ed,n);c.webkit=!!v.brand,c.webkitVersion=v.version||"-1"}var g=vm(bm,function(m){return new RegExp(""+m.test,"g").exec(u)});f.name=g?g.id:"";{var y=Ts(gm,n);c.name=y.brand||c.name,c.version=y.brand&&e?e.uaFullVersion:y.version}return c.webkit&&(f.name=i?"ios":"mac"),f.name==="ios"&&c.webview&&(c.version="-1"),f.version=td(f.version),c.version=td(c.version),f.majorVersion=parseInt(f.version,10),c.majorVersion=parseInt(c.version,10),{browser:c,os:f,isMobile:i,isHints:!0}}function NS(e){return OS()?zS():_S(e)}function BS(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];return a.map(function(i){return i.split(" ").map(function(o){return o?""+e+o:""}).join(" ")}).join(" ")}function jS(e,a){return a.replace(/([^}{]*){/gm,function(n,i){return i.replace(/\.([^{,\s\d.]+)/g,"."+e+"$1")+"{"})}function zn(e,a){return function(n){n&&(e[a]=n)}}function xm(e,a,n){return function(i){i&&(e[a][n]=i)}}function LS(e,a){return a===void 0&&(a={}),function(n,i){e.forEach(function(o){var u=a[o]||o;u in n||(n[u]=function(){for(var c,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var v=(c=this[i])[o].apply(c,f);return v===this[i]?this:v})})}}var VS="function",GS="object",HS="string",US="number",Bd="undefined",Cm=typeof window!==Bd,kS=typeof document!==Bd&&document,XS=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Be=1e-7,As={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,a){return e*a/100},vw:function(e,a){return a===void 0&&(a=window.innerWidth),e/100*a},vh:function(e,a){return a===void 0&&(a=window.innerHeight),e/100*a},vmax:function(e,a){return a===void 0&&(a=Math.max(window.innerWidth,window.innerHeight)),e/100*a},vmin:function(e,a){return a===void 0&&(a=Math.min(window.innerWidth,window.innerHeight)),e/100*a}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function qS(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),o=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,o++)i[o]=u[c];return i}function qs(e,a,n,i){return(e*i+a*n)/(n+i)}function jd(e){return typeof e===Bd}function Yr(e){return e&&typeof e===GS}function Ie(e){return Array.isArray(e)}function Ma(e){return typeof e===HS}function Jl(e){return typeof e===US}function Ld(e){return typeof e===VS}function IS(e,a){var n=e===""||e==" ",i=a===""||a==" ";return i&&n||e===a}function Em(e,a,n,i,o){var u=Vd(e,a,n);return u?n:YS(e,a,n+1,i,o)}function Vd(e,a,n){if(!e.ignore)return null;var i=a.slice(Math.max(n-3,0),n+3).join("");return new RegExp(e.ignore).exec(i)}function YS(e,a,n,i,o){for(var u=function(v){var g=a[v].trim();if(g===e.close&&!Vd(e,a,v))return{value:v};var y=v,m=Tr(o,function(b){var x=b.open;return x===g});if(m&&(y=Em(m,a,v,i,o)),y===-1)return c=v,"break";v=y,c=v},c,f=n;f<i;++f){var p=u(f);if(f=c,typeof p=="object")return p.value;if(p==="break")break}return-1}function Gd(e,a){var n=Ma(a)?{separator:a}:a,i=n.separator,o=i===void 0?",":i,u=n.isSeparateFirst,c=n.isSeparateOnlyOpenClose,f=n.isSeparateOpenClose,p=f===void 0?c:f,v=n.openCloseCharacters,g=v===void 0?XS:v,y=g.map(function(N){var z=N.open,j=N.close;return z===j?z:z+"|"+j}).join("|"),m="(\\s*"+o+"\\s*|"+y+"|\\s+)",b=new RegExp(m,"g"),x=e.split(b).filter(function(N){return N&&N!=="undefined"}),S=x.length,C=[],E=[];function w(){return E.length?(C.push(E.join("")),E=[],!0):!1}for(var M=function(N){var z=x[N].trim(),j=N,H=Tr(g,function(X){var Q=X.open;return Q===z}),F=Tr(g,function(X){var Q=X.close;return Q===z});if(H){if(j=Em(H,x,N,S,g),j!==-1&&p)return w()&&u||(C.push(x.slice(N,j+1).join("")),N=j,u)?(D=N,"break"):(D=N,"continue")}else if(F&&!Vd(F,x,N)){var I=qS(g);return I.splice(g.indexOf(F),1),{value:Gd(e,{separator:o,isSeparateFirst:u,isSeparateOnlyOpenClose:c,isSeparateOpenClose:p,openCloseCharacters:I})}}else if(IS(z,o)&&!c)return w(),u?(D=N,"break"):(D=N,"continue");j===-1&&(j=S-1),E.push(x.slice(N,j+1).join("")),N=j,D=N},D,O=0;O<S;++O){var _=M(O);if(O=D,typeof _=="object")return _.value;if(_==="break")break}return E.length&&C.push(E.join("")),C}function nn(e){return Gd(e,"")}function _n(e){return Gd(e,",")}function Tm(e){var a=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(e);return!a||a.length<4?{}:{prefix:a[1],value:a[2],suffix:a[3]}}function no(e){var a=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!a)return{prefix:"",unit:"",value:NaN};var n=a[1],i=a[2],o=a[3];return{prefix:n,unit:o,value:parseFloat(i)}}function PS(e,a){return e.replace(/([a-z])([A-Z])/g,function(n,i,o){return""+i+a+o.toLowerCase()})}function $l(){return Date.now?Date.now():new Date().getTime()}function wa(e,a,n){n===void 0&&(n=-1);for(var i=e.length,o=0;o<i;++o)if(a(e[o],o,e))return o;return n}function Tr(e,a,n){var i=wa(e,a);return i>-1?e[i]:n}var Am=function(){var e=$l(),a=Cm&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return a?a.bind(window):function(n){var i=$l(),o=setTimeout(function(){n(i-e)},1e3/60);return o}}(),FS=function(){var e=Cm&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return e?e.bind(window):function(a){clearTimeout(a)}}();function ki(e){return Object.keys(e)}function de(e,a){var n=no(e),i=n.value,o=n.unit;if(Yr(a)){var u=a[o];if(u){if(Ld(u))return u(i);if(As[o])return As[o](i,u)}}else if(o==="%")return i*a/100;return As[o]?As[o](i):i}function rd(e,a,n){return Math.max(a,Math.min(e,n))}function f0(e,a,n,i){return i===void 0&&(i=e[0]/e[1]),[[kt(a[0],Be),kt(a[0]/i,Be)],[kt(a[1]*i,Be),kt(a[1],Be)]].filter(function(o){return o.every(function(u,c){var f=a[c],p=kt(f,Be);return n?u<=f||u<=p:u>=f||u>=p})})[0]||e}function wm(e,a,n,i){if(!i)return e.map(function(b,x){return rd(b,a[x],n[x])});var o=e[0],u=e[1],c=i===!0?o/u:i,f=f0(e,a,!1,c),p=f[0],v=f[1],g=f0(e,n,!0,c),y=g[0],m=g[1];return o<p||u<v?(o=p,u=v):(o>y||u>m)&&(o=y,u=m),[o,u]}function KS(e){for(var a=e.length,n=0,i=a-1;i>=0;--i)n+=e[i];return n}function ad(e){for(var a=e.length,n=0,i=a-1;i>=0;--i)n+=e[i];return a?n/a:0}function Re(e,a){var n=a[0]-e[0],i=a[1]-e[1],o=Math.atan2(i,n);return o>=0?o:o+Math.PI*2}function WS(e){return[0,1].map(function(a){return ad(e.map(function(n){return n[a]}))})}function d0(e){var a=WS(e),n=Re(a,e[0]),i=Re(a,e[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function Ta(e,a){return Math.sqrt(Math.pow((a?a[0]:0)-e[0],2)+Math.pow((a?a[1]:0)-e[1],2))}function kt(e,a){if(!a)return e;var n=1/a;return Math.round(e/a)/n}function v0(e,a){return e.forEach(function(n,i){e[i]=kt(e[i],a)}),e}function ZS(e){for(var a=[],n=0;n<e;++n)a.push(n);return a}function QS(e){return e.reduce(function(a,n){return a.concat(n)},[])}function Ge(e,a){return e.classList?e.classList.contains(a):!!e.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))}function Mm(e,a){e.classList?e.classList.add(a):e.className+=" "+a}function Dm(e,a){if(e.classList)e.classList.remove(a);else{var n=new RegExp("(\\s|^)"+a+"(\\s|$)");e.className=e.className.replace(n," ")}}function tr(e,a,n,i){e.addEventListener(a,n,i)}function We(e,a,n,i){e.removeEventListener(a,n,i)}function Hd(e){return(e==null?void 0:e.ownerDocument)||kS}function Ud(e){return Hd(e).documentElement}function sn(e){return Hd(e).body}function an(e){var a;return((a=e==null?void 0:e.ownerDocument)===null||a===void 0?void 0:a.defaultView)||window}function Om(e){return e&&"postMessage"in e&&"blur"in e&&"self"in e}function kd(e){return Yr(e)&&e.nodeName&&e.nodeType&&"ownerDocument"in e}function JS(e,a,n,i,o,u){for(var c=0;c<o;++c){var f=n+c*o,p=i+c*o;e[f]+=e[p]*u,a[f]+=a[p]*u}}function $S(e,a,n,i,o){for(var u=0;u<o;++u){var c=n+u*o,f=i+u*o,p=e[c],v=a[c];e[c]=e[f],e[f]=p,a[c]=a[f],a[f]=v}}function tx(e,a,n,i,o){for(var u=0;u<i;++u){var c=n+u*i;e[c]/=o,a[c]/=o}}function Rm(e,a,n){for(var i=e.slice(),o=0;o<n;++o)i[o*n+a-1]=0,i[(a-1)*n+o]=0;return i[(a-1)*(n+1)]=1,i}function aa(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=e.slice(),i=ge(a),o=0;o<a;++o){var u=a*o+o;if(!kt(n[u],Be)){for(var c=o+1;c<a;++c)if(n[a*o+c]){$S(n,i,o,c,a);break}}if(!kt(n[u],Be))return[];tx(n,i,o,a,n[u]);for(var c=0;c<a;++c){var f=c,p=c+o*a,v=n[p];!kt(v,Be)||o===c||JS(n,i,f,o,a,-v)}}return i}function ex(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=[],i=0;i<a;++i)for(var o=0;o<a;++o)n[o*a+i]=e[a*i+o];return n}function _m(e,a){a===void 0&&(a=Math.sqrt(e.length));for(var n=[],i=e[a*a-1],o=0;o<a-1;++o)n[o]=e[a*(a-1)+o]/i;return n[a-1]=0,n}function rx(e,a){for(var n=ge(a),i=0;i<a-1;++i)n[a*(a-1)+i]=e[i]||0;return n}function Nn(e,a){for(var n=e.slice(),i=e.length;i<a-1;++i)n[i]=0;return n[a-1]=1,n}function Pr(e,a,n){if(a===void 0&&(a=Math.sqrt(e.length)),a===n)return e;for(var i=ge(n),o=Math.min(a,n),u=0;u<o-1;++u){for(var c=0;c<o-1;++c)i[u*n+c]=e[u*a+c];i[(u+1)*n-1]=e[(u+1)*a-1],i[(n-1)*n+u]=e[(a-1)*a+u]}return i[n*n-1]=e[a*a-1],i}function Is(e){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var i=ge(e);return a.forEach(function(o){i=ve(i,o,e)}),i}function ve(e,a,n){n===void 0&&(n=Math.sqrt(e.length));var i=[],o=e.length/n,u=a.length/o;if(o){if(!u)return e}else return a;for(var c=0;c<n;++c)for(var f=0;f<u;++f){i[f*n+c]=0;for(var p=0;p<o;++p)i[f*n+c]+=e[p*n+c]*a[f*o+p]}return i}function te(e,a){for(var n=Math.min(e.length,a.length),i=e.slice(),o=0;o<n;++o)i[o]=i[o]+a[o];return i}function Nt(e,a){for(var n=Math.min(e.length,a.length),i=e.slice(),o=0;o<n;++o)i[o]=i[o]-a[o];return i}function ax(e,a){return a===void 0&&(a=e.length===6),a?[e[0],e[1],0,e[2],e[3],0,e[4],e[5],1]:e}function zm(e,a){return a===void 0&&(a=e.length===9),a?[e[0],e[1],e[3],e[4],e[6],e[7]]:e}function er(e,a,n){n===void 0&&(n=a.length);var i=ve(e,a,n),o=i[n-1];return i.map(function(u){return u/o})}function nx(e,a){return ve(e,[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1],4)}function ix(e,a){return ve(e,[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),0,0,0,0,1],4)}function lx(e,a){return ve(e,lo(a,4))}function ws(e,a){var n=a[0],i=n===void 0?1:n,o=a[1],u=o===void 0?1:o,c=a[2],f=c===void 0?1:c;return ve(e,[i,0,0,0,0,u,0,0,0,0,f,0,0,0,0,1],4)}function io(e,a){return er(lo(a,3),Nn(e,3))}function Rf(e,a){var n=a[0],i=n===void 0?0:n,o=a[1],u=o===void 0?0:o,c=a[2],f=c===void 0?0:c;return ve(e,[1,0,0,0,0,1,0,0,0,0,1,0,i,u,f,1],4)}function p0(e,a){return ve(e,a,4)}function lo(e,a){var n=Math.cos(e),i=Math.sin(e),o=ge(a);return o[0]=n,o[1]=i,o[a]=-i,o[a+1]=n,o}function ge(e){for(var a=e*e,n=[],i=0;i<a;++i)n[i]=i%(e+1)?0:1;return n}function Xd(e,a){for(var n=ge(a),i=Math.min(e.length,a-1),o=0;o<i;++o)n[(a+1)*o]=e[o];return n}function Bn(e,a){for(var n=ge(a),i=Math.min(e.length,a-1),o=0;o<i;++o)n[a*(a-1)+o]=e[o];return n}function qd(e,a,n,i,o,u,c,f){var p=e[0],v=e[1],g=a[0],y=a[1],m=n[0],b=n[1],x=i[0],S=i[1],C=o[0],E=o[1],w=u[0],M=u[1],D=c[0],O=c[1],_=f[0],N=f[1],z=[p,0,g,0,m,0,x,0,v,0,y,0,b,0,S,0,1,0,1,0,1,0,1,0,0,p,0,g,0,m,0,x,0,v,0,y,0,b,0,S,0,1,0,1,0,1,0,1,-C*p,-E*p,-w*g,-M*g,-D*m,-O*m,-_*x,-N*x,-C*v,-E*v,-w*y,-M*y,-D*b,-O*b,-_*S,-N*S],j=aa(z,8);if(!j.length)return[];var H=ve(j,[C,E,w,M,D,O,_,N],8);return H[8]=1,Pr(ex(H),3,4)}var Yl=function(){return Yl=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},Yl.apply(this,arguments)};function ox(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function to(e,a){return a===void 0&&(a=0),wi(Ni(e,a))}function sx(e,a){var n=er(e,[a[0],a[1]||0,a[2]||0,1],4),i=n[3]||1;return[n[0]/i,n[1]/i,n[2]/i]}function wi(e){var a=ox();return e.forEach(function(n){var i=n.matrixFunction,o=n.functionValue;i&&(a=i(a,o))}),a}function Ni(e,a){a===void 0&&(a=0);var n=Ie(e)?e:nn(e);return n.map(function(i){var o=Tm(i),u=o.prefix,c=o.value,f=null,p=u,v="";if(u==="translate"||u==="translateX"||u==="translate3d"){var g=Yr(a)?Yl(Yl({},a),{"o%":a["%"]}):{"%":a,"o%":a},y=_n(c).map(function(X,Q){return Q===0&&"x%"in g?g["%"]=a["x%"]:Q===1&&"y%"in g?g["%"]=a["y%"]:g["%"]=a["o%"],de(X,g)}),m=y[0],b=y[1],x=b===void 0?0:b,S=y[2],C=S===void 0?0:S;f=Rf,v=[m,x,C]}else if(u==="translateY"){var E=Yr(a)?Yl({"%":a["y%"]},a):{"%":a},x=de(c,E);f=Rf,v=[0,x,0]}else if(u==="translateZ"){var C=parseFloat(c);f=Rf,v=[0,0,C]}else if(u==="scale"||u==="scale3d"){var w=_n(c).map(function(X){return parseFloat(X)}),M=w[0],D=w[1],O=D===void 0?M:D,_=w[2],N=_===void 0?1:_;f=ws,v=[M,O,N]}else if(u==="scaleX"){var M=parseFloat(c);f=ws,v=[M,1,1]}else if(u==="scaleY"){var O=parseFloat(c);f=ws,v=[1,O,1]}else if(u==="scaleZ"){var N=parseFloat(c);f=ws,v=[1,1,N]}else if(u==="rotate"||u==="rotateZ"||u==="rotateX"||u==="rotateY"){var z=no(c),j=z.unit,H=z.value,F=j==="rad"?H:H*Math.PI/180;u==="rotate"||u==="rotateZ"?(p="rotateZ",f=lx):u==="rotateX"?f=nx:u==="rotateY"&&(f=ix),v=F}else if(u==="matrix3d")f=p0,v=_n(c).map(function(X){return parseFloat(X)});else if(u==="matrix"){var I=_n(c).map(function(X){return parseFloat(X)});f=p0,v=[I[0],I[1],0,0,I[2],I[3],0,0,0,0,1,0,I[4],I[5],0,1]}else p="";return{name:u,functionName:p,value:c,matrixFunction:f,functionValue:v}})}var ux=function(){function e(){this.keys=[],this.values=[]}var a=e.prototype;return a.get=function(n){return this.values[this.keys.indexOf(n)]},a.set=function(n,i){var o=this.keys,u=this.values,c=o.indexOf(n),f=c===-1?o.length:c;o[f]=n,u[f]=i},e}(),cx=function(){function e(){this.object={}}var a=e.prototype;return a.get=function(n){return this.object[n]},a.set=function(n,i){this.object[n]=i},e}(),fx=typeof Map=="function",dx=function(){function e(){}var a=e.prototype;return a.connect=function(n,i){this.prev=n,this.next=i,n&&(n.next=this),i&&(i.prev=this)},a.disconnect=function(){var n=this.prev,i=this.next;n&&(n.next=i),i&&(i.prev=n)},a.getIndex=function(){for(var n=this,i=-1;n;)n=n.prev,++i;return i},e}();function vx(e,a){var n=[],i=[];return e.forEach(function(o){var u=o[0],c=o[1],f=new dx;n[u]=f,i[c]=f}),n.forEach(function(o,u){o.connect(n[u-1])}),e.filter(function(o,u){return!a[u]}).map(function(o,u){var c=o[0],f=o[1];if(c===f)return[0,0];var p=n[c],v=i[f-1],g=p.getIndex();p.disconnect(),v?p.connect(v,v.next):p.connect(void 0,n[0]);var y=p.getIndex();return[g,y]})}var px=function(){function e(n,i,o,u,c,f,p,v){this.prevList=n,this.list=i,this.added=o,this.removed=u,this.changed=c,this.maintained=f,this.changedBeforeAdded=p,this.fixed=v}var a=e.prototype;return Object.defineProperty(a,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(a,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),a.caculateOrdered=function(){var n=vx(this.changedBeforeAdded,this.fixed),i=this.changed,o=[];this.cacheOrdered=n.filter(function(u,c){var f=u[0],p=u[1],v=i[c],g=v[0],y=v[1];if(f!==p)return o.push([g,y]),!0}),this.cachePureChanged=o},e}();function Id(e,a,n){var i=fx?Map:n?cx:ux,o=n||function(w){return w},u=[],c=[],f=[],p=e.map(o),v=a.map(o),g=new i,y=new i,m=[],b=[],x={},S=[],C=0,E=0;return p.forEach(function(w,M){g.set(w,M)}),v.forEach(function(w,M){y.set(w,M)}),p.forEach(function(w,M){var D=y.get(w);typeof D>"u"?(++E,c.push(M)):x[D]=E}),v.forEach(function(w,M){var D=g.get(w);typeof D>"u"?(u.push(M),++C):(f.push([D,M]),E=x[M]||0,m.push([D-E,M-C]),b.push(M===D),D!==M&&S.push([D,M]))}),c.reverse(),new px(e,a,u,c,S,f,m,b)}var hx=function(){function e(n,i){n===void 0&&(n=[]),this.findKeyCallback=i,this.list=[].slice.call(n)}var a=e.prototype;return a.update=function(n){var i=[].slice.call(n),o=Id(this.list,i,this.findKeyCallback);return this.list=i,o},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nd=function(e,a){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},nd(e,a)};function gx(e,a){nd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Nm=typeof Map=="function"?void 0:function(){var e=0;return function(a){return a.__DIFF_KEY__||(a.__DIFF_KEY__=++e)}}(),Bm=function(e){gx(a,e);function a(n){return n===void 0&&(n=[]),e.call(this,n,Nm)||this}return a}(hx);function mx(e,a){return Id(e,a,Nm)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var id=function(){return id=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},id.apply(this,arguments)};function yx(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),o=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,o++)i[o]=u[c];return i}var Yd=function(){function e(){this._events={}}var a=e.prototype;return a.on=function(n,i){if(Yr(n))for(var o in n)this.on(o,n[o]);else this._addEvent(n,i,{});return this},a.off=function(n,i){if(!n)this._events={};else if(Yr(n))for(var o in n)this.off(o);else if(!i)this._events[n]=[];else{var u=this._events[n];if(u){var c=wa(u,function(f){return f.listener===i});c>-1&&u.splice(c,1)}}return this},a.once=function(n,i){var o=this;return i&&this._addEvent(n,i,{once:!0}),new Promise(function(u){o._addEvent(n,u,{once:!0})})},a.emit=function(n,i){var o=this;i===void 0&&(i={});var u=this._events[n];if(!n||!u)return!0;var c=!1;return i.eventType=n,i.stop=function(){c=!0},i.currentTarget=this,yx(u).forEach(function(f){f.listener(i),f.once&&o.off(n,f.listener)}),!c},a.trigger=function(n,i){return i===void 0&&(i={}),this.emit(n,i)},a._addEvent=function(n,i,o){var u=this._events;u[n]=u[n]||[];var c=u[n];c.push(id({listener:i},o))},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ld=function(e,a){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},ld(e,a)};function bx(e,a){ld(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Mi=function(){return Mi=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},Mi.apply(this,arguments)};function Sx(e){var a=e.container;return a===document.body?[a.scrollLeft||document.documentElement.scrollLeft,a.scrollTop||document.documentElement.scrollTop]:[a.scrollLeft,a.scrollTop]}function h0(e,a){return e.addEventListener("scroll",a),function(){e.removeEventListener("scroll",a)}}function Ms(e){if(e){if(Ma(e))return document.querySelector(e)}else return null;if(Ld(e))return e();if(e instanceof Element)return e;if("current"in e)return e.current;if("value"in e)return e.value}var xx=function(e){bx(a,e);function a(){var i=e!==null&&e.apply(this,arguments)||this;return i._startRect=null,i._startPos=[],i._prevTime=0,i._timer=0,i._prevScrollPos=[0,0],i._isWait=!1,i._flag=!1,i._currentOptions=null,i._lock=!1,i._unregister=null,i._onScroll=function(){var o=i._currentOptions;i._lock||!o||i.emit("scrollDrag",{next:function(u){i.checkScroll({container:o.container,inputEvent:u})}})},i}var n=a.prototype;return n.dragStart=function(i,o){var u=Ms(o.container);if(!u){this._flag=!1;return}var c=0,f=0,p=0,v=0;if(u===document.body)p=window.innerWidth,v=window.innerHeight;else{var g=u.getBoundingClientRect();c=g.top,f=g.left,p=g.width,v=g.height}this._flag=!0,this._startPos=[i.clientX,i.clientY],this._startRect={top:c,left:f,width:p,height:v},this._prevScrollPos=this._getScrollPosition([0,0],o),this._currentOptions=o,this._registerScrollEvent(o)},n.drag=function(i,o){if(clearTimeout(this._timer),!!this._flag){var u=i.clientX,c=i.clientY,f=o.threshold,p=f===void 0?0:f,v=this,g=v._startRect,y=v._startPos;this._currentOptions=o;var m=[0,0];return g.top>c-p?(y[1]>g.top||c<y[1])&&(m[1]=-1):g.top+g.height<c+p&&(y[1]<g.top+g.height||c>y[1])&&(m[1]=1),g.left>u-p?(y[0]>g.left||u<y[0])&&(m[0]=-1):g.left+g.width<u+p&&(y[0]<g.left+g.width||u>y[0])&&(m[0]=1),!m[0]&&!m[1]?!1:this._continueDrag(Mi(Mi({},o),{direction:m,inputEvent:i,isDrag:!0}))}},n.checkScroll=function(i){var o=this;if(this._isWait)return!1;var u=i.prevScrollPos,c=u===void 0?this._prevScrollPos:u,f=i.direction,p=i.throttleTime,v=p===void 0?0:p,g=i.inputEvent,y=i.isDrag,m=this._getScrollPosition(f||[0,0],i),b=m[0]-c[0],x=m[1]-c[1],S=f||[b?Math.abs(b)/b:0,x?Math.abs(x)/x:0];return this._prevScrollPos=m,this._lock=!1,!b&&!x?!1:(this.emit("move",{offsetX:S[0]?b:0,offsetY:S[1]?x:0,inputEvent:g}),v&&y&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){o._continueDrag(i)},v)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(i,o){var u=o.container,c=o.getScrollPosition,f=c===void 0?Sx:c;return f({container:Ms(u),direction:i})},n._continueDrag=function(i){var o=this,u,c=i.container,f=i.direction,p=i.throttleTime,v=i.useScroll,g=i.isDrag,y=i.inputEvent;if(!(!this._flag||g&&this._isWait)){var m=$l(),b=Math.max(p+this._prevTime-m,0);if(b>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){o._continueDrag(i)},b),!1;this._prevTime=m;var x=this._getScrollPosition(f,i);this._prevScrollPos=x,g&&(this._isWait=!0),v||(this._lock=!0);var S={container:Ms(c),direction:f,inputEvent:y};return(u=i.requestScroll)===null||u===void 0||u.call(i,S),this.emit("scroll",S),this._isWait=!1,v||this.checkScroll(Mi(Mi({},i),{prevScrollPos:x,direction:f,inputEvent:y}))}},n._registerScrollEvent=function(i){this._unregisterScrollEvent();var o=i.checkScrollEvent;if(o){var u=o===!0?h0:o,c=Ms(i.container);o===!0&&(c===document.body||c===document.documentElement)?this._unregister=h0(window,this._onScroll):this._unregister=u(c,this._onScroll)}},n._unregisterScrollEvent=function(){var i;(i=this._unregister)===null||i===void 0||i.call(this),this._unregister=null},a}(Yd);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Cx(){for(var e=0,a=0,n=arguments.length;a<n;a++)e+=arguments[a].length;for(var i=Array(e),o=0,a=0;a<n;a++)for(var u=arguments[a],c=0,f=u.length;c<f;c++,o++)i[o]=u[c];return i}function dr(e){return kt(e,Be)}function Ex(e,a){return e.every(function(n,i){return dr(n-a[i])===0})}function Tx(e,a){return!dr(e[0]-a[0])&&!dr(e[1]-a[1])}function jm(e){return e.length<3?0:Math.abs(KS(e.map(function(a,n){var i=e[n+1]||e[0];return a[0]*i[1]-i[0]*a[1]})))/2}function g0(e,a){var n=a.width,i=a.height,o=a.left,u=a.top,c=jn(e),f=c.minX,p=c.minY,v=c.maxX,g=c.maxY,y=n/(v-f),m=i/(g-p);return e.map(function(b){return[o+(b[0]-f)*y,u+(b[1]-p)*m]})}function jn(e){var a=e.map(function(i){return i[0]}),n=e.map(function(i){return i[1]});return{minX:Math.min.apply(Math,a),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,a),maxY:Math.max.apply(Math,n)}}function od(e,a,n){var i=e[0],o=e[1],u=jn(a),c=u.minX,f=u.maxX,p=[[c,o],[f,o]],v=Ys(p[0],p[1]),g=sd(a),y=[];if(g.forEach(function(x){var S=Ys(x[0],x[1]),C=x[0];if(Ex(v,S))y.push({pos:e,line:x,type:"line"});else{var E=Lm(Pd(v,S),[p,x]);E.forEach(function(w){x.some(function(M){return Tx(M,w)})?y.push({pos:w,line:x,type:"point"}):dr(C[1]-o)!==0&&y.push({pos:w,line:x,type:"intersection"})})}}),Tr(y,function(x){return x[0]===i}))return!0;var m=0,b={};return y.forEach(function(x){var S=x.pos,C=x.type,E=x.line;if(!(S[0]>i))if(C==="intersection")++m;else{if(C==="line")return;if(C==="point"){var w=Tr(E,function(O){return O[1]!==o}),M=b[S[0]],D=w[1]>o?1:-1;M?M!==D&&++m:b[S[0]]=D}}}),m%2===1}function Ys(e,a){var n=e[0],i=e[1],o=a[0],u=a[1],c=o-n,f=u-i;Math.abs(c)<Be&&(c=0),Math.abs(f)<Be&&(f=0);var p=0,v=0,g=0;return c?f?(p=-f/c,v=1,g=-p*n-i):(v=1,g=-i):f&&(p=-1,g=n),[p,v,g]}function Pd(e,a){var n=e[0],i=e[1],o=e[2],u=a[0],c=a[1],f=a[2],p=n===0&&u===0,v=i===0&&c===0,g=[];if(p&&v)return[];if(p){var y=-o/i,m=-f/c;return y!==m?[]:[[-1/0,y],[1/0,y]]}else if(v){var b=-o/n,x=-f/u;return b!==x?[]:[[b,-1/0],[b,1/0]]}else if(n===0){var S=-o/i,C=-(c*S+f)/u;g=[[C,S]]}else if(u===0){var S=-f/c,C=-(i*S+o)/n;g=[[C,S]]}else if(i===0){var C=-o/n,S=-(u*C+f)/c;g=[[C,S]]}else if(c===0){var C=-f/u,S=-(n*C+o)/i;g=[[C,S]]}else{var C=(i*f-c*o)/(c*n-i*u),S=-(n*C+o)/i;g=[[C,S]]}return g.map(function(E){return[E[0],E[1]]})}function Lm(e,a){var n=a.map(function(y){return[0,1].map(function(m){return[Math.min(y[0][m],y[1][m]),Math.max(y[0][m],y[1][m])]})}),i=[];if(e.length===2){var o=e[0],u=o[0],c=o[1];if(dr(u-e[1][0])){if(!dr(c-e[1][1])){var v=Math.max.apply(Math,n.map(function(y){return y[0][0]})),g=Math.min.apply(Math,n.map(function(y){return y[0][1]}));if(dr(v-g)>0)return[];i=[[v,c],[g,c]]}}else{var f=Math.max.apply(Math,n.map(function(y){return y[1][0]})),p=Math.min.apply(Math,n.map(function(y){return y[1][1]}));if(dr(f-p)>0)return[];i=[[u,f],[u,p]]}}return i.length||(i=e.filter(function(y){var m=y[0],b=y[1];return n.every(function(x){return 0<=dr(m-x[0][0])&&0<=dr(x[0][1]-m)&&0<=dr(b-x[1][0])&&0<=dr(x[1][1]-b)})})),i.map(function(y){return[dr(y[0]),dr(y[1])]})}function sd(e){return Cx(e.slice(1),[e[0]]).map(function(a,n){return[e[n],a]})}function Ax(e,a){var n=e.slice(),i=a.slice();d0(n)===-1&&n.reverse(),d0(i)===-1&&i.reverse();var o=sd(n),u=sd(i),c=o.map(function(g){return Ys(g[0],g[1])}),f=u.map(function(g){return Ys(g[0],g[1])}),p=[];c.forEach(function(g,y){var m=o[y],b=[];f.forEach(function(x,S){var C=Pd(g,x),E=Lm(C,[m,u[S]]);b.push.apply(b,E.map(function(w){return{index1:y,index2:S,pos:w,type:"intersection"}}))}),b.sort(function(x,S){return Ta(m[0],x.pos)-Ta(m[0],S.pos)}),p.push.apply(p,b),od(m[1],i)&&p.push({index1:y,index2:-1,pos:m[1],type:"inside"})}),u.forEach(function(g,y){if(od(g[1],n)){var m=!1,b=wa(p,function(x){var S=x.index2;return S===y?(m=!0,!1):!!m});b===-1&&(m=!1,b=wa(p,function(x){var S=x.index1,C=x.index2;return S===-1&&C+1===y?(m=!0,!1):!!m})),b===-1?p.push({index1:-1,index2:y,pos:g[1],type:"inside"}):p.splice(b,0,{index1:-1,index2:y,pos:g[1],type:"inside"})}});var v={};return p.filter(function(g){var y=g.pos,m=y[0]+"x"+y[1];return v[m]?!1:(v[m]=!0,!0)})}function wx(e,a){var n=Ax(e,a);return n.map(function(i){var o=i.pos;return o})}function Mx(e,a){var n=wx(e,a);return jm(n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ud=function(e,a){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},ud(e,a)};function Dx(e,a){ud(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var Ne=function(){return Ne=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},Ne.apply(this,arguments)};function Ox(e,a){var n=a[0]-e[0],i=a[1]-e[1],o=Math.atan2(i,n);return o>=0?o:o+Math.PI*2}function _f(e){return Ox([e[0].clientX,e[0].clientY],[e[1].clientX,e[1].clientY])/Math.PI*180}function Rx(e){return e.touches&&e.touches.length>=2}function Ds(e){return e?e.touches?zx(e.touches):[Vm(e)]:[]}function _x(e){return e&&(e.type.indexOf("mouse")>-1||"button"in e)}function m0(e,a,n){var i=n.length,o=Pl(e,i),u=o.clientX,c=o.clientY,f=o.originalClientX,p=o.originalClientY,v=Pl(a,i),g=v.clientX,y=v.clientY,m=Pl(n,i),b=m.clientX,x=m.clientY,S=u-g,C=c-y,E=u-b,w=c-x;return{clientX:f,clientY:p,deltaX:S,deltaY:C,distX:E,distY:w}}function zf(e){return Math.sqrt(Math.pow(e[0].clientX-e[1].clientX,2)+Math.pow(e[0].clientY-e[1].clientY,2))}function zx(e){for(var a=Math.min(e.length,2),n=[],i=0;i<a;++i)n.push(Vm(e[i]));return n}function Vm(e){return{clientX:e.clientX,clientY:e.clientY}}function Pl(e,a){a===void 0&&(a=e.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=Math.min(e.length,a),o=0;o<i;++o){var u=e[o];n.originalClientX+="originalClientX"in u?u.originalClientX:u.clientX,n.originalClientY+="originalClientY"in u?u.originalClientY:u.clientY,n.clientX+=u.clientX,n.clientY+=u.clientY}return a?{clientX:n.clientX/a,clientY:n.clientY/a,originalClientX:n.originalClientX/a,originalClientY:n.originalClientY/a}:n}var Nf=function(){function e(a){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=a,this.prevClients=a,this.length=a.length}return e.prototype.getAngle=function(a){return a===void 0&&(a=this.prevClients),_f(a)},e.prototype.getRotation=function(a){return a===void 0&&(a=this.prevClients),_f(a)-_f(this.startClients)},e.prototype.getPosition=function(a,n){a===void 0&&(a=this.prevClients);var i=m0(a||this.prevClients,this.prevClients,this.startClients),o=i.deltaX,u=i.deltaY;return this.movement+=Math.sqrt(o*o+u*u),this.prevClients=a,i},e.prototype.getPositions=function(a){a===void 0&&(a=this.prevClients);for(var n=this.prevClients,i=this.startClients,o=Math.min(this.length,n.length),u=[],c=0;c<o;++c)u[c]=m0([a[c]],[n[c]],[i[c]]);return u},e.prototype.getMovement=function(a){var n=this.movement;if(!a)return n;var i=Pl(a,this.length),o=Pl(this.prevClients,this.length),u=i.clientX-o.clientX,c=i.clientY-o.clientY;return Math.sqrt(u*u+c*c)+n},e.prototype.getDistance=function(a){return a===void 0&&(a=this.prevClients),zf(a)},e.prototype.getScale=function(a){return a===void 0&&(a=this.prevClients),zf(a)/zf(this.startClients)},e.prototype.move=function(a,n){this.startClients.forEach(function(i){i.clientX-=a,i.clientY-=n}),this.prevClients.forEach(function(i){i.clientX-=a,i.clientY-=n})},e}(),y0=["textarea","input"],Nx=function(e){Dx(a,e);function a(n,i){i===void 0&&(i={});var o=e.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.data={},o.isDrag=!1,o.isPinch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._useMouse=!1,o._useTouch=!1,o._useDrag=!1,o._dragFlag=!1,o._isTrusted=!1,o._isMouseEvent=!1,o._isSecondaryButton=!1,o._preventMouseEvent=!1,o._prevInputEvent=null,o._isDragAPI=!1,o._isIdle=!0,o._preventMouseEventId=0,o._window=window,o.onDragStart=function(m,b){if(b===void 0&&(b=!0),!(!o.flag&&m.cancelable===!1)){var x=m.type.indexOf("drag")>=-1;if(!(o.flag&&x)){o._isDragAPI=!0;var S=o.options,C=S.container,E=S.pinchOutside,w=S.preventWheelClick,M=S.preventRightClick,D=S.preventDefault,O=S.checkInput,_=S.dragFocusedInput,N=S.preventClickEventOnDragStart,z=S.preventClickEventOnDrag,j=S.preventClickEventByCondition,H=o._useTouch,F=!o.flag;if(o._isSecondaryButton=m.which===3||m.button===2,w&&(m.which===2||m.button===1)||M&&(m.which===3||m.button===2))return o.stop(),!1;if(F){var I=o._window.document.activeElement,X=m.target;if(X){var Q=X.tagName.toLowerCase(),U=y0.indexOf(Q)>-1,G=X.isContentEditable;if(U||G){if(O||!_&&I===X)return!1;if(I&&(I===X||G&&I.isContentEditable&&I.contains(X)))if(_)X.blur();else return!1}else if((D||m.type==="touchstart")&&I){var Z=I.tagName.toLowerCase();(I.isContentEditable||y0.indexOf(Z)>-1)&&I.blur()}(N||z||j)&&tr(o._window,"click",o._onClick,!0)}o.clientStores=[new Nf(Ds(m))],o._isIdle=!1,o.flag=!0,o.isDrag=!1,o._isTrusted=b,o._dragFlag=!0,o._prevInputEvent=m,o.data={},o.doubleFlag=$l()-o.prevTime<200,o._isMouseEvent=_x(m),!o._isMouseEvent&&o._preventMouseEvent&&o._allowMouseEvent();var J=o._preventMouseEvent||o.emit("dragStart",Ne(Ne({data:o.data,datas:o.data,inputEvent:m,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,isTrusted:b,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){m.preventDefault()},preventDrag:function(){o._dragFlag=!1}}));J===!1&&o.stop(),o._isMouseEvent&&o.flag&&D&&m.preventDefault()}if(!o.flag)return!1;var dt=0;if(F?(o._attchDragEvent(),H&&E&&(dt=setTimeout(function(){tr(C,"touchstart",o.onDragStart,{passive:!1})}))):H&&E&&We(C,"touchstart",o.onDragStart),o.flag&&Rx(m)){if(clearTimeout(dt),F&&m.touches.length!==m.changedTouches.length)return;o.pinchFlag||o.onPinchStart(m)}}}},o.onDrag=function(m,b){if(o.flag){var x=o.options.preventDefault;!o._isMouseEvent&&x&&m.preventDefault(),o._prevInputEvent=m;var S=Ds(m),C=o.moveClients(S,m,!1);if(o._dragFlag){if(o.pinchFlag||C.deltaX||C.deltaY){var E=o._preventMouseEvent||o.emit("drag",Ne(Ne({},C),{isScroll:!!b,inputEvent:m}));if(E===!1){o.stop();return}}o.pinchFlag&&o.onPinch(m,S)}o.getCurrentStore().getPosition(S,!0)}},o.onDragEnd=function(m){if(o.flag){var b=o.options,x=b.pinchOutside,S=b.container,C=b.preventClickEventOnDrag,E=b.preventClickEventOnDragStart,w=b.preventClickEventByCondition,M=o.isDrag;(C||E||w)&&requestAnimationFrame(function(){o._allowClickEvent()}),!w&&!E&&C&&!M&&o._allowClickEvent(),o._useTouch&&x&&We(S,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(m);var D=m!=null&&m.touches?Ds(m):[],O=D.length;O===0||!o.options.keepDragging?o.flag=!1:o._addStore(new Nf(D));var _=o._getPosition(),N=$l(),z=!M&&o.doubleFlag;o._prevInputEvent=null,o.prevTime=M||z?0:N,o.flag||(o._dettachDragEvent(),o._preventMouseEvent||o.emit("dragEnd",Ne({data:o.data,datas:o.data,isDouble:z,isDrag:M,isClick:!M,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,inputEvent:m,isTrusted:o._isTrusted},_)),o.clientStores=[],o._isMouseEvent||(o._preventMouseEvent=!0,clearTimeout(o._preventMouseEventId),o._preventMouseEventId=setTimeout(function(){o._preventMouseEvent=!1},200)),o._isIdle=!0)}},o.onBlur=function(){o.onDragEnd()},o._allowClickEvent=function(){We(o._window,"click",o._onClick,!0)},o._onClick=function(m){o._allowClickEvent(),o._allowMouseEvent();var b=o.options.preventClickEventByCondition;b!=null&&b(m)||(m.stopPropagation(),m.preventDefault())},o._onContextMenu=function(m){var b=o.options;b.preventRightClick?o.onDragEnd(m):m.preventDefault()},o._passCallback=function(){};var u=[].concat(n),c=u[0];o._window=Om(c)?c:an(c),o.options=Ne({checkInput:!1,container:c&&!("document"in c)?an(c):c,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},i);var f=o.options,p=f.container,v=f.events,g=f.checkWindowBlur;if(o._useDrag=v.indexOf("drag")>-1,o._useTouch=v.indexOf("touch")>-1,o._useMouse=v.indexOf("mouse")>-1,o.targets=u,o._useDrag&&u.forEach(function(m){tr(m,"dragstart",o.onDragStart)}),o._useMouse&&(u.forEach(function(m){tr(m,"mousedown",o.onDragStart),tr(m,"mousemove",o._passCallback)}),tr(p,"contextmenu",o._onContextMenu)),g&&tr(an(),"blur",o.onBlur),o._useTouch){var y={passive:!1};u.forEach(function(m){tr(m,"touchstart",o.onDragStart,y),tr(m,"touchmove",o._passCallback,y)})}return o}return a.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},a.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(i,o){return i+o.movement},0)},a.prototype.isDragging=function(){return this.isDrag},a.prototype.isIdle=function(){return this._isIdle},a.prototype.isFlag=function(){return this.flag},a.prototype.isPinchFlag=function(){return this.pinchFlag},a.prototype.isDoubleFlag=function(){return this.doubleFlag},a.prototype.isPinching=function(){return this.isPinch},a.prototype.scrollBy=function(n,i,o,u){u===void 0&&(u=!0),this.flag&&(this.clientStores[0].move(n,i),u&&this.onDrag(o,!0))},a.prototype.move=function(n,i){var o=n[0],u=n[1],c=this.getCurrentStore(),f=c.prevClients;return this.moveClients(f.map(function(p){var v=p.clientX,g=p.clientY;return{clientX:v+o,clientY:g+u,originalClientX:v,originalClientY:g}}),i,!0)},a.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},a.prototype.setEventData=function(n){var i=this.data;for(var o in n)i[o]=n[o];return this},a.prototype.setEventDatas=function(n){return this.setEventData(n)},a.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Ne(Ne({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},a.prototype.getEventData=function(){return this.data},a.prototype.getEventDatas=function(){return this.data},a.prototype.unset=function(){var n=this,i=this.targets,o=this.options.container;this.off(),We(this._window,"blur",this.onBlur),this._useDrag&&i.forEach(function(u){We(u,"dragstart",n.onDragStart)}),this._useMouse&&(i.forEach(function(u){We(u,"mousedown",n.onDragStart)}),We(o,"contextmenu",this._onContextMenu)),this._useTouch&&(i.forEach(function(u){We(u,"touchstart",n.onDragStart)}),We(o,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},a.prototype.onPinchStart=function(n){var i=this,o=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>o)){var u=new Nf(Ds(n));this.pinchFlag=!0,this._addStore(u);var c=this.emit("pinchStart",Ne(Ne({data:this.data,datas:this.data,angle:u.getAngle(),touches:this.getCurrentStore().getPositions()},u.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));c===!1&&(this.pinchFlag=!1)}},a.prototype.onPinch=function(n,i){if(!(!this.flag||!this.pinchFlag||i.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ne(Ne({data:this.data,datas:this.data,movement:this.getMovement(i),angle:o.getAngle(i),rotation:o.getRotation(i),touches:o.getPositions(i),scale:o.getScale(i),distance:o.getDistance(i)},o.getPosition(i)),{inputEvent:n,isTrusted:this._isTrusted}))}},a.prototype.onPinchEnd=function(n){if(this.pinchFlag){var i=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",Ne(Ne({data:this.data,datas:this.data,isPinch:i,touches:o.getPositions()},o.getPosition()),{inputEvent:n}))}},a.prototype.getCurrentStore=function(){return this.clientStores[0]},a.prototype.moveClients=function(n,i,o){var u=this._getPosition(n,o),c=this.isDrag;(u.deltaX||u.deltaY)&&(this.isDrag=!0);var f=!1;return!c&&this.isDrag&&(f=!0),Ne(Ne({data:this.data,datas:this.data},u),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:i,isTrusted:this._isTrusted,isFirstDrag:f})},a.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},a.prototype._getPosition=function(n,i){var o=this.getCurrentStore(),u=o.getPosition(n,i),c=this.clientStores.slice(1).reduce(function(v,g){var y=g.getPosition();return v.distX+=y.distX,v.distY+=y.distY,v},u),f=c.distX,p=c.distY;return Ne(Ne({},u),{distX:f,distY:p})},a.prototype._attchDragEvent=function(){var n=this._window,i=this.options.container,o={passive:!1};this._isDragAPI&&(tr(i,"dragover",this.onDrag,o),tr(n,"dragend",this.onDragEnd)),this._useMouse&&(tr(i,"mousemove",this.onDrag),tr(n,"mouseup",this.onDragEnd)),this._useTouch&&(tr(i,"touchmove",this.onDrag,o),tr(n,"touchend",this.onDragEnd,o),tr(n,"touchcancel",this.onDragEnd,o))},a.prototype._dettachDragEvent=function(){var n=this._window,i=this.options.container;this._isDragAPI&&(We(i,"dragover",this.onDrag),We(n,"dragend",this.onDragEnd)),this._useMouse&&(We(i,"mousemove",this.onDrag),We(n,"mouseup",this.onDragEnd)),this._useTouch&&(We(i,"touchstart",this.onDragStart),We(i,"touchmove",this.onDrag),We(n,"touchend",this.onDragEnd),We(n,"touchcancel",this.onDragEnd))},a.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},a}(Yd);function Bx(e){for(var a=5381,n=e.length;n;)a=a*33^e.charCodeAt(--n);return a>>>0}var jx=Bx;function Lx(e){return jx(e).toString(36)}function Vx(e){if(e&&e.getRootNode){var a=e.getRootNode();if(a.nodeType===11)return a}}function Gx(e,a,n){return n.original?a:a.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(i,o){var u=o.trim();return(u?_n(u):[""]).map(function(c){var f=c.trim();return f.indexOf("@")===0?f:f.indexOf(":global")>-1?f.replace(/\:global/g,""):f.indexOf(":host")>-1?"".concat(f.replace(/\:host/g,".".concat(e))):f?".".concat(e," ").concat(f):".".concat(e)}).join(", ")+" {"})}function Hx(e,a,n,i,o){var u=Hd(i),c=u.createElement("style");return c.setAttribute("type","text/css"),c.setAttribute("data-styled-id",e),c.setAttribute("data-styled-count","1"),n.nonce&&c.setAttribute("nonce",n.nonce),c.innerHTML=Gx(e,a,n),(o||u.head||u.body).appendChild(c),c}function Ux(e){var a="rCS"+Lx(e);return{className:a,inject:function(n,i){i===void 0&&(i={});var o=Vx(n),u=(o||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(a,'"]'));if(!u)u=Hx(a,e,i,n,o);else{var c=parseFloat(u.getAttribute("data-styled-count"))||0;u.setAttribute("data-styled-count","".concat(c+1))}return{destroy:function(){var f,p=parseFloat(u.getAttribute("data-styled-count"))||0;p<=1?(u.remove?u.remove():(f=u.parentNode)===null||f===void 0||f.removeChild(u),u=null):u.setAttribute("data-styled-count","".concat(p-1))}}}}}var cd=function(){return cd=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},cd.apply(this,arguments)};function kx(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function Gm(e,a){var n=Ux(a),i=n.className;return ft.forwardRef(function(o,u){var c=o.className,f=c===void 0?"":c;o.cspNonce;var p=kx(o,["className","cspNonce"]),v=ft.useRef();return ft.useImperativeHandle(u,function(){return v.current},[]),ft.useEffect(function(){var g=n.inject(v.current,{nonce:o.cspNonce});return function(){g.destroy()}},[]),ft.createElement(e,cd({ref:v,"data-styled-id":i,className:"".concat(f," ").concat(i)},p))})}var fd=function(e,a){return fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},fd(e,a)};function oo(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");fd(e,a);function n(){this.constructor=e}e.prototype=a===null?Object.create(a):(n.prototype=a.prototype,new n)}var P=function(){return P=Object.assign||function(a){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(a[u]=n[u])}return a},P.apply(this,arguments)};function Xx(e,a){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&a.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function qx(e,a,n,i){var o=arguments.length,u=o<3?a:i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(e,a,n,i);else for(var f=e.length-1;f>=0;f--)(c=e[f])&&(u=(o<3?c(u):o>3?c(a,n,u):c(a,n))||u);return o>3&&u&&Object.defineProperty(a,n,u),u}function Ix(e){var a=typeof Symbol=="function"&&Symbol.iterator,n=a&&e[a],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(e,a){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],c;try{for(;(a===void 0||a-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return u}function Et(e,a,n){if(arguments.length===2)for(var i=0,o=a.length,u;i<o;i++)(u||!(i in a))&&(u||(u=Array.prototype.slice.call(a,0,i)),u[i]=a[i]);return e.concat(u||Array.prototype.slice.call(a))}function so(e,a){return P({events:[],props:[],name:e},a)}var Yx=["n","w","s","e"],Fd=["n","w","s","e","nw","ne","sw","se"];function Px(e,a){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*e,'px" height="').concat(32*e,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(a,'deg);transform-origin: 16px 16px"></path></svg>')}function Fx(e){var a=Px(1,e),n=Math.round(e/45)*45%180,i="ns-resize";return n===135?i="nwse-resize":n===45?i="nesw-resize":n===90&&(i="ew-resize"),"cursor:".concat(i,";cursor: url('").concat(a,"') 16 16, ").concat(i,";")}var Xi=NS(),Hm=Xi.browser.webkit,Um=Hm&&function(){var e=typeof window>"u"?{userAgent:""}:window.navigator,a=/applewebkit\/([^\s]+)/g.exec(e.userAgent.toLowerCase());return a?parseFloat(a[1])<605:!1}(),km=Xi.browser.name,Xm=parseInt(Xi.browser.version,10),Kx=km==="chrome",Wx=Xi.browser.chromium,Zx=parseInt(Xi.browser.chromiumVersion,10)||0,Qx=Kx&&Xm>=109||Wx&&Zx>=109,Jx=km==="firefox",$x=parseInt(Xi.browser.webkitVersion,10)>=612||Xm>=15,Kd="moveable-",t2=Fd.map(function(e){var a="",n="",i="center",o="center",u="calc(var(--moveable-control-padding, 20) * -1px)";return e.indexOf("n")>-1&&(a="top: ".concat(u,";"),o="bottom"),e.indexOf("s")>-1&&(a="top: 0px;",o="top"),e.indexOf("w")>-1&&(n="left: ".concat(u,";"),i="right"),e.indexOf("e")>-1&&(n="left: 0px;",i="left"),'.around-control[data-direction*="'.concat(e,`"] {
        `).concat(n).concat(a,`
        transform-origin: `).concat(i," ").concat(o,`;
    }`)}).join(`
`),e2=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(t2,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(e){return`
.direction[data-rotation="`.concat(e,'"], :global .view-control-rotation').concat(e,` {
`).concat(Fx(e),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Um?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),r2=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],dd=1e-4,or=1e-7,Os=1e-9,vd=Math.pow(10,10),b0=-vd,a2={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Wd={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},qm={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},n2=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function uo(e,a,n,i,o,u){var c,f;u===void 0&&(u="draggable");var p=(f=(c=a.gestos[u])===null||c===void 0?void 0:c.move(n,e.inputEvent))!==null&&f!==void 0?f:{},v=p.originalDatas||p.datas,g=v[u]||(v[u]={});return P(P({},p),{isPinch:!!i,parentEvent:!0,datas:g,originalDatas:e.originalDatas})}var Bi=function(){function e(a){var n;a===void 0&&(a="draggable"),this.ableName=a,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[a]={},n)}return e.prototype.dragStart=function(a,n){this.isDrag=!1,this.isFlag=!1;var i=n.originalDatas;return this.datas=i,i[this.ableName]||(i[this.ableName]={}),P(P({},this.move(a,n.inputEvent)),{type:"dragstart"})},e.prototype.drag=function(a,n){return this.move([a[0]-this.prevX,a[1]-this.prevY],n)},e.prototype.move=function(a,n){var i,o,u=!1;if(!this.isFlag)this.prevX=a[0],this.prevY=a[1],this.startX=a[0],this.startY=a[1],i=a[0],o=a[1],this.isFlag=!0;else{var c=this.isDrag;i=this.prevX+a[0],o=this.prevY+a[1],(a[0]||a[1])&&(this.isDrag=!0),!c&&this.isDrag&&(u=!0)}return this.prevX=i,this.prevY=o,{type:"drag",clientX:i,clientY:o,inputEvent:n,isFirstDrag:u,isDrag:this.isDrag,distX:i-this.startX,distY:o-this.startY,deltaX:a[0],deltaY:a[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},e}();function zi(e,a,n,i){var o=e.length===16,u=o?4:3,c=Gn(e,n,i,u),f=K(c,4),p=K(f[0],2),v=p[0],g=p[1],y=K(f[1],2),m=y[0],b=y[1],x=K(f[2],2),S=x[0],C=x[1],E=K(f[3],2),w=E[0],M=E[1],D=K(Ee(e,a,u),2),O=D[0],_=D[1],N=Math.min(v,m,S,w),z=Math.min(g,b,C,M),j=Math.max(v,m,S,w),H=Math.max(g,b,C,M);v=v-N||0,m=m-N||0,S=S-N||0,w=w-N||0,g=g-z||0,b=b-z||0,C=C-z||0,M=M-z||0,O=O-N||0,_=_-z||0;var F=e[0],I=e[u+1],X=nr(F*I);return{left:N,top:z,right:j,bottom:H,origin:[O,_],pos1:[v,g],pos2:[m,b],pos3:[S,C],pos4:[w,M],direction:X}}function Im(e,a){var n=a.clientX,i=a.clientY,o=a.datas,u=e.state,c=u.moveableClientRect,f=u.rootMatrix,p=u.is3d,v=u.pos1,g=c.left,y=c.top,m=p?4:3,b=K(Nt(Vi(f,[n-g,i-y],m),v),2),x=b[0],S=b[1],C=K(na({datas:o,distX:x,distY:S}),2),E=C[0],w=C[1];return[E,w]}function Vn(e,a){var n=a.datas,i=e.state,o=i.allMatrix,u=i.beforeMatrix,c=i.is3d,f=i.left,p=i.top,v=i.origin,g=i.offsetMatrix,y=i.targetMatrix,m=i.transformOrigin,b=c?4:3;n.is3d=c,n.matrix=o,n.targetMatrix=y,n.beforeMatrix=u,n.offsetMatrix=g,n.transformOrigin=m,n.inverseMatrix=aa(o,b),n.inverseBeforeMatrix=aa(u,b),n.absoluteOrigin=Nn(te([f,p],v),b),n.startDragBeforeDist=er(n.inverseBeforeMatrix,n.absoluteOrigin,b),n.startDragDist=er(n.inverseMatrix,n.absoluteOrigin,b)}function i2(e){return zi(e.datas.beforeTransform,[50,50],100,100).direction}function au(e,a,n){var i=a.datas,o=a.originalDatas.beforeRenderable,u=i.transformIndex,c=o.nextTransforms,f=c.length,p=o.nextTransformAppendedIndexes,v=-1;u===-1?(n==="translate"?v=0:n==="rotate"&&(v=wa(c,function(b){return b.match(/scale\(/g)})),v===-1&&(v=c.length),i.transformIndex=v):Tr(p,function(b){return b.index===u&&b.functionName===n})?v=u:v=u+p.filter(function(b){return b.index<u}).length;var g=_C(c,e.state,v),y=g.targetFunction,m=n==="rotate"?"rotateZ":n;i.beforeFunctionTexts=g.beforeFunctionTexts,i.afterFunctionTexts=g.afterFunctionTexts,i.beforeTransform=g.beforeFunctionMatrix,i.beforeTransform2=g.beforeFunctionMatrix2,i.targetTansform=g.targetFunctionMatrix,i.afterTransform=g.afterFunctionMatrix,i.afterTransform2=g.afterFunctionMatrix2,i.targetAllTransform=g.allFunctionMatrix,y.functionName===m?(i.afterFunctionTexts.splice(0,1),i.isAppendTransform=!1):f>v&&(i.isAppendTransform=!0,o.nextTransformAppendedIndexes=Et(Et([],K(p),!1),[{functionName:n,index:v,isAppend:!0}],!1))}function nu(e,a,n){return"".concat(e.beforeFunctionTexts.join(" ")," ").concat(e.isAppendTransform?n:a," ").concat(e.afterFunctionTexts.join(" "))}function l2(e){var a=e.datas,n=e.distX,i=e.distY,o=K(Pm({datas:a,distX:n,distY:i}),2),u=o[0],c=o[1],f=Ym(a,rx([u,c],4));return er(f,Nn([0,0,0],4),4)}function Ym(e,a,n){var i=e.beforeTransform,o=e.afterTransform,u=e.beforeTransform2,c=e.afterTransform2,f=e.targetAllTransform,p=n?ve(f,a,4):ve(a,f,4),v=ve(aa(n?u:i,4),p,4),g=ve(v,aa(n?c:o,4),4);return g}function Pm(e){var a=e.datas,n=e.distX,i=e.distY,o=a.inverseBeforeMatrix,u=a.is3d,c=a.startDragBeforeDist,f=a.absoluteOrigin,p=u?4:3;return Nt(er(o,te(f,[n,i]),p),c)}function na(e,a){var n=e.datas,i=e.distX,o=e.distY,u=n.inverseBeforeMatrix,c=n.inverseMatrix,f=n.is3d,p=n.startDragBeforeDist,v=n.startDragDist,g=n.absoluteOrigin,y=f?4:3;return Nt(er(a?u:c,te(g,[i,o]),y),a?p:v)}function o2(e,a){var n=e.datas,i=e.distX,o=e.distY;n.beforeMatrix;var u=n.matrix,c=n.is3d;n.startDragBeforeDist;var f=n.startDragDist,p=n.absoluteOrigin,v=c?4:3;return Nt(er(u,te(f,[i,o]),v),p)}function s2(e,a,n,i,o,u){return i===void 0&&(i=a),o===void 0&&(o=n),u===void 0&&(u=[0,0]),e?e.map(function(c,f){var p=no(c),v=p.value,g=p.unit,y=f?o:i,m=f?n:a;if(c==="%"||isNaN(v)){var b=y?u[f]/y:0;return m*b}else if(g!=="%")return v;return m*v/100}):u}function Fm(e){var a=[];return e[1]>=0&&(e[0]>=0&&a.push(3),e[0]<=0&&a.push(2)),e[1]<=0&&(e[0]>=0&&a.push(1),e[0]<=0&&a.push(0)),a}function u2(e,a){return Fm(a).map(function(n){return e[n]})}function Bf(e,a){var n=(a+1)/2;return[qs(e[0][0],e[1][0],n,1-n),qs(e[0][1],e[1][1],n,1-n)]}function He(e,a){var n=Bf([e[0],e[1]],a[0]),i=Bf([e[2],e[3]],a[0]);return Bf([n,i],a[1])}function c2(e,a,n,i,o,u){var c=Gn(a,n,i,o),f=He(c,u),p=e[0]-f[0],v=e[1]-f[1];return[p,v]}function co(e,a,n,i){return ve(e,Kl(a,i,n),i)}function f2(e,a,n,i){var o=e.transformOrigin,u=e.offsetMatrix,c=e.is3d,f=c?4:3,p;if(Ma(n)){var v=a.beforeTransform,g=a.afterTransform;i?p=Pr(to(n),4,f):p=Pr(ve(ve(v,to([n]),4),g,4),4,f)}else p=n;return co(u,p,o,f)}function d2(e,a){var n=e.transformOrigin,i=e.offsetMatrix,o=e.is3d,u=e.targetMatrix,c=e.targetAllTransform,f=o?4:3;return co(i,ve(c||u,Xd(a,f),f),n,f)}function iu(e,a){var n=qi(a);return{setTransform:function(i,o){o===void 0&&(o=-1),n.startTransforms=Ie(i)?i:nn(i),pd(e,a,o)},setTransformIndex:function(i){pd(e,a,i)}}}function lu(e,a,n){var i=qi(a),o=i.startTransforms;pd(e,a,wa(o,function(u){return u.indexOf("".concat(n,"("))===0}))}function pd(e,a,n){var i=qi(a),o=a.datas;if(o.transformIndex=n,n!==-1){var u=i.startTransforms[n];if(u){var c=e.state,f=Ni([u],{"x%":function(p){return p/100*c.offsetWidth},"y%":function(p){return p/100*c.offsetHeight}});o.startValue=f[0].functionValue}}}function Zd(e,a){var n=qi(e);n.nextTransforms=nn(a)}function qi(e){return e.originalDatas.beforeRenderable}function Ps(e){var a=e.originalDatas.beforeRenderable;return a.nextTransforms}function Rs(e){return(Ps(e)||[]).join(" ")}function _s(e){return qi(e).nextStyle}function Km(e,a,n,i,o){Zd(o,a);var u=ar.drag(e,uo(o,e.state,n,i)),c=u?u.transform:a;return P(P({transform:a,drag:u},ir({transform:c},o)),{afterTransform:c})}function Qd(e,a,n,i,o,u){var c=f2(e.state,o,a,u),f=h2(e,n,i,c);return f}function Wm(e,a,n,i,o,u,c){var f=Qd(e,a,n,o,u,c),p=e.state,v=p.left,g=p.top,y=e.props.groupable,m=y?v:0,b=y?g:0,x=Nt(i,f);return Nt(x,[m,b])}function v2(e,a,n,i,o,u,c){var f=Wm(e,a,n,i,o,u,c);return f}function p2(e,a,n){return[a?-1+e[0]/(a/2):0,n?-1+e[1]/(n/2):0]}function h2(e,a,n,i){i===void 0&&(i=e.state.allMatrix);var o=e.state,u=o.width,c=o.height,f=o.is3d,p=f?4:3,v=[u/2*(1+a[0])+n[0],c/2*(1+a[1])+n[1]];return Ee(i,v,p)}function g2(e,a,n){var i=n.fixedDirection,o=n.fixedPosition,u=n.fixedOffset;return Wm(e,"rotate(".concat(a,"deg)"),i,o,u,n)}function m2(e,a,n,i,o,u){var c=e.props.groupable,f=e.state,p=f.transformOrigin,v=f.offsetMatrix,g=f.is3d,y=f.width,m=f.height,b=f.left,x=f.top,S=u.fixedDirection,C=u.nextTargetMatrix||f.targetMatrix,E=g?4:3,w=s2(o,a,n,y,m,p),M=c?b:0,D=c?x:0,O=co(v,C,w,E),_=c2(i,O,a,n,E,S);return Nt(_,[M,D])}function y2(e,a){return He(Hr(e.state),a)}function b2(e,a){var n=e.targetGesto,i=e.controlGesto,o;return n!=null&&n.isFlag()&&(o=n.getEventData()[a]),!o&&(i!=null&&i.isFlag())&&(o=i.getEventData()[a]),o||{}}function S2(e){if(e&&e.getRootNode){var a=e.getRootNode();if(a.nodeType===11)return a}}function x2(e){var a=e("scale"),n=e("rotate"),i=e("translate"),o=[];return i&&i!=="0px"&&i!=="none"&&o.push("translate(".concat(i.split(/\s+/).join(","),")")),n&&n!=="1"&&n!=="none"&&o.push("rotate(".concat(n,")")),a&&a!=="1"&&a!=="none"&&o.push("scale(".concat(a.split(/\s+/).join(","),")")),o}function Zm(e,a,n){for(var i=e,o=[],u=Ud(e)||sn(e),c=!n&&e===a||e===u,f=c,p=!1,v=3,g,y,m,b=!1,x=ro(a,a,!0).offsetParent,S=1;i&&!f;){f=c;var C=vr(i),E=C("position"),w=S1(i),M=E==="fixed",D=x2(C),O=ax(yC(w)),_=void 0,N=!1,z=!1,j=0,H=0,F=0,I=0,X={hasTransform:!1,fixedContainer:null};M&&(b=!0,X=EC(i),x=X.fixedContainer);var Q=O.length;!p&&(Q===16||D.length)&&(p=!0,v=4,Sd(o),m&&(m=Pr(m,3,4))),p&&Q===9&&(O=Pr(O,3,4));var U=CC(i,e),G=U.tagName,Z=U.hasOffset,J=U.isSVG,dt=U.origin,B=U.targetOrigin,q=U.offset,nt=K(q,2),lt=nt[0],ct=nt[1];G==="svg"&&!i.ownerSVGElement&&m&&(o.push({type:"target",target:i,matrix:TC(i,v)}),o.push({type:"offset",target:i,matrix:ge(v)}));var bt=parseFloat(C("zoom"))||1;if(M)_=X.fixedContainer,N=!0;else{var L=ro(i,a,!1,!0,C),V=L.offsetZoom;if(_=L.offsetParent,N=L.isEnd,z=L.isStatic,S*=V,(L.isCustomElement||V!==1)&&z)lt-=_.offsetLeft,ct-=_.offsetTop;else if(Jx||Qx){var Y=L.parentSlotElement;if(Y){for(var ht=_,gt=0,vt=0;ht&&S2(ht);)gt+=ht.offsetLeft,vt+=ht.offsetTop,ht=ht.offsetParent;lt-=gt,ct-=vt}}}if(Hm&&!$x&&Z&&!J&&z&&(E==="relative"||E==="static")&&(lt-=_.offsetLeft,ct-=_.offsetTop,c=c||N),M)Z&&X.hasTransform&&(F=_.clientLeft,I=_.clientTop);else if(Z&&x!==_&&(j=_.clientLeft,H=_.clientTop),Z&&_===u){var tt=x1(i,!1);lt+=tt[0],ct+=tt[1]}if(o.push({type:"target",target:i,matrix:Kl(O,v,dt)}),D.length&&(o.push({type:"offset",target:i,matrix:ge(v)}),o.push({type:"target",target:i,matrix:Kl(to(D),v,dt)})),Z){var rt=i===e,ut=rt?0:i.scrollLeft,Ct=rt?0:i.scrollTop;o.push({type:"offset",target:i,matrix:Bn([lt-ut+j-F,ct-Ct+H-I],v)})}else o.push({type:"offset",target:i,origin:dt});if(bt!==1&&o.push({type:"zoom",target:i,matrix:Kl(Xd([bt,bt],v),v,[0,0])}),m||(m=O),g||(g=dt),y||(y=B),f||M)break;i=_,c=N,(!n||i===u)&&(f=c)}return m||(m=ge(v)),g||(g=[0,0]),y||(y=[0,0]),{zoom:S,offsetContainer:x,matrixes:o,targetMatrix:m,transformOrigin:g,targetOrigin:y,is3d:p,hasFixed:b}}var Mn=null,Dn=null,Di=null;function ji(e){e?(window.Map&&(Mn=new Map,Dn=new Map),Di=[]):(Mn=null,Di=null,Dn=null)}function C2(e){var a=Dn==null?void 0:Dn.get(e);if(a)return a;var n=Wl(e,!0);return Dn&&Dn.set(e,n),n}function E2(e,a){if(Di){var n=Tr(Di,function(o){return o[0][0]==e&&o[0][1]==a});if(n)return n[1]}var i=Zm(e,a,!0);return Di&&Di.push([[e,a],i]),i}function vr(e){var a=Mn==null?void 0:Mn.get(e);if(!a){var n=an(e).getComputedStyle(e);if(!Mn)return function(u){return n[u]};a={style:n,cached:{}},Mn.set(e,a)}var i=a.cached,o=a.style;return function(u){return u in i||(i[u]=o[u]),i[u]}}function Ir(e,a,n){var i=n.originalDatas;i.groupable=i.groupable||{};var o=i.groupable;o.childDatas=o.childDatas||[];var u=o.childDatas;return e.moveables.map(function(c,f){return u[f]=u[f]||{},u[f][a]=u[f][a]||{},P(P({},n),{isRequestChild:!0,datas:u[f][a],originalDatas:u[f]})})}function jf(e,a,n,i,o,u,c){var f=!!n.match(/Start$/g),p=!!n.match(/End$/g),v=o.isPinch,g=o.datas,y=Ir(e,a.name,o),m=e.moveables,b=[],x=y.map(function(S,C){var E=m[C],w=E.state,M=w.gestos,D=S;if(f)D=new Bi(c).dragStart(i,S),b.push(D);else{if(M[c]||(M[c]=g.childGestos[C]),!M[c])return;D=uo(S,w,i,v,u,c),b.push(D)}var O=a[n](E,P(P({},D),{parentFlag:!0}));return p&&(M[c]=null),O});return f&&(g.childGestos=m.map(function(S){return S.state.gestos[c]})),{eventParams:x,childEvents:b}}function Aa(e,a,n,i,o,u){o===void 0&&(o=function(g,y){return y});var c=!!n.match(/End$/g),f=Ir(e,a.name,i),p=e.moveables,v=f.map(function(g,y){var m=p[y],b=g;b=o(m,g);var x=a[n](m,P(P({},b),{parentFlag:!0}));return c&&(m.state.gestos={}),x});return v}function Fs(e,a,n,i){var o=n.fixedDirection,u=n.fixedPosition,c=i.datas.startPositions||Hr(a.state),f=He(c,o),p=K(er(lo(-e.rotation/180*Math.PI,3),[f[0]-u[0],f[1]-u[1],1],3),2),v=p[0],g=p[1];return i.datas.originalX=v,i.datas.originalY=g,i}function Qm(e,a,n,i){var o=e.getState(),u=o.renderPoses,c=o.rotation,f=o.direction,p=Ln(e.props,a).zoom,v=Fl(c/Math.PI*180),g={},y=e.renderState;y.renderDirectionMap||(y.renderDirectionMap={});var m=y.renderDirectionMap;n.forEach(function(x){var S=x.dir;g[S]=!0});var b=nr(f);return n.map(function(x){var S=x.data,C=x.classNames,E=x.dir,w=Wd[E];if(!w||!g[E])return null;m[E]=!0;var M=(kt(v,15)+b*qm[E]+720)%180,D={};return ki(S).forEach(function(O){D["data-".concat(O)]=S[O]}),i.createElement("div",P({className:zt.apply(void 0,Et(["control","direction",E,a],K(C),!1)),"data-rotation":M,"data-direction":E},D,{key:"direction-".concat(E),style:Qs.apply(void 0,Et([c,p],K(w.map(function(O){return u[O]})),!1))}))})}function Jm(e,a,n,i){var o=Ln(e.props,n),u=o.renderDirections,c=u===void 0?a:u,f=o.displayAroundControls;if(!c)return[];var p=c===!0?Fd:c;return Et(Et([],K(f?r1(e,i,n,p):[]),!1),K(Qm(e,n,p.map(function(v){return{data:{},classNames:[],dir:v}}),i)),!1)}function eo(e,a,n,i,o,u){for(var c=[],f=6;f<arguments.length;f++)c[f-6]=arguments[f];var p=Re(n,i),v=a?kt(p/Math.PI*180,15)%180:-1;return e.createElement("div",{key:"line-".concat(u),className:zt.apply(void 0,Et(["line","direction",a?"edge":"",a],K(c),!1)),"data-rotation":v,"data-line-key":u,"data-direction":a,style:Il(n,i,o,p)})}function $m(e,a,n,i,o){var u=n===!0?Yx:n;return u.map(function(c,f){var p=K(Wd[c],2),v=p[0],g=p[1];if(g!=null)return eo(e,c,i[v],i[g],o,"".concat(a,"Edge").concat(f),a)}).filter(Boolean)}function t1(e){return function(a,n){var i=Ln(a.props,e).edge;return i&&(i===!0||i.length)?Et(Et([],K($m(n,e,i,a.getState().renderPoses,a.props.zoom)),!1),K(T2(a,e,n)),!1):e1(a,e,n)}}function e1(e,a,n){return Jm(e,Fd,a,n)}function T2(e,a,n){return Jm(e,["nw","ne","sw","se"],a,n)}function r1(e,a,n,i){var o=e.renderState;o.renderDirectionMap||(o.renderDirectionMap={});var u=e.getState(),c=u.renderPoses,f=u.rotation,p=u.direction,v=o.renderDirectionMap,g=e.props.zoom,y=nr(p),m=f/Math.PI*180;return(i||ki(v)).map(function(b){var x=Wd[b];if(!x)return null;var S=(kt(m,15)+y*qm[b]+720)%180,C=["around-control"];return n&&C.push("direction",n),a.createElement("div",{className:zt.apply(void 0,Et([],K(C),!1)),"data-rotation":S,"data-direction":b,key:"direction-around-".concat(b),style:Qs.apply(void 0,Et([f,g],K(x.map(function(E){return c[E]})),!1))})})}function Jd(e,a,n){var i=e||{},o=i.position,u=o===void 0?"client":o,c=i.left,f=c===void 0?-1/0:c,p=i.top,v=p===void 0?-1/0:p,g=i.right,y=g===void 0?1/0:g,m=i.bottom,b=m===void 0?1/0:m,x={position:u,left:f,top:v,right:y,bottom:b};return{vertical:S0(x,a,!0),horizontal:S0(x,n,!1)}}function ou(e,a){var n=e.state,i=n.containerClientRect,o=i.clientHeight,u=i.clientWidth,c=i.clientLeft,f=i.clientTop,p=n.snapOffset,v=p.left,g=p.top,y=p.right,m=p.bottom,b=a||e.props.bounds||{},x=b.position||"client",S=x==="css",C=b.left,E=C===void 0?-1/0:C,w=b.top,M=w===void 0?-1/0:w,D=b.right,O=D===void 0?S?-1/0:1/0:D,_=b.bottom,N=_===void 0?S?-1/0:1/0:_;return S&&(O=u+y-v-O,N=o+m-g-N),{left:E+v-c,right:O+v-c,top:M+g-f,bottom:N+g-f}}function A2(e,a,n){var i=ou(e),o=i.left,u=i.top,c=i.right,f=i.bottom,p=K(n,2),v=p[0],g=p[1],y=K(Nt(n,a),2),m=y[0],b=y[1];xt(m)<or&&(m=0),xt(b)<or&&(b=0);var x=b>0,S=m>0,C={isBound:!1,offset:0,pos:0},E={isBound:!1,offset:0,pos:0};if(m===0&&b===0)return{vertical:C,horizontal:E};if(m===0)x?f<g&&(E.pos=f,E.offset=g-f):u>g&&(E.pos=u,E.offset=g-u);else if(b===0)S?c<v&&(C.pos=c,C.offset=v-c):o>v&&(C.pos=o,C.offset=v-o);else{var w=b/m,M=n[1]-w*v,D=0,O=0,_=!1;S&&c<=v?(D=w*c+M,O=c,_=!0):!S&&v<=o&&(D=w*o+M,O=o,_=!0),_&&(D<u||D>f)&&(_=!1),_||(x&&f<=g?(D=f,O=(D-M)/w,_=!0):!x&&g<=u&&(D=u,O=(D-M)/w,_=!0)),_&&(C.isBound=!0,C.pos=O,C.offset=v-O,E.isBound=!0,E.pos=D,E.offset=g-D)}return{vertical:C,horizontal:E}}function S0(e,a,n){var i=e[n?"left":"top"],o=e[n?"right":"bottom"],u=Math.min.apply(Math,Et([],K(a),!1)),c=Math.max.apply(Math,Et([],K(a),!1)),f=[];return i+1>u&&f.push({direction:"start",isBound:!0,offset:u-i,pos:i}),o-1<c&&f.push({direction:"end",isBound:!0,offset:c-o,pos:o}),f.length||f.push({isBound:!1,offset:0,pos:0}),f.sort(function(p,v){return xt(v.offset)-xt(p.offset)})}function x0(e,a,n){var i=n?e.map(function(o){return io(o,n)}):e;return i.some(function(o){return o[0]<a.left&&xt(o[0]-a.left)>.1||o[0]>a.right&&xt(o[0]-a.right)>.1||o[1]<a.top&&xt(o[1]-a.top)>.1||o[1]>a.bottom&&xt(o[1]-a.bottom)>.1})}function w2(e,a,n){var i=Gr(e),o=Math.sqrt(i*i-a*a)||0;return[o,-o].sort(function(u,c){return xt(u-e[n?0:1])-xt(c-e[n?0:1])}).map(function(u){return Re([0,0],n?[u,a]:[a,u])})}function M2(e,a,n,i,o){if(!e.props.bounds)return[];var u=o*Math.PI/180,c=ou(e),f=c.left,p=c.top,v=c.right,g=c.bottom,y=f-i[0],m=v-i[0],b=p-i[1],x=g-i[1],S={left:y,top:b,right:m,bottom:x};if(!x0(n,S,0))return[];var C=[];return[[y,0],[m,0],[b,1],[x,1]].forEach(function(E){var w=K(E,2),M=w[0],D=w[1];n.forEach(function(O){var _=Re([0,0],O);C.push.apply(C,Et([],K(w2(O,M,D).map(function(N){return u+N-_}).filter(function(N){return!x0(a,S,N)}).map(function(N){return kt(N*180/Math.PI,or)})),!1))})}),C}var D2=["left","right","center"],O2=["top","bottom","middle"],C0={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},ln={start:"left",end:"right",center:"center"},on={start:"top",end:"bottom",center:"middle"};function Oi(){return{left:!1,top:!1,right:!1,bottom:!1}}function Ii(e,a){var n=e.props,i=n.snappable,o=n.bounds,u=n.innerBounds,c=n.verticalGuidelines,f=n.horizontalGuidelines,p=n.snapGridWidth,v=n.snapGridHeight,g=e.state,y=g.guidelines,m=g.enableSnap;return!i||!m||a&&i!==!0&&i.indexOf(a)<0?!1:!!(p||v||o||u||y&&y.length||c&&c.length||f&&f.length)}function $d(e){return e===!1?{}:e===!0||!e?{left:!0,right:!0,top:!0,bottom:!0}:e}function R2(e,a){var n=$d(e),i={};for(var o in n)o in a&&n[o]&&(i[o]=a[o]);return i}function tv(e,a){var n=R2(e,a),i=O2.filter(function(u){return u in n}),o=D2.filter(function(u){return u in n});return{horizontalNames:i,verticalNames:o,horizontal:i.map(function(u){return n[u]}),vertical:o.map(function(u){return n[u]})}}function _2(e,a,n){var i=Ee(e,[a.clientLeft,a.clientTop],n);return[a.left+i[0],a.top+i[1]]}function z2(e){var a=K(e,2),n=a[0],i=a[1],o=i[0]-n[0],u=i[1]-n[1];Math.abs(o)<Be&&(o=0),Math.abs(u)<Be&&(u=0);var c=0,f=0,p=0;return o?u?(c=-u/o,f=1,p=c*n[0]-n[1]):(f=1,p=-n[1]):(c=-1,p=n[0]),[c,f,p].map(function(v){return kt(v,Be)})}var a1="snapRotationThreshold",n1="snapRotationDegrees",i1="snapHorizontalThreshold",l1="snapVerticalThreshold";function su(e,a,n,i,o,u,c){var f;i===void 0&&(i=[]),o===void 0&&(o=[]);var p=e.props,v=((f=e.state.snapThresholdInfo)===null||f===void 0?void 0:f.multiples)||[1,1],g=V0(c,p[i1],5),y=V0(u,p[l1],5);return o1(e.state.guidelines,a,n,i,o,g,y,v)}function o1(e,a,n,i,o,u,c,f){return{vertical:T0(e,"vertical",a,c*f[0],i),horizontal:T0(e,"horizontal",n,u*f[1],o)}}function N2(e,a,n){var i=K(n,2),o=i[0],u=i[1],c=K(a,2),f=c[0],p=c[1],v=K(Nt(n,a),2),g=v[0],y=v[1],m=y>0,b=g>0;g=Js(g),y=Js(y);var x={isSnap:!1,offset:0,pos:0},S={isSnap:!1,offset:0,pos:0};if(g===0&&y===0)return{vertical:x,horizontal:S};var C=su(e,g?[o]:[],y?[u]:[],[],[],void 0,void 0),E=C.vertical,w=C.horizontal;E.posInfos.filter(function(G){var Z=G.pos;return b?Z>=f:Z<=f}),w.posInfos.filter(function(G){var Z=G.pos;return m?Z>=p:Z<=p}),E.isSnap=E.posInfos.length>0,w.isSnap=w.posInfos.length>0;var M=hd(E),D=M.isSnap,O=M.guideline,_=hd(w),N=_.isSnap,z=_.guideline,j=N?z.pos[1]:0,H=D?O.pos[0]:0;if(g===0)N&&(S.isSnap=!0,S.pos=z.pos[1],S.offset=u-S.pos);else if(y===0)D&&(x.isSnap=!0,x.pos=H,x.offset=o-H);else{var F=y/g,I=n[1]-F*o,X=0,Q=0,U=!1;D?(Q=H,X=F*Q+I,U=!0):N&&(X=j,Q=(X-I)/F,U=!0),U&&(x.isSnap=!0,x.pos=Q,x.offset=o-Q,S.isSnap=!0,S.pos=X,S.offset=u-X)}return{vertical:x,horizontal:S}}function en(e){var a="";return e===-1||e==="top"||e==="left"?a="start":e===0||e==="center"||e==="middle"?a="center":(e===1||e==="right"||e==="bottom")&&(a="end"),a}function E0(e,a,n,i){var o=tv(e.props.snapDirections,a),u=su(e,o.vertical,o.horizontal,o.verticalNames.map(function(p){return en(p)}),o.horizontalNames.map(function(p){return en(p)}),n,i),c=en(o.horizontalNames[u.horizontal.index]),f=en(o.verticalNames[u.vertical.index]);return{vertical:P(P({},u.vertical),{direction:f}),horizontal:P(P({},u.horizontal),{direction:c})}}function hd(e){var a=e.isSnap;if(!a)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=e.posInfos[0],i=n.guidelineInfos[0],o=i.offset,u=i.dist,c=i.guideline;return{isSnap:a,offset:o,dist:u,pos:n.pos,guideline:c}}function T0(e,a,n,i,o){var u,c;if(o===void 0&&(o=[]),!e||!e.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var f=a==="vertical",p=f?0:1,v=n.map(function(y,m){var b=o[m]||"",x=e.map(function(S){var C=S.pos,E=y-C[p];return{offset:E,dist:xt(E),guideline:S,direction:b}}).filter(function(S){var C=S.guideline,E=S.dist,w=C.type;return!(w!==a||E>i)}).sort(function(S,C){return S.dist-C.dist});return{pos:y,index:m,guidelineInfos:x,direction:b}}).filter(function(y){return y.guidelineInfos.length>0}).sort(function(y,m){return y.guidelineInfos[0].dist-m.guidelineInfos[0].dist}),g=v.length>0;return{isSnap:g,index:g?v[0].index:-1,direction:(c=(u=v[0])===null||u===void 0?void 0:u.direction)!==null&&c!==void 0?c:"",posInfos:v}}function B2(e,a,n,i,o){var u=[];n[0]&&n[1]?u=[n,[-n[0],n[1]],[n[0],-n[1]]]:!n[0]&&!n[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(m,b,x){var S=x[b+1]||x[0];u.push(m),u.push([(m[0]+S[0])/2,(m[1]+S[1])/2])}):e.props.keepRatio?u.push([-1,-1],[-1,1],[1,-1],[1,1],n):(u.push.apply(u,Et([],K(u2([[-1,-1],[1,-1],[-1,-1],[1,1]],n)),!1)),u.length>1&&u.push([(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]));var c=u.map(function(m){return He(a,m)}),f=c.map(function(m){return m[0]}),p=c.map(function(m){return m[1]}),v=su(e,f,p,u.map(function(m){return en(m[0])}),u.map(function(m){return en(m[1])}),i,o),g=en(u.map(function(m){return m[0]})[v.vertical.index]),y=en(u.map(function(m){return m[1]})[v.horizontal.index]);return{vertical:P(P({},v.vertical),{direction:g}),horizontal:P(P({},v.horizontal),{direction:y})}}function s1(e,a){var n=xt(e.offset),i=xt(a.offset);return e.isBound&&a.isBound?i-n:e.isBound?-1:a.isBound?1:e.isSnap&&a.isSnap?i-n:e.isSnap?-1:a.isSnap||n<or?1:i<or?-1:n-i}function Ks(e,a){return e.slice().sort(function(n,i){var o=n.sign[a],u=i.sign[a],c=n.offset[a],f=i.offset[a];if(o){if(!u)return-1}else return 1;return s1({isBound:n.isBound,isSnap:n.isSnap,offset:c},{isBound:i.isBound,isSnap:i.isSnap,offset:f})})[0]}function j2(e,a,n){var i=[];if(n)xt(a[0])!==1||xt(a[1])!==1?i.push([a,[-1,-1]],[a,[-1,1]],[a,[1,-1]],[a,[1,1]]):i.push([a,[e[0],-e[1]]],[a,[-e[0],e[1]]]),i.push([a,e]);else if(e[0]&&e[1]||!e[0]&&!e[1]){var o=e[0]?e:[1,1];[1,-1].forEach(function(c){[1,-1].forEach(function(f){var p=[c*o[0],f*o[1]];a[0]===p[0]&&a[1]===p[1]||i.push([a,p])})})}else if(e[0]){var u=xt(a[0])===1?[1]:[1,-1];u.forEach(function(c){i.push([[a[0],-1],[c*e[0],-1]],[[a[0],0],[c*e[0],0]],[[a[0],1],[c*e[0],1]])})}else if(e[1]){var u=xt(a[1])===1?[1]:[1,-1];u.forEach(function(f){i.push([[-1,a[1]],[-1,f*e[1]]],[[0,a[1]],[0,f*e[1]]],[[1,a[1]],[1,f*e[1]]])})}return i}function u1(e,a){var n=ad([a[0][0],a[1][0]]),i=ad([a[0][1],a[1][1]]);return{vertical:n<=e[0],horizontal:i<=e[1]}}function ev(e,a){var n=K(a,2),i=n[0],o=n[1],u=o[0]-i[0],c=o[1]-i[1];xt(u)<or&&(u=0),xt(c)<or&&(c=0);var f,p;if(!u)f=i[0],p=e[0];else if(!c)f=i[1],p=e[1];else{var v=c/u;f=v*(e[0]-i[0])+i[1],p=e[1]}return f-p}function c1(e,a,n,i){return i===void 0&&(i=or),e.every(function(o){var u=ev(o,a),c=u<=0;return c===n||xt(u)<=i})}function A0(e,a,n,i,o){return o===void 0&&(o=0),i&&a-o<=e||!i&&e<=n+o?{isBound:!0,offset:i?a-e:n-e}:{isBound:!1,offset:0}}function L2(e,a){var n=a.line,i=a.centerSign,o=a.verticalSign,u=a.horizontalSign,c=a.lineConstants,f=e.props.innerBounds;if(!f)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var p=f.left,v=f.top,g=f.width,y=f.height,m=[[p,v],[p,v+y]],b=[[p,v],[p+g,v]],x=[[p+g,v],[p+g,v+y]],S=[[p,v+y],[p+g,v+y]];if(c1([[p,v],[p+g,v],[p,v+y],[p+g,v+y]],n,i))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var C=rn(n,c,b,o),E=rn(n,c,S,o),w=rn(n,c,m,u),M=rn(n,c,x,u),D=C.isBound&&E.isBound,O=C.isBound||E.isBound,_=w.isBound&&M.isBound,N=w.isBound||M.isBound,z=Li(C.offset,E.offset),j=Li(w.offset,M.offset),H=[0,0],F=!1,I=!1;return xt(j)<xt(z)?(H=[z,0],F=O,I=D):(H=[0,j],F=N,I=_),{isAllBound:I,isVerticalBound:O,isHorizontalBound:N,isBound:F,offset:H}}function rn(e,a,n,i,o,u){var c=K(a,2),f=c[0],p=c[1],v=e[0],g=n[0],y=n[1],m=Js(y[1]-g[1]),b=Js(y[0]-g[0]),x=p,S=f,C=-f/p;if(b){if(!m){if(u&&!x)return{isBound:!1,offset:0};if(S){var D=(g[1]-v[1])/C+v[0];return A0(D,g[0],y[0],i,o)}else{var w=g[1]-v[1],M=xt(w)<=(o||0);return{isBound:M,offset:M?w:0}}}}else{if(u&&!S)return{isBound:!1,offset:0};if(x){var E=C*(g[0]-v[0])+v[1];return A0(E,g[1],y[1],i,o)}else{var w=g[0]-v[0],M=xt(w)<=(o||0);return{isBound:M,offset:M?w:0}}}return{isBound:!1,offset:0}}function f1(e,a,n){return a.map(function(i){var o=L2(e,i),u=o.isBound,c=o.offset,f=o.isVerticalBound,p=o.isHorizontalBound,v=i.multiple,g=na({datas:n,distX:c[0],distY:c[1]}).map(function(y,m){return y*(v[m]?2/v[m]:0)});return{sign:v,isBound:u,isVerticalBound:f,isHorizontalBound:p,isSnap:!1,offset:g}})}function V2(e,a,n){var i,o=rv(e,a,[0,0],!1).map(function(m){return P(P({},m),{multiple:m.multiple.map(function(b){return xt(b)*2})})}),u=f1(e,o,n),c=Ks(u,0),f=Ks(u,1),p=0,v=0,g=c.isVerticalBound||f.isVerticalBound,y=c.isHorizontalBound||f.isHorizontalBound;return(g||y)&&(i=K(o2({datas:n,distX:-c.offset[0],distY:-f.offset[1]}),2),p=i[0],v=i[1]),{vertical:{isBound:g,offset:p},horizontal:{isBound:y,offset:v}}}function G2(e,a){var n=[],i=e[0],o=e[1];return i&&o?n.push([[0,o*2],e,[-i,o]],[[i*2,0],e,[i,-o]]):i?(n.push([[i*2,0],[i,1],[i,-1]]),a&&n.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):o?(n.push([[0,o*2],[1,o],[-1,o]]),a&&n.push([[-1,0],[-1,o],[-1,-o]],[[1,0],[1,o],[1,-o]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function rv(e,a,n,i){var o=e.state,u=o.allMatrix,c=o.is3d,f=Gn(u,100,100,c?4:3),p=He(f,[0,0]);return G2(n,i).map(function(v){var g=K(v,3),y=g[0],m=g[1],b=g[2],x=[He(f,m),He(f,b)],S=z2(x),C=u1(p,x),E=C.vertical,w=C.horizontal,M=ev(p,x)<=0;return{multiple:y,centerSign:M,verticalSign:E,horizontalSign:w,lineConstants:S,line:[He(a,m),He(a,b)]}})}function w0(e,a,n,i){var o=i?e.map(function(u){return io(u,i)}):e;return[[o[0],o[1]],[o[1],o[3]],[o[3],o[2]],[o[2],o[0]]].some(function(u){var c=ev(n,u)<=0;return!c1(a,u,c)})}function H2(e){var a=K(e,2),n=a[0],i=a[1],o=i[0]-n[0],u=i[1]-n[1];if(!o)return xt(n[0]);if(!u)return xt(n[1]);var c=u/o;return xt((-c*n[0]+n[1])/Math.sqrt(Math.pow(c,2)+1))}function U2(e){var a=K(e,2),n=a[0],i=a[1],o=i[0]-n[0],u=i[1]-n[1];if(!o)return[n[0],0];if(!u)return[0,n[1]];var c=u/o,f=-c*n[0]+n[1];return[-f/(c+1/c),f/(c*c+1)]}function k2(e,a,n,i,o){var u=e.props.innerBounds,c=o*Math.PI/180;if(!u)return[];var f=u.left,p=u.top,v=u.width,g=u.height,y=f-i[0],m=f+v-i[0],b=p-i[1],x=p+g-i[1],S=[[y,b],[m,b],[y,x],[m,x]],C=He(n,[0,0]);if(!w0(n,S,C,0))return[];var E=[],w=S.map(function(M){return[Gr(M),Re([0,0],M)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(M){var D=Re([0,0],U2(M)),O=H2(M);E.push.apply(E,Et([],K(w.filter(function(_){var N=K(_,1),z=N[0];return z&&O<=z}).map(function(_){var N=K(_,2),z=N[0],j=N[1],H=Math.acos(z?O/z:0),F=j+H,I=j-H;return[c+F-D,c+I-D]}).reduce(function(_,N){return _.push.apply(_,Et([],K(N),!1)),_},[]).filter(function(_){return!w0(a,S,C,_)}).map(function(_){return kt(_*180/Math.PI,or)})),!1))}),E}function X2(e){var a=e.props.innerBounds,n=Oi();if(!a)return{boundMap:n,vertical:[],horizontal:[]};var i=e.getRect(),o=i.pos1,u=i.pos2,c=i.pos3,f=i.pos4,p=[o,u,c,f],v=He(p,[0,0]),g=a.left,y=a.top,m=a.width,b=a.height,x=[[g,y],[g,y+b]],S=[[g,y],[g+m,y]],C=[[g+m,y],[g+m,y+b]],E=[[g,y+b],[g+m,y+b]],w=rv(e,p,[0,0],!1),M=[],D=[];return w.forEach(function(O){var _=O.line,N=O.lineConstants,z=u1(v,_),j=z.horizontal,H=z.vertical,F=rn(_,N,S,H,1,!0),I=rn(_,N,E,H,1,!0),X=rn(_,N,x,j,1,!0),Q=rn(_,N,C,j,1,!0);F.isBound&&!n.top&&(M.push(y),n.top=!0),I.isBound&&!n.bottom&&(M.push(y+b),n.bottom=!0),X.isBound&&!n.left&&(D.push(g),n.left=!0),Q.isBound&&!n.right&&(D.push(g+m),n.right=!0)}),{boundMap:n,horizontal:M,vertical:D}}function q2(e,a,n,i){var o=a[0]-e[0],u=a[1]-e[1];if(xt(o)<Be&&(o=0),xt(u)<Be&&(u=0),!o)return i?[0,0]:[0,n];if(!u)return i?[n,0]:[0,0];var c=u/o,f=e[1]-c*e[0];if(i){var p=c*(a[0]+n)+f;return[n,p-a[1]]}else{var v=(a[1]+n-f)/c;return[v-a[0],n]}}function gd(e,a,n,i,o){var u=q2(e,a,n,i);if(!u)return{isOutside:!1,offset:[0,0]};var c=Ta(e,a),f=Ta(u,e),p=Ta(u,a),v=f>c||p>c,g=K(na({datas:o,distX:u[0],distY:u[1]}),2),y=g[0],m=g[1];return{offset:[y,m],isOutside:v}}function Ws(e,a){return e.isBound?e.offset:a.isSnap?hd(a).offset:0}function I2(e,a,n,i,o){var u=K(a,2),c=u[0],f=u[1],p=K(n,2),v=p[0],g=p[1],y=K(i,2),m=y[0],b=y[1],x=K(o,2),S=x[0],C=x[1],E=-S,w=-C;if(e&&c&&f){E=0,w=0;var M=[];if(v&&g?M.push([0,C],[S,0]):v?M.push([S,0]):g?M.push([0,C]):m&&b?M.push([0,C],[S,0]):m?M.push([S,0]):b&&M.push([0,C]),M.length){M.sort(function(N,z){return Gr(Nt([c,f],N))-Gr(Nt([c,f],z))});var D=M[0];if(D[0]&&xt(c)>Be)E=-D[0],w=f*xt(c+E)/xt(c)-f;else if(D[1]&&xt(f)>Be){var O=f;w=-D[1],E=c*xt(f+w)/xt(O)-c}if(e&&g&&v)if(xt(E)>Be&&xt(E)<xt(S)){var _=xt(S)/xt(E);E*=_,w*=_}else if(xt(w)>Be&&xt(w)<xt(C)){var _=xt(C)/xt(w);E*=_,w*=_}else E=Li(-S,E),w=Li(-C,w)}}else E=c||v?-S:0,w=f||g?-C:0;return[E,w]}function Y2(e,a,n,i,o,u){if(!Ii(e,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var c=iv(u.absolutePoses,[a,n]),f=Vr(c),p=f.left,v=f.right,g=f.top,y=f.bottom,m={horizontal:c.map(function(Q){return Q[1]}),vertical:c.map(function(Q){return Q[0]})},b=$d(e.props.snapDirections),x=tv(b,{left:p,right:v,top:g,bottom:y,center:(p+v)/2,middle:(g+y)/2}),S=uu(e,o,x,m),C=S.vertical,E=S.horizontal,w=V2(e,c,u),M=w.vertical,D=w.horizontal,O=C.isSnap,_=E.isSnap,N=C.isBound||M.isBound,z=E.isBound||D.isBound,j=Li(C.offset,M.offset),H=Li(E.offset,D.offset),F=K(I2(i,[a,n],[N,z],[O,_],[j,H]),2),I=F[0],X=F[1];return[{isBound:N,isSnap:O,offset:I},{isBound:z,isSnap:_,offset:X}]}function uu(e,a,n,i){i===void 0&&(i=n);var o=Jd(ou(e),i.vertical,i.horizontal),u=o.horizontal,c=o.vertical,f=a?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:su(e,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),p=f.horizontal,v=f.vertical,g=Ws(u[0],p),y=Ws(c[0],v),m=xt(g),b=xt(y);return{horizontal:{isBound:u[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:g,dist:m,bounds:u,snap:p},vertical:{isBound:c[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:y,dist:b,bounds:c,snap:v}}}function M0(e,a,n,i,o,u,c){c===void 0&&(c=[1,1]);var f=Jd(a,n,i),p=f.horizontal,v=f.vertical,g=o1(e,n,i,[],[],o,u,c),y=g.horizontal,m=g.vertical,b=Ws(p[0],y),x=Ws(v[0],m),S=xt(b),C=xt(x);return{horizontal:{isBound:p[0].isBound,isSnap:y.isSnap,snapIndex:y.index,offset:b,dist:S,bounds:p,snap:y},vertical:{isBound:v[0].isBound,isSnap:m.isSnap,snapIndex:m.index,offset:x,dist:C,bounds:v,snap:m}}}function P2(e,a,n,i){var o=Re(e,a)/Math.PI*180,u=n.vertical,c=u.isBound,f=u.isSnap,p=u.dist,v=n.horizontal,g=v.isBound,y=v.isSnap,m=v.dist,b=o%180,x=b<3||b>177,S=b>87&&b<93;return m<p&&(c||f&&!S&&(!i||!x))?"vertical":g||y&&!x&&(!i||!S)?"horizontal":""}function F2(e,a,n,i,o,u){return n.map(function(c){var f=K(c,2),p=f[0],v=f[1],g=He(a,p),y=He(a,v),m=i?K2(e,g,y,o):uu(e,o,{vertical:[y[0]],horizontal:[y[1]]}),b=m.horizontal,x=b.offset,S=b.isBound,C=b.isSnap,E=m.vertical,w=E.offset,M=E.isBound,D=E.isSnap,O=Nt(v,p);if(!w&&!x)return{isBound:M||S,isSnap:D||C,sign:O,offset:[0,0]};var _=P2(g,y,m,i);if(!_)return{sign:O,isBound:!1,isSnap:!1,offset:[0,0]};var N=_==="vertical",z=[0,0];return!i&&xt(v[0])===1&&xt(v[1])===1&&p[0]!==v[0]&&p[1]!==v[1]?z=na({datas:u,distX:-w,distY:-x}):z=gd(g,y,-(N?w:x),N,u).offset,z=z.map(function(j,H){return j*(O[H]?2/O[H]:0)}),{sign:O,isBound:N?M:S,isSnap:N?D:C,offset:z}})}function D0(e,a){return e.isBound?e.offset:a.isSnap?a.offset:0}function K2(e,a,n,i){var o=A2(e,a,n),u=o.horizontal,c=o.vertical,f=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:N2(e,a,n),p=f.horizontal,v=f.vertical,g=D0(u,p),y=D0(c,v),m=xt(g),b=xt(y);return{horizontal:{isBound:u.isBound,isSnap:p.isSnap,offset:g,dist:m},vertical:{isBound:c.isBound,isSnap:v.isSnap,offset:y,dist:b}}}function W2(e,a,n,i,o){var u=[-n[0],-n[1]],c=e.state,f=c.width,p=c.height,v=e.props.bounds,g=1/0,y=1/0;if(v){var m=[[n[0],-n[1]],[-n[0],n[1]]],b=v.left,x=b===void 0?-1/0:b,S=v.top,C=S===void 0?-1/0:S,E=v.right,w=E===void 0?1/0:E,M=v.bottom,D=M===void 0?1/0:M;m.forEach(function(O){var _=O[0]!==u[0],N=O[1]!==u[1],z=He(a,O),j=Re(i,z)*360/Math.PI;if(N){var H=z.slice();(xt(j-360)<2||xt(j-180)<2)&&(H[1]=i[1]);var F=gd(i,H,(i[1]<z[1]?D:C)-z[1],!1,o),I=K(F.offset,2),X=I[1],Q=F.isOutside;isNaN(X)||(y=p+(Q?1:-1)*xt(X))}if(_){var H=z.slice();(xt(j-90)<2||xt(j-270)<2)&&(H[0]=i[0]);var U=gd(i,H,(i[0]<z[0]?w:x)-z[0],!0,o),G=K(U.offset,1),Z=G[0],J=U.isOutside;isNaN(Z)||(g=f+(J?1:-1)*xt(Z))}})}return{maxWidth:g,maxHeight:y}}var ar={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(e,a){var n=e.props,i=n.hideThrottleDragRotateLine,o=n.throttleDragRotate,u=n.zoom,c=e.getState(),f=c.dragInfo,p=c.beforeOrigin;if(i||!o||!f)return[];var v=f.dist;if(!v[0]&&!v[1])return[];var g=Gr(v),y=Re(v,[0,0]);return[a.createElement("div",{className:zt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(g,"px"),transform:"translate(".concat(p[0],"px, ").concat(p[1],"px) rotate(").concat(y,"rad) scaleY(").concat(u,")")}})]},dragStart:function(e,a){var n=a.datas,i=a.parentEvent,o=a.parentGesto,u=e.state,c=u.gestos,f=u.style;if(c.draggable)return!1;c.draggable=o||e.targetGesto,n.datas={},n.left=parseFloat(f.left||"")||0,n.top=parseFloat(f.top||"")||0,n.bottom=parseFloat(f.bottom||"")||0,n.right=parseFloat(f.right||"")||0,n.startValue=[0,0],Vn(e,a),lu(e,a,"translate"),pC(e,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var p=Xt(e,a,P({set:function(g){n.startValue=g}},iu(e,a))),v=i||wt(e,"onDragStart",p);return v!==!1?(n.isDrag=!0,e.state.dragInfo={startRect:e.getRect(),dist:[0,0]}):(c.draggable=null,n.isPinch=!1),n.isDrag?p:!1},drag:function(e,a){if(a){au(e,a,"translate");var n=a.datas,i=a.parentEvent,o=a.parentFlag,u=a.isPinch,c=a.deltaOffset,f=a.useSnap,p=a.isRequest,v=a.isGroup,g=a.parentThrottleDrag,y=a.distX,m=a.distY,b=n.isDrag,x=n.prevDist,S=n.prevBeforeDist,C=n.startValue;if(b){c&&(y+=c[0],m+=c[1]);var E=e.props,w=E.parentMoveable,M=v?0:E.throttleDrag||g||0,D=i?0:E.throttleDragRotate||0,O=0,_=!1,N=!1,z=!1,j=!1;if(!i&&D>0&&(y||m)){var H=E.startDragRotate||0,F=kt(H+Re([0,0],[y,m])*180/Math.PI,D)-H,I=m*Math.abs(Math.cos((F-90)/180*Math.PI)),X=y*Math.abs(Math.cos(F/180*Math.PI)),Q=Gr([X,I]);O=F*Math.PI/180,y=Q*Math.cos(O),m=Q*Math.sin(O)}if(!u&&!i&&!o){var U=K(Y2(e,y,m,D,!f&&p||c,n),2),G=U[0],Z=U[1];_=G.isSnap,N=G.isBound,z=Z.isSnap,j=Z.isBound;var J=G.offset,dt=Z.offset;y+=J,m+=dt}var B=te(Pm({datas:n,distX:y,distY:m}),C),q=te(l2({datas:n,distX:y,distY:m}),C);v0(q,or),v0(B,or),D||(!_&&!N&&(q[0]=kt(q[0],M),B[0]=kt(B[0],M)),!z&&!j&&(q[1]=kt(q[1],M),B[1]=kt(B[1],M)));var nt=Nt(B,C),lt=Nt(q,C),ct=Nt(lt,x),bt=Nt(nt,S);n.prevDist=lt,n.prevBeforeDist=nt,n.passDelta=ct,n.passDist=lt;var L=n.left+nt[0],V=n.top+nt[1],Y=n.right-nt[0],ht=n.bottom-nt[1],gt=nu(n,"translate(".concat(q[0],"px, ").concat(q[1],"px)"),"translate(".concat(lt[0],"px, ").concat(lt[1],"px)"));if(Zd(a,gt),e.state.dragInfo.dist=i?[0,0]:lt,!(!i&&!w&&ct.every(function(Ct){return!Ct})&&bt.some(function(Ct){return!Ct}))){var vt=e.state,tt=vt.width,rt=vt.height,ut=Xt(e,a,P({transform:gt,dist:lt,delta:ct,translate:q,beforeDist:nt,beforeDelta:bt,beforeTranslate:B,left:L,top:V,right:Y,bottom:ht,width:tt,height:rt,isPinch:u},ir({transform:gt},a)));return!i&&wt(e,"onDrag",ut),ut}}}},dragAfter:function(e,a){var n=a.datas,i=n.deltaOffset;return i[0]||i[1]?(n.deltaOffset=[0,0],this.drag(e,P(P({},a),{deltaOffset:i}))):!1},dragEnd:function(e,a){var n=a.parentEvent,i=a.datas;if(e.state.dragInfo=null,!!i.isDrag){i.isDrag=!1;var o=Ar(e,a,{});return!n&&wt(e,"onDragEnd",o),o}},dragGroupStart:function(e,a){var n,i,o=a.datas,u=a.clientX,c=a.clientY,f=this.dragStart(e,a);if(!f)return!1;var p=jf(e,this,"dragStart",[u||0,c||0],a,!1,"draggable"),v=p.childEvents,g=p.eventParams,y=P(P({},f),{targets:e.props.targets,events:g}),m=wt(e,"onDragGroupStart",y);o.isDrag=m!==!1;var b=(i=(n=v[0])===null||n===void 0?void 0:n.datas.startValue)!==null&&i!==void 0?i:[0,0];return o.throttleOffset=[b[0]%1,b[1]%1],o.isDrag?f:!1},dragGroup:function(e,a){var n=a.datas;if(n.isDrag){var i=this.drag(e,P(P({},a),{parentThrottleDrag:e.props.throttleDrag})),o=a.datas.passDelta,u=jf(e,this,"drag",o,a,!1,"draggable").eventParams;if(i){var c=P({targets:e.props.targets,events:u},i);return wt(e,"onDragGroup",c),c}}},dragGroupEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isDrag){this.dragEnd(e,a);var o=jf(e,this,"dragEnd",[0,0],a,!1,"draggable").eventParams;return wt(e,"onDragGroupEnd",Ar(e,a,{targets:e.props.targets,events:o})),n}},request:function(e){var a={},n=e.getRect(),i=0,o=0,u=!1;return{isControl:!1,requestStart:function(c){return u=c.useSnap,{datas:a,useSnap:u}},request:function(c){return"x"in c?i=c.x-n.left:"deltaX"in c&&(i+=c.deltaX),"y"in c?o=c.y-n.top:"deltaY"in c&&(o+=c.deltaY),{datas:a,distX:i,distY:o,useSnap:u}},requestEnd:function(){return{datas:a,isDrag:!0,useSnap:u}}}},unset:function(e){e.state.gestos.draggable=null,e.state.dragInfo=null}};function d1(e,a){var n=He(e,a),i=[0,0];return{fixedPosition:n,fixedDirection:a,fixedOffset:i}}function Z2(e,a){var n=e.allMatrix,i=e.is3d,o=e.width,u=e.height,c=i?4:3,f=[o/2*(1+a[0]),u/2*(1+a[1])],p=Ee(n,f,c),v=[0,0];return{fixedPosition:p,fixedDirection:a,fixedOffset:v}}function v1(e,a){var n=e.allMatrix,i=e.is3d,o=e.width,u=e.height,c=i?4:3,f=p2(a,o,u),p=Ee(n,a,c),v=[o?0:a[0],u?0:a[1]];return{fixedPosition:p,fixedDirection:f,fixedOffset:v}}var O0=sv("resizable"),md={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:t1("resizable"),dragControlCondition:O0,viewClassName:ov("resizable"),dragControlStart:function(e,a){var n,i=a.inputEvent,o=a.isPinch,u=a.isGroup,c=a.parentDirection,f=a.parentGesto,p=a.datas,v=a.parentFixedDirection,g=a.parentEvent,y=w1(c,o,i,p),m=e.state,b=m.target,x=m.width,S=m.height,C=m.gestos;if(!y||!b||C.resizable)return!1;C.resizable=f||e.controlGesto,!o&&Vn(e,a),p.datas={},p.direction=y,p.startOffsetWidth=x,p.startOffsetHeight=S,p.prevWidth=0,p.prevHeight=0,p.minSize=[0,0],p.startWidth=m.inlineCSSWidth||m.cssWidth,p.startHeight=m.inlineCSSHeight||m.cssHeight,p.maxSize=[1/0,1/0],u||(p.minSize=[m.minOffsetWidth,m.minOffsetHeight],p.maxSize=[m.maxOffsetWidth,m.maxOffsetHeight]);var E=e.props.transformOrigin||"% %";p.transformOrigin=Ma(E)?E.split(" "):E,p.startOffsetMatrix=m.offsetMatrix,p.startTransformOrigin=m.transformOrigin,p.isWidth=(n=a==null?void 0:a.parentIsWidth)!==null&&n!==void 0?n:!y[0]&&!y[1]||y[0]||!y[1];function w(j){p.ratio=j&&isFinite(j)?j:0}p.startPositions=Hr(e.state);function M(j){var H=d1(p.startPositions,j);p.fixedDirection=H.fixedDirection,p.fixedPosition=H.fixedPosition,p.fixedOffset=H.fixedOffset}function D(j){var H=v1(e.state,j);p.fixedDirection=H.fixedDirection,p.fixedPosition=H.fixedPosition,p.fixedOffset=H.fixedOffset}function O(j){p.minSize=[de("".concat(j[0]),0)||0,de("".concat(j[1]),0)||0]}function _(j){var H=[j[0]||1/0,j[1]||1/0];(!Jl(H[0])||isFinite(H[0]))&&(H[0]=de("".concat(H[0]),0)||1/0),(!Jl(H[1])||isFinite(H[1]))&&(H[1]=de("".concat(H[1]),0)||1/0),p.maxSize=H}w(x/S),M(v||[-y[0],-y[1]]),p.setFixedDirection=M,p.setFixedPosition=D,p.setMin=O,p.setMax=_;var N=Xt(e,a,{direction:y,startRatio:p.ratio,set:function(j){var H=K(j,2),F=H[0],I=H[1];p.startWidth=F,p.startHeight=I},setMin:O,setMax:_,setRatio:w,setFixedDirection:M,setFixedPosition:D,setOrigin:function(j){p.transformOrigin=j},dragStart:ar.dragStart(e,new Bi().dragStart([0,0],a))}),z=g||wt(e,"onResizeStart",N);return p.startFixedDirection=p.fixedDirection,p.startFixedPosition=p.fixedPosition,z!==!1&&(p.isResize=!0,e.state.snapRenderInfo={request:a.isRequest,direction:y}),p.isResize?N:!1},dragControl:function(e,a){var n,i=a.datas,o=a.parentFlag,u=a.isPinch,c=a.parentKeepRatio,f=a.dragClient,p=a.parentDist,v=a.useSnap,g=a.isRequest,y=a.isGroup,m=a.parentEvent,b=a.resolveMatrix,x=i.isResize,S=i.transformOrigin,C=i.startWidth,E=i.startHeight,w=i.prevWidth,M=i.prevHeight,D=i.minSize,O=i.maxSize,_=i.ratio,N=i.startOffsetWidth,z=i.startOffsetHeight,j=i.isWidth;if(!x)return;if(b){var H=e.state.is3d,F=i.startOffsetMatrix,I=i.startTransformOrigin,X=H?4:3,Q=to(Ps(a)),U=Math.sqrt(Q.length);X!==U&&(Q=Pr(Q,U,X));var G=co(F,Q,I,X),Z=Gn(G,N,z,X);i.startPositions=Z,i.nextTargetMatrix=Q,i.nextAllMatrix=G}var J=Ln(e.props,"resizable"),dt=J.resizeFormat,B=J.throttleResize,q=B===void 0?o?0:1:B,nt=J.parentMoveable,lt=J.keepRatioFinally,ct=i.direction,bt=ct,L=0,V=0;!ct[0]&&!ct[1]&&(bt=[1,1]);var Y=_&&(c??J.keepRatio)||!1;function ht(){var me=i.fixedDirection,ye=z1(bt,Y,i,a);L=ye.distWidth,V=ye.distHeight;var Qe=bt[0]-me[0]||Y?Math.max(N+L,or):N,be=bt[1]-me[1]||Y?Math.max(z+V,or):z;return Y&&N&&z&&(j?be=Qe/_:Qe=be*_),[Qe,be]}var gt=K(ht(),2),vt=gt[0],tt=gt[1];m||(i.setFixedDirection(i.fixedDirection),wt(e,"onBeforeResize",Xt(e,a,{startFixedDirection:i.startFixedDirection,startFixedPosition:i.startFixedPosition,setFixedDirection:function(me){var ye;return i.setFixedDirection(me),ye=K(ht(),2),vt=ye[0],tt=ye[1],[vt,tt]},setFixedPosition:function(me){var ye;return i.setFixedPosition(me),ye=K(ht(),2),vt=ye[0],tt=ye[1],[vt,tt]},boundingWidth:vt,boundingHeight:tt,setSize:function(me){var ye;ye=K(me,2),vt=ye[0],tt=ye[1]}},!0)));var rt=f;f||(!o&&u?rt=y2(e,[0,0]):rt=i.fixedPosition);var ut=[0,0];u||(ut=dC(e,vt,tt,ct,rt,!v&&g,i)),p&&(!p[0]&&(ut[0]=0),!p[1]&&(ut[1]=0));function Ct(){var me;dt&&(me=K(dt([vt,tt]),2),vt=me[0],tt=me[1]),vt=kt(vt,q),tt=kt(tt,q)}if(Y){bt[0]&&bt[1]&&ut[0]&&ut[1]&&(xt(ut[0])>xt(ut[1])?ut[1]=0:ut[0]=0);var Mt=!ut[0]&&!ut[1];Mt&&Ct(),bt[0]&&!bt[1]||ut[0]&&!ut[1]||Mt&&j?(vt+=ut[0],tt=vt/_):(!bt[0]&&bt[1]||!ut[0]&&ut[1]||Mt&&!j)&&(tt+=ut[1],vt=tt*_)}else vt+=ut[0],tt+=ut[1],vt=Math.max(0,vt),tt=Math.max(0,tt);n=K(wm([vt,tt],D,O,Y?_:!1),2),vt=n[0],tt=n[1],Ct(),Y&&(y||lt)&&(j?tt=vt/_:vt=tt*_),L=vt-N,V=tt-z;var Vt=[L-w,V-M];i.prevWidth=L,i.prevHeight=V;var Bt=m2(e,vt,tt,rt,S,i);if(!(!nt&&Vt.every(function(me){return!me})&&Bt.every(function(me){return!me}))){var Ot=ar.drag(e,uo(a,e.state,Bt,!!u,!1,"draggable")),Ut=Ot.transform,Zt=C+L,Yt=E+V,$t=Xt(e,a,P({width:Zt,height:Yt,offsetWidth:Math.round(vt),offsetHeight:Math.round(tt),startRatio:_,boundingWidth:vt,boundingHeight:tt,direction:ct,dist:[L,V],delta:Vt,isPinch:!!u,drag:Ot},D1({style:{width:"".concat(Zt,"px"),height:"".concat(Yt,"px")},transform:Ut},Ot,a)));return!m&&wt(e,"onResize",$t),$t}},dragControlAfter:function(e,a){var n=a.datas,i=n.isResize,o=n.startOffsetWidth,u=n.startOffsetHeight,c=n.prevWidth,f=n.prevHeight;if(!(!i||e.props.checkResizableError===!1)){var p=e.state,v=p.width,g=p.height,y=v-(o+c),m=g-(u+f),b=xt(y)>3,x=xt(m)>3;if(b&&(n.startWidth+=y,n.startOffsetWidth+=y,n.prevWidth+=y),x&&(n.startHeight+=m,n.startOffsetHeight+=m,n.prevHeight+=m),b||x)return this.dragControl(e,a)}},dragControlEnd:function(e,a){var n=a.datas,i=a.parentEvent;if(n.isResize){n.isResize=!1;var o=Ar(e,a,{});return!i&&wt(e,"onResizeEnd",o),o}},dragGroupControlCondition:O0,dragGroupControlStart:function(e,a){var n=a.datas,i=this.dragControlStart(e,P(P({},a),{isGroup:!0}));if(!i)return!1;var o=Ir(e,"resizable",a),u=n.startOffsetWidth,c=n.startOffsetHeight;function f(){var b=n.minSize;o.forEach(function(x){var S=x.datas,C=S.minSize,E=S.startOffsetWidth,w=S.startOffsetHeight,M=u*(E?C[0]/E:0),D=c*(w?C[1]/w:0);b[0]=Math.max(b[0],M),b[1]=Math.max(b[1],D)})}function p(){var b=n.maxSize;o.forEach(function(x){var S=x.datas,C=S.maxSize,E=S.startOffsetWidth,w=S.startOffsetHeight,M=u*(E?C[0]/E:0),D=c*(w?C[1]/w:0);b[0]=Math.min(b[0],M),b[1]=Math.min(b[1],D)})}var v=Aa(e,this,"dragControlStart",a,function(b,x){return Fs(e,b,n,x)});f(),p();var g=function(b){i.setFixedDirection(b),v.forEach(function(x,S){x.setFixedDirection(b),Fs(e,x.moveable,n,o[S])})};n.setFixedDirection=g;var y=P(P({},i),{targets:e.props.targets,events:v.map(function(b){return P(P({},b),{setMin:function(x){b.setMin(x),f()},setMax:function(x){b.setMax(x),p()}})}),setFixedDirection:g,setMin:function(b){i.setMin(b),f()},setMax:function(b){i.setMax(b),p()}}),m=wt(e,"onResizeGroupStart",y);return n.isResize=m!==!1,n.isResize?i:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isResize){var i=Ln(e.props,"resizable");fu(e,"onBeforeResize",function(b){wt(e,"onBeforeResizeGroup",Xt(e,a,P(P({},b),{targets:i.targets}),!0))});var o=this.dragControl(e,P(P({},a),{isGroup:!0}));if(o){var u=o.boundingWidth,c=o.boundingHeight,f=o.dist,p=i.keepRatio,v=[u/(u-f[0]),c/(c-f[1])],g=n.fixedPosition,y=Aa(e,this,"dragControl",a,function(b,x){var S=K(er(lo(e.rotation/180*Math.PI,3),[x.datas.originalX*v[0],x.datas.originalY*v[1],1],3),2),C=S[0],E=S[1];return P(P({},x),{parentDist:null,parentScale:v,dragClient:te(g,[C,E]),parentKeepRatio:p})}),m=P({targets:i.targets,events:y},o);return wt(e,"onResizeGroup",m),m}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isResize){this.dragControlEnd(e,a);var o=Aa(e,this,"dragControlEnd",a),u=Ar(e,a,{targets:e.props.targets,events:o});return wt(e,"onResizeGroupEnd",u),n}},request:function(e){var a={},n=0,i=0,o=!1,u=e.getRect();return{isControl:!0,requestStart:function(c){var f;return o=c.useSnap,{datas:a,parentDirection:c.direction||[1,1],parentIsWidth:(f=c==null?void 0:c.horizontal)!==null&&f!==void 0?f:!0,useSnap:o}},request:function(c){return"offsetWidth"in c?n=c.offsetWidth-u.offsetWidth:"deltaWidth"in c&&(n+=c.deltaWidth),"offsetHeight"in c?i=c.offsetHeight-u.offsetHeight:"deltaHeight"in c&&(i+=c.deltaHeight),{datas:a,parentDist:[n,i],parentKeepRatio:c.keepRatio,useSnap:o}},requestEnd:function(){return{datas:a,isDrag:!0,useSnap:o}}}},unset:function(e){e.state.gestos.resizable=null}};function Lf(e,a,n,i,o){var u=e.props.groupable,c=e.state,f=c.is3d?4:3,p=a.origin,v=Ee(e.state.rootMatrix,Nt([p[0],p[1]],u?[0,0]:[c.left,c.top]),f),g=te([o.left,o.top],v);a.startAbsoluteOrigin=g,a.prevDeg=Re(g,[n,i])/Math.PI*180,a.defaultDeg=a.prevDeg,a.prevSnapDeg=0,a.loop=0,a.startDist=Ta(g,[n,i])}function Xs(e,a,n){var i=n.defaultDeg,o=n.prevDeg,u=o%360,c=Math.floor(o/360);u<0&&(u+=360),u>e&&u>270&&e<90?++c:u<e&&u<90&&e>270&&--c;var f=a*(c*360+e-i);return n.prevDeg=i+f,f}function Vf(e,a,n,i){return Xs(Re(i.startAbsoluteOrigin,[e,a])/Math.PI*180,n,i)}function Gf(e,a,n,i,o,u){var c=e.props.throttleRotate,f=c===void 0?0:c,p=n.prevSnapDeg,v=0,g=!1;if(u){var y=fC(e,a,i,o+i);g=y.isSnap,v=o+y.dist}g||(v=kt(o+i,f));var m=v-o;return n.prevSnapDeg=m,[m-p,m,v]}function p1(e,a,n){var i=K(a,4),o=i[0],u=i[1],c=i[2],f=i[3];if(e==="none")return[];if(Ie(e))return e.map(function(C){return p1(C,[o,u,c,f],n)[0]});var p=K((e||"top").split("-"),2),v=p[0],g=p[1],y=[o,u];v==="left"?y=[c,o]:v==="right"?y=[u,f]:v==="bottom"&&(y=[f,c]);var m=[(y[0][0]+y[1][0])/2,(y[0][1]+y[1][1])/2],b=T1(y,n);if(g){var x=g==="top"||g==="left",S=v==="bottom"||v==="left";m=y[x&&!S||!x&&S?0:1]}return[[m,b]]}function yd(e,a){if(a.isRequest)return a.requestAble==="rotatable";var n=a.inputEvent.target;if(Ge(n,zt("rotation-control"))||e.props.rotateAroundControls&&Ge(n,zt("around-control"))||Ge(n,zt("control"))&&Ge(n,zt("rotatable")))return!0;var i=e.props.rotationTarget;return i?uv(i,!0).some(function(o){return o?n===o||n.contains(o):!1}):!1}var Q2=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,J2={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[Q2],viewClassName:function(e){return e.isDragging("rotatable")?zt("view-rotation-dragging"):""},render:function(e,a){var n=Ln(e.props,"rotatable"),i=n.rotatable,o=n.rotationPosition,u=n.zoom,c=n.renderDirections,f=n.rotateAroundControls,p=n.resolveAblesWithRotatable,v=e.getState(),g=v.renderPoses,y=v.direction;if(!i)return null;var m=p1(o,g,y),b=[];if(m.forEach(function(E,w){var M=K(E,2),D=M[0],O=M[1];b.push(a.createElement("div",{key:"rotation".concat(w),className:zt("rotation"),style:{transform:"translate(-50%) translate(".concat(D[0],"px, ").concat(D[1],"px) rotate(").concat(O,"rad)")}},a.createElement("div",{className:zt("line rotation-line"),style:{transform:"scaleX(".concat(u,")")}}),a.createElement("div",{className:zt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(u,")")}})))}),c){var x=ki(p||{}),S={};x.forEach(function(E){p[E].forEach(function(w){S[w]=E})});var C=[];Ie(c)&&(C=c.map(function(E){var w=S[E];return{data:w?{resolve:w}:{},classNames:w?["move"]:[],dir:E}})),b.push.apply(b,Et([],K(Qm(e,"rotatable",C,a)),!1))}return f&&b.push.apply(b,Et([],K(r1(e,a)),!1)),b},dragControlCondition:yd,dragControlStart:function(e,a){var n,i,o=a.datas,u=a.clientX,c=a.clientY,f=a.parentRotate,p=a.parentFlag,v=a.isPinch,g=a.isRequest,y=e.state,m=y.target,b=y.left,x=y.top,S=y.direction,C=y.beforeDirection,E=y.targetTransform,w=y.moveableClientRect,M=y.offsetMatrix,D=y.targetMatrix,O=y.allMatrix,_=y.width,N=y.height;if(!g&&!m)return!1;var z=e.getRect();o.rect=z,o.transform=E,o.left=b,o.top=x;var j=function(bt){var L=v1(e.state,bt);o.fixedDirection=L.fixedDirection,o.fixedOffset=L.fixedOffset,o.fixedPosition=L.fixedPosition,q&&q.setFixedPosition(bt)},H=function(bt){var L=Z2(e.state,bt);o.fixedDirection=L.fixedDirection,o.fixedOffset=L.fixedOffset,o.fixedPosition=L.fixedPosition,q&&q.setFixedDirection(bt)},F=u,I=c;if(g||v||p){var X=f||0;o.beforeInfo={origin:z.beforeOrigin,prevDeg:X,defaultDeg:X,prevSnapDeg:0,startDist:0},o.afterInfo=P(P({},o.beforeInfo),{origin:z.origin}),o.absoluteInfo=P(P({},o.beforeInfo),{origin:z.origin,startValue:X})}else{var Q=(i=a.inputEvent)===null||i===void 0?void 0:i.target;if(Q){var U=Q.getAttribute("data-direction")||"",G=a2[U];if(G){o.isControl=!0,o.isAroundControl=Ge(Q,zt("around-control")),o.controlDirection=G;var Z=Q.getAttribute("data-resolve");Z&&(o.resolveAble=Z);var J=MC(y.rootMatrix,y.renderPoses,w);n=K(He(J,G),2),F=n[0],I=n[1]}}o.beforeInfo={origin:z.beforeOrigin},o.afterInfo={origin:z.origin},o.absoluteInfo={origin:z.origin,startValue:z.rotation};var dt=j;j=function(bt){var L=y.is3d?4:3,V=K(te(_m(D,L),bt),2),Y=V[0],ht=V[1],gt=er(M,Nn([Y,ht],L)),vt=er(O,Nn([bt[0],bt[1]],L));dt(bt);var tt=y.posDelta;o.beforeInfo.origin=Nt(gt,tt),o.afterInfo.origin=Nt(vt,tt),o.absoluteInfo.origin=Nt(vt,tt),Lf(e,o.beforeInfo,F,I,w),Lf(e,o.afterInfo,F,I,w),Lf(e,o.absoluteInfo,F,I,w)},H=function(bt){var L=He([[0,0],[_,0],[0,N],[_,N]],bt);j(L)}}o.startClientX=F,o.startClientY=I,o.direction=S,o.beforeDirection=C,o.startValue=0,o.datas={},lu(e,a,"rotate");var B=!1,q=!1;if(o.isControl&&o.resolveAble){var nt=o.resolveAble;nt==="resizable"&&(q=md.dragControlStart(e,P(P({},new Bi("resizable").dragStart([0,0],a)),{parentPosition:o.controlPosition,parentFixedPosition:o.fixedPosition})))}q||(B=ar.dragStart(e,new Bi().dragStart([0,0],a))),j(DC(e));var lt=Xt(e,a,P(P({set:function(bt){o.startValue=bt*Math.PI/180},setFixedDirection:H,setFixedPosition:j},iu(e,a)),{dragStart:B,resizeStart:q})),ct=wt(e,"onRotateStart",lt);return o.isRotate=ct!==!1,y.snapRenderInfo={request:a.isRequest},o.isRotate?lt:!1},dragControl:function(e,a){var n,i,o,u=a.datas,c=a.clientDistX,f=a.clientDistY,p=a.parentRotate,v=a.parentFlag,g=a.isPinch,y=a.groupDelta,m=a.resolveMatrix,b=u.beforeDirection,x=u.beforeInfo,S=u.afterInfo,C=u.absoluteInfo,E=u.isRotate,w=u.startValue,M=u.rect,D=u.startClientX,O=u.startClientY;if(E){au(e,a,"rotate");var _=i2(a),N=b*_,z=e.props.parentMoveable,j=0,H,F,I=0,X,Q,U=0,G,Z,J=180/Math.PI*w,dt=C.startValue,B=!1,q=D+c,nt=O+f;if(!v&&"parentDist"in a){var lt=a.parentDist;H=lt,X=lt,G=lt}else g||v?(H=Xs(p,b,x),X=Xs(p,N,S),G=Xs(p,N,C)):(H=Vf(q,nt,b,x),X=Vf(q,nt,N,S),G=Vf(q,nt,N,C),B=!0);if(F=J+H,Q=J+X,Z=dt+G,wt(e,"onBeforeRotate",Xt(e,a,{beforeRotation:F,rotation:Q,absoluteRotation:Z,setRotation:function(rt){X=rt-J,H=X,G=X}},!0)),n=K(Gf(e,M,x,H,J,B),3),j=n[0],H=n[1],F=n[2],i=K(Gf(e,M,S,X,J,B),3),I=i[0],X=i[1],Q=i[2],o=K(Gf(e,M,C,G,dt,B),3),U=o[0],G=o[1],Z=o[2],!(!U&&!I&&!j&&!z&&!m)){var ct=nu(u,"rotate(".concat(Q,"deg)"),"rotate(".concat(X,"deg)"));m&&(u.fixedPosition=Qd(e,u.targetAllTransform,u.fixedDirection,u.fixedOffset,u));var bt=g2(e,X,u),L=Nt(te(y||[0,0],bt),u.prevInverseDist||[0,0]);u.prevInverseDist=bt,u.requestValue=null;var V=Km(e,ct,L,g,a),Y=V,ht=Ta([q,nt],C.startAbsoluteOrigin)-C.startDist,gt=void 0;if(u.resolveAble==="resizable"){var vt=md.dragControl(e,P(P({},uo(a,e.state,[a.deltaX,a.deltaY],!!g,!1,"resizable")),{resolveMatrix:!0,parentDistance:ht}));vt&&(gt=vt,Y=D1(Y,vt,a))}var tt=Xt(e,a,P(P({delta:I,dist:X,rotate:Q,rotation:Q,beforeDist:H,beforeDelta:j,beforeRotate:F,beforeRotation:F,absoluteDist:G,absoluteDelta:U,absoluteRotate:Z,absoluteRotation:Z,isPinch:!!g,resize:gt},V),Y));return wt(e,"onRotate",tt),tt}}},dragControlEnd:function(e,a){var n=a.datas;if(n.isRotate){n.isRotate=!1;var i=Ar(e,a,{});return wt(e,"onRotateEnd",i),i}},dragGroupControlCondition:yd,dragGroupControlStart:function(e,a){var n=a.datas,i=e.state,o=i.left,u=i.top,c=i.beforeOrigin,f=this.dragControlStart(e,a);if(!f)return!1;f.set(n.beforeDirection*e.rotation);var p=Aa(e,this,"dragControlStart",a,function(y,m){var b=y.state,x=b.left,S=b.top,C=b.beforeOrigin,E=te(Nt([x,S],[o,u]),Nt(C,c));return m.datas.startGroupClient=E,m.datas.groupClient=E,P(P({},m),{parentRotate:0})}),v=P(P({},f),{targets:e.props.targets,events:p}),g=wt(e,"onRotateGroupStart",v);return n.isRotate=g!==!1,n.isRotate?f:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isRotate){fu(e,"onBeforeRotate",function(v){wt(e,"onBeforeRotateGroup",Xt(e,a,P(P({},v),{targets:e.props.targets}),!0))});var i=this.dragControl(e,a);if(i){var o=n.beforeDirection,u=i.beforeDist,c=u/180*Math.PI,f=Aa(e,this,"dragControl",a,function(v,g){var y=g.datas.startGroupClient,m=K(g.datas.groupClient,2),b=m[0],x=m[1],S=K(io(y,c*o),2),C=S[0],E=S[1],w=[C-b,E-x];return g.datas.groupClient=[C,E],P(P({},g),{parentRotate:u,groupDelta:w})});e.rotation=o*i.beforeRotation;var p=P({targets:e.props.targets,events:f,set:function(v){e.rotation=v},setGroupRotation:function(v){e.rotation=v}},i);return wt(e,"onRotateGroup",p),p}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isRotate){this.dragControlEnd(e,a);var o=Aa(e,this,"dragControlEnd",a),u=Ar(e,a,{targets:e.props.targets,events:o});return wt(e,"onRotateGroupEnd",u),n}},request:function(e){var a={},n=0,i=e.getRotation();return{isControl:!0,requestStart:function(){return{datas:a}},request:function(o){return"deltaRotate"in o?n+=o.deltaRotate:"rotate"in o&&(n=o.rotate-i),{datas:a,parentDist:n}},requestEnd:function(){return{datas:a,isDrag:!0}}}}};function $2(e,a){var n,i=e.direction,o=e.classNames,u=e.size,c=e.pos,f=e.zoom,p=e.key,v=i==="horizontal",g=v?"Y":"X";return a.createElement("div",{key:p,className:o.join(" "),style:(n={},n[v?"width":"height"]="".concat(u),n.transform="translate(".concat(c[0],", ").concat(c[1],") translate").concat(g,"(-50%) scale").concat(g,"(").concat(f,")"),n)})}function av(e,a){return $2(P(P({},e),{classNames:Et([zt("line","guideline",e.direction)],K(e.classNames),!1).filter(function(n){return n}),size:e.size||"".concat(e.sizeValue,"px"),pos:e.pos||e.posValue.map(function(n){return"".concat(kt(n,.1),"px")})}),a)}function R0(e,a,n,i,o,u,c,f){var p=e.props.zoom;return n.map(function(v,g){var y=v.type,m=v.pos,b=[0,0];return b[c]=i,b[c?0:1]=-o+m,av({key:"".concat(a,"TargetGuideline").concat(g),classNames:[zt("target","bold",y)],posValue:b,sizeValue:u,zoom:p,direction:a},f)})}function _0(e,a,n,i,o,u){var c=e.props,f=c.zoom,p=c.isDisplayInnerSnapDigit,v=a==="horizontal"?ln:on,g=o[v.start],y=o[v.end];return n.filter(function(m){var b=m.hide,x=m.elementRect;if(b)return!1;if(p&&x){var S=x.rect;if(S[v.start]<=g&&y<=S[v.end])return!1}return!0}).map(function(m,b){var x=m.pos,S=m.size,C=m.element,E=m.className,w=[-i[0]+x[0],-i[1]+x[1]];return av({key:"".concat(a,"-default-guideline-").concat(b),classNames:C?[zt("bold"),E]:[zt("normal"),E],direction:a,posValue:w,sizeValue:S,zoom:f},u)})}function ql(e,a,n,i,o,u,c,f){var p,v=e.props,g=v.snapDigit,y=g===void 0?0:g,m=v.isDisplaySnapDigit,b=m===void 0?!0:m,x=v.snapDistFormat,S=x===void 0?function(O,_){return O}:x,C=v.zoom,E=a==="horizontal"?"X":"Y",w=a==="vertical"?"height":"width",M=Math.abs(o),D=b?parseFloat(M.toFixed(y)):0;return f.createElement("div",{key:"".concat(a,"-").concat(n,"-guideline-").concat(i),className:zt("guideline-group",a),style:(p={left:"".concat(u[0],"px"),top:"".concat(u[1],"px")},p[w]="".concat(M,"px"),p)},av({direction:a,classNames:[zt(n),c],size:"100%",posValue:[0,0],sizeValue:M,zoom:C},f),f.createElement("div",{className:zt("size-value","gap"),style:{transform:"translate".concat(E,"(-50%) scale(").concat(C,")")}},D>0?S(D,a):""))}function tC(e,a,n,i){var o=e==="vertical"?0:1,u=e==="vertical"?1:0,c=o?ln:on,f=n[c.start],p=n[c.end];return O1(a,function(v){return v.pos[o]}).map(function(v){var g=[],y=[],m=[];return v.forEach(function(b){var x,S,C=b.element,E=b.elementRect.rect;if(E[c.end]<f)g.push(b);else if(p<E[c.start])y.push(b);else if(E[c.start]<=f&&p<=E[c.end]&&i){var w=b.pos,M={element:C,rect:P(P({},E),(x={},x[c.end]=E[c.start],x))},D={element:C,rect:P(P({},E),(S={},S[c.start]=E[c.end],S))},O=[0,0],_=[0,0];O[o]=w[o],O[u]=w[u],_[o]=w[o],_[u]=w[u]+b.size,g.push({type:e,pos:O,size:0,elementRect:M,direction:"",elementDirection:"end"}),y.push({type:e,pos:_,size:0,elementRect:D,direction:"",elementDirection:"start"})}}),g.sort(function(b,x){return x.pos[u]-b.pos[u]}),y.sort(function(b,x){return b.pos[u]-x.pos[u]}),{total:v,start:g,end:y,inner:m}})}function eC(e,a,n,i,o){var u=e.props.isDisplayInnerSnapDigit,c=[];return["vertical","horizontal"].forEach(function(f){var p=a.filter(function(C){return C.type===f}),v=f==="vertical"?1:0,g=v?0:1,y=tC(f,p,i,u),m=v?on:ln,b=v?ln:on,x=i[m.start],S=i[m.end];y.forEach(function(C){var E=C.total,w=C.start,M=C.end,D=C.inner,O=n[g]+E[0].pos[g]-i[b.start],_=i;w.forEach(function(N){var z=N.elementRect.rect,j=_[m.start]-z[m.end];if(j>0){var H=[0,0];H[v]=n[v]+_[m.start]-x-j,H[g]=O,c.push(ql(e,f,"dashed",c.length,j,H,N.className,o))}_=z}),_=i,M.forEach(function(N){var z=N.elementRect.rect,j=z[m.start]-_[m.end];if(j>0){var H=[0,0];H[v]=n[v]+_[m.end]-x,H[g]=O,c.push(ql(e,f,"dashed",c.length,j,H,N.className,o))}_=z}),D.forEach(function(N){var z=N.elementRect.rect,j=x-z[m.start],H=z[m.end]-S,F=[0,0],I=[0,0];F[v]=n[v]-j,F[g]=O,I[v]=n[v]+S-x,I[g]=O,c.push(ql(e,f,"dashed",c.length,j,F,N.className,o)),c.push(ql(e,f,"dashed",c.length,H,I,N.className,o))})})}),c}function rC(e,a,n,i,o){var u=[];return["horizontal","vertical"].forEach(function(c){var f=a.filter(function(C){return C.type===c}).slice(0,1),p=c==="vertical"?0:1,v=p?0:1,g=p?on:ln,y=p?ln:on,m=i[g.start],b=i[g.end],x=i[y.start],S=i[y.end];f.forEach(function(C){var E=C.gap,w=C.gapRects,M=Math.max.apply(Math,Et([x],K(w.map(function(_){var N=_.rect;return N[y.start]})),!1)),D=Math.min.apply(Math,Et([S],K(w.map(function(_){var N=_.rect;return N[y.end]})),!1)),O=(M+D)/2;M===D||O===(x+S)/2||w.forEach(function(_){var N=_.rect,z=_.className,j=[n[0],n[1]];if(N[g.end]<m)j[p]+=N[g.end]-m;else if(b<N[g.start])j[p]+=N[g.start]-m-E;else return;j[v]+=O-x,u.push(ql(e,p?"vertical":"horizontal","gap",u.length,E,j,z,o))})})}),u}function bd(e){var a,n,i=e.state,o=i.containerClientRect,u=i.hasFixed,c=o.overflow,f=o.scrollHeight,p=o.scrollWidth,v=o.clientHeight,g=o.clientWidth,y=o.clientLeft,m=o.clientTop,b=e.props,x=b.snapGap,S=x===void 0?!0:x,C=b.verticalGuidelines,E=b.horizontalGuidelines,w=b.snapThreshold,M=w===void 0?5:w,D=b.maxSnapElementGuidelineDistance,O=D===void 0?1/0:D,_=b.isDisplayGridGuidelines,N=Vr(Hr(e.state)),z=N.top,j=N.left,H=N.bottom,F=N.right,I={top:z,left:j,bottom:H,right:F,center:(j+F)/2,middle:(z+H)/2},X=lC(e),Q=Et([],K(X),!1),U=((n=(a=i.snapThresholdInfo)===null||a===void 0?void 0:a.multiples)!==null&&n!==void 0?n:[1,1]).map(function(dt){return dt*M});S&&Q.push.apply(Q,Et([],K(aC(e,I,U)),!1));var G=P({},i.snapOffset||{left:0,top:0,bottom:0,right:0});if(Q.push.apply(Q,Et([],K(iC(e,c?p:g,c?f:v,y,m,G,_)),!1)),u){var Z=o.left,J=o.top;G.left+=Z,G.top+=J,G.right+=Z,G.bottom+=J}return Q.push.apply(Q,Et([],K(g1(E||!1,C||!1,c?p:g,c?f:v,y,m,G)),!1)),Q=Q.filter(function(dt){var B=dt.element,q=dt.elementRect,nt=dt.type;if(!B||!q)return!0;var lt=q.rect;return h1(I,lt,nt,O)}),Q}function aC(e,a,n){var i=e.props,o=i.maxSnapElementGuidelineDistance,u=o===void 0?1/0:o,c=i.maxSnapElementGapDistance,f=c===void 0?1/0:c,p=e.state.elementRects,v=[];return[["vertical",ln,on],["horizontal",on,ln]].forEach(function(g){var y=K(g,3),m=y[0],b=y[1],x=y[2],S=a[b.start],C=a[b.end],E=a[b.center],w=a[x.start],M=a[x.end],D={left:n[0],top:n[1]};function O(z){var j=z.rect,H=D[b.start];return j[b.end]<S+H?S-j[b.end]:C-H<j[b.start]?j[b.start]-C:-1}var _=p.filter(function(z){var j=z.rect;return j[x.start]>M||j[x.end]<w?!1:O(z)>0}).sort(function(z,j){return O(z)-O(j)}),N=[];_.forEach(function(z){_.forEach(function(j){if(z!==j){var H=z.rect,F=j.rect,I=H[x.start],X=H[x.end],Q=F[x.start],U=F[x.end];I>U||Q>X||N.push([z,j])}})}),N.forEach(function(z){var j=K(z,2),H=j[0],F=j[1],I=H.rect,X=F.rect,Q=I[b.start],U=I[b.end],G=X[b.start],Z=X[b.end],J=D[b.start],dt=0,B=0,q=!1,nt=!1,lt=!1;if(U<=S&&C<=G){if(nt=!0,dt=(G-U-(C-S))/2,B=U+dt+(C-S)/2,xt(B-E)>J)return}else if(U<G&&Z<S+J){if(q=!0,dt=G-U,B=Z+dt,xt(B-S)>J)return}else if(U<G&&C-J<Q){if(lt=!0,dt=G-U,B=Q-dt,xt(B-C)>J)return}else return;dt&&h1(a,X,m,u)&&(dt>f||v.push({type:m,pos:m==="vertical"?[B,0]:[0,B],element:F.element,size:0,className:F.className,isStart:q,isCenter:nt,isEnd:lt,gap:dt,hide:!0,gapRects:[H,F],direction:"",elementDirection:""}))})}),v}function nC(e,a,n,i){var o,u,c=e.props,f=e.state,p=c.snapGridAll,v=c.snapGridWidth,g=v===void 0?0:v,y=c.snapGridHeight,m=y===void 0?0:y,b=f.snapRenderInfo,x=b&&(((o=b.direction)===null||o===void 0?void 0:o[0])||((u=b.direction)===null||u===void 0?void 0:u[1])),S=e.moveables;if(p&&S&&x&&(g||m)){if(f.snapThresholdInfo)return;f.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var C=e.getRect(),E=C.children,w=b.direction;if(E){var M=w.map(function(O,_){var N=_===0?{snapSize:g,posName:"left",sizeName:"width",clientOffset:i.left-a}:{snapSize:m,posName:"top",sizeName:"height",clientOffset:i.top-n},z=N.snapSize,j=N.posName,H=N.sizeName,F=N.clientOffset;if(!z)return{dir:O,multiple:1,snapSize:z,snapOffset:0};var I=C[H],X=C[j],Q=QS(E.map(function(q){return[q[j]-X,q[H],I-q[H]-q[j]+X]})).filter(function(q){return q}).sort(function(q,nt){return q-nt}),U=Q[0],G=Q.map(function(q){return kt(q/U,.1)*z}),Z=1,J=kt(I/U,.1);for(Z=1;Z<=10&&!G.every(function(q){return q*Z%1===0});++Z);var dt=(-O+1)/2,B=qs(X-F,X-F+I,dt,1-dt);return{multiple:J*Z,dir:O,snapSize:z,snapOffset:Math.round(B/z)}}),D=M.map(function(O){return O.multiple||1});f.snapThresholdInfo.multiples=D,f.snapThresholdInfo.offset=M.map(function(O){return O.snapOffset}),M.forEach(function(O,_){O.snapSize})}}else f.snapThresholdInfo=null}function iC(e,a,n,i,o,u,c){i===void 0&&(i=0),o===void 0&&(o=0);var f=e.props,p=e.state,v=f.snapGridWidth,g=v===void 0?0:v,y=f.snapGridHeight,m=y===void 0?0:y,b=[],x=u.left,S=u.top,C=[0,0];nC(e,i,o,u);var E=p.snapThresholdInfo,w=g,M=m;if(E&&(g*=E.multiples[0]||1,m*=E.multiples[1]||1,C=E.offset),m){for(var D=function(_){b.push({type:"horizontal",pos:[x,kt(C[1]*M+_-o+S,.1)],className:zt("grid-guideline"),size:a,hide:!c,direction:"",grid:!0})},O=0;O<=n*2;O+=m)D(O);for(var O=-m;O>=-n;O-=m)D(O)}if(g){for(var D=function(N){b.push({type:"vertical",pos:[kt(C[0]*w+N-i+x,.1),S],className:zt("grid-guideline"),size:n,hide:!c,direction:"",grid:!0})},O=0;O<=a*2;O+=g)D(O);for(var O=-g;O>=-a;O-=g)D(O)}return b}function h1(e,a,n,i){return n==="horizontal"?xt(e.right-a.left)<=i||xt(e.left-a.right)<=i||e.left<=a.right&&a.left<=e.right:n==="vertical"?xt(e.bottom-a.top)<=i||xt(e.top-a.bottom)<=i||e.top<=a.bottom&&a.top<=e.bottom:!0}function lC(e){var a=e.state,n=e.props.elementGuidelines,i=n===void 0?[]:n;if(!i.length)return a.elementRects=[],[];var o=(a.elementRects||[]).filter(function(m){return!m.refresh}),u=i.map(function(m){return Yr(m)&&"element"in m?P(P({},m),{element:ra(m.element,!0)}):{element:ra(m,!0)}}).filter(function(m){return m.element}),c=mx(o.map(function(m){return m.element}),u.map(function(m){return m.element})),f=c.maintained,p=c.added,v=[];f.forEach(function(m){var b=K(m,2),x=b[0],S=b[1];v[S]=o[x]}),oC(e,p.map(function(m){return u[m]})).map(function(m,b){v[p[b]]=m}),a.elementRects=v;var g=$d(e.props.elementSnapDirections),y=[];return v.forEach(function(m){var b=m.element,x=m.top,S=x===void 0?g.top:x,C=m.left,E=C===void 0?g.left:C,w=m.right,M=w===void 0?g.right:w,D=m.bottom,O=D===void 0?g.bottom:D,_=m.center,N=_===void 0?g.center:_,z=m.middle,j=z===void 0?g.middle:z,H=m.className,F=m.rect,I=tv({top:S,right:M,left:E,bottom:O,center:N,middle:j},F),X=I.horizontal,Q=I.vertical,U=I.horizontalNames,G=I.verticalNames,Z=F.top,J=F.left,dt=F.right-J,B=F.bottom-Z,q=[dt,B];Q.forEach(function(nt,lt){y.push({type:"vertical",element:b,pos:[kt(nt,.1),Z],size:B,sizes:q,className:H,elementRect:m,elementDirection:C0[G[lt]]||G[lt],direction:""})}),X.forEach(function(nt,lt){y.push({type:"horizontal",element:b,pos:[J,kt(nt,.1)],size:dt,sizes:q,className:H,elementRect:m,elementDirection:C0[U[lt]]||U[lt],direction:""})})}),y}function z0(e,a){return e?e.map(function(n){var i=Yr(n)?n:{pos:n},o=i.pos;return Jl(o)?i:P(P({},i),{pos:de(o,a)})}):[]}function g1(e,a,n,i,o,u,c){o===void 0&&(o=0),u===void 0&&(u=0),c===void 0&&(c={left:0,top:0,right:0,bottom:0});var f=[],p=c.left,v=c.top,g=c.bottom,y=c.right,m=n+y-p,b=i+g-v;return z0(e,b).forEach(function(x){f.push({type:"horizontal",pos:[p,kt(x.pos-u+v,.1)],size:m,className:x.className,direction:""})}),z0(a,m).forEach(function(x){f.push({type:"vertical",pos:[kt(x.pos-o+p,.1),v],size:b,className:x.className,direction:""})}),f}function oC(e,a){if(!a.length)return[];var n=e.props.groupable,i=e.state,o=i.containerClientRect,u=i.rootMatrix,c=i.is3d,f=i.offsetDelta,p=c?4:3,v=K(_2(u,o,p),2),g=v[0],y=v[1],m=n?0:f[0],b=n?0:f[1];return a.map(function(x){var S=x.element.getBoundingClientRect(),C=S.left-g-m,E=S.top-y-b,w=E+S.height,M=C+S.width,D=K(Vi(u,[C,E],p),2),O=D[0],_=D[1],N=K(Vi(u,[M,w],p),2),z=N[0],j=N[1];return P(P({},x),{rect:{left:O,right:z,top:_,bottom:j,center:(O+z)/2,middle:(_+j)/2}})})}function zs(e){var a=e.state,n=a.container,i=e.props.snapContainer||n;if(a.snapContainer===i&&a.guidelines&&a.guidelines.length)return!1;var o=a.containerClientRect,u={left:0,top:0,bottom:0,right:0};if(n!==i){var c=ra(i,!0);if(c){var f=Wl(c),p=G0(a,[f.left-o.left,f.top-o.top]),v=G0(a,[f.right-o.right,f.bottom-o.bottom]);u.left=kt(p[0],1e-5),u.top=kt(p[1],1e-5),u.right=kt(v[0],1e-5),u.bottom=kt(v[1],1e-5)}}return a.snapContainer=i,a.snapOffset=u,a.guidelines=bd(e),a.enableSnap=!0,!0}function m1(e,a,n,i,o,u){var c=Gn(e,a,n,u?4:3),f=He(c,i);return iv(c,Nt(o,f))}function N0(e){return e?e/xt(e):0}function sC(e,a,n,i,o,u){var c=u.fixedDirection,f=j2(n,c,i),p=rv(e,a,n,i),v=Et(Et([],K(F2(e,a,f,i,o,u)),!1),K(f1(e,p,u)),!1),g=Ks(v,0),y=Ks(v,1);return{width:{isBound:g.isBound,offset:g.offset[0]},height:{isBound:y.isBound,offset:y.offset[1]}}}function uC(e,a,n,i,o,u,c,f,p){var v=He(a,c),g=uu(e,f,{vertical:[v[0]],horizontal:[v[1]]}),y=g.horizontal.offset,m=g.vertical.offset;if(kt(m,dd)||kt(y,dd)){var b=K(na({datas:p,distX:-m,distY:-y}),2),x=b[0],S=b[1],C=Math.min(o||1/0,n+c[0]*x),E=Math.min(u||1/0,i+c[1]*S);return[C-n,E-i]}return[0,0]}function y1(e,a,n,i,o,u,c,f){for(var p=Hr(e.state),v=e.props.keepRatio,g=0,y=0,m=0;m<2;++m){var b=a(g,y),x=sC(e,b,o,v,c,f),S=x.width,C=x.height,E=S.isBound,w=C.isBound,M=S.offset,D=C.offset;if(m===1&&(E||(M=0),w||(D=0)),m===0&&c&&!E&&!w)return[0,0];if(v){var O=xt(M)*(n?1/n:1),_=xt(D)*(i?1/i:1),N=E&&w?O<_:w||!E&&O<_;N?M=n*D/i:D=i*M/n}g+=M,y+=D}if(!v&&o[0]&&o[1]){var z=W2(e,p,o,u,f),j=z.maxWidth,H=z.maxHeight,F=K(uC(e,a(g,y).map(function(Q){return Q.map(function(U){return kt(U,dd)})}),n+g,i+y,j,H,o,c,f),2),M=F[0],D=F[1];g+=M,y+=D}return[g,y]}function Fl(e){return e<0&&(e=e%360+360),e%=360,e}function cC(e,a){a=Fl(a);var n=Math.floor(e/360),i=n*360+360-a,o=n*360+a;return xt(e-i)<xt(e-o)?i:o}function Hf(e,a){e=Fl(e),a=Fl(a);var n=Fl(e-a);return Math.min(n,360-n)}function fC(e,a,n,i){var o,u=e.props,c=(o=u[a1])!==null&&o!==void 0?o:5,f=u[n1];if(Ii(e,"rotatable")){var p=a.pos1,v=a.pos2,g=a.pos3,y=a.pos4,m=a.origin,b=n*Math.PI/180,x=[p,v,g,y].map(function(D){return Nt(D,m)}),S=x.map(function(D){return io(D,b)}),C=Et(Et([],K(M2(e,x,S,m,n)),!1),K(k2(e,x,S,m,n)),!1);C.sort(function(D,O){return xt(D-n)-xt(O-n)});var E=C.length>0;if(E)return{isSnap:E,dist:E?C[0]:n}}if(f!=null&&f.length&&c){var w=f.slice().sort(function(D,O){return Hf(D,i)-Hf(O,i)}),M=w[0];if(Hf(M,i)<=c)return{isSnap:!0,dist:n+cC(i,M)-i}}return{isSnap:!1,dist:n}}function dC(e,a,n,i,o,u,c){if(!Ii(e,"resizable"))return[0,0];var f=c.fixedDirection,p=c.nextAllMatrix,v=e.state,g=v.allMatrix,y=v.is3d;return y1(e,function(m,b){return m1(p||g,a+m,n+b,f,o,y)},a,n,i,o,u,c)}function vC(e,a,n,i,o){if(!Ii(e,"scalable"))return[0,0];var u=o.startOffsetWidth,c=o.startOffsetHeight,f=o.fixedPosition,p=o.fixedDirection,v=o.is3d,g=y1(e,function(y,m){return m1(d2(o,te(a,[y/u,m/c])),u,c,p,f,v)},u,c,n,f,i,o);return[g[0]/u,g[1]/c]}function pC(e,a){a.absolutePoses=Hr(e.state)}function B0(e){var a=[];return e.forEach(function(n){n.guidelineInfos.forEach(function(i){var o=i.guideline;Tr(a,function(u){return u.guideline===o})||(o.direction="",a.push({guideline:o,posInfo:n}))})}),a.map(function(n){var i=n.guideline,o=n.posInfo;return P(P({},i),{direction:o.direction})})}function j0(e,a,n,i,o,u){var c=Jd(ou(e,u),a,n),f=c.vertical,p=c.horizontal,v=Oi();f.forEach(function(x){x.isBound&&(x.direction==="start"&&(v.left=!0),x.direction==="end"&&(v.right=!0),i.push({type:"bounds",pos:x.pos}))}),p.forEach(function(x){x.isBound&&(x.direction==="start"&&(v.top=!0),x.direction==="end"&&(v.bottom=!0),o.push({type:"bounds",pos:x.pos}))});var g=X2(e),y=g.boundMap,m=g.vertical,b=g.horizontal;return m.forEach(function(x){wa(i,function(S){var C=S.type,E=S.pos;return C==="bounds"&&E===x})>=0||i.push({type:"bounds",pos:x})}),b.forEach(function(x){wa(o,function(S){var C=S.type,E=S.pos;return C==="bounds"&&E===x})>=0||o.push({type:"bounds",pos:x})}),{boundMap:v,innerBoundMap:y}}var hC=sv("",["resizable","scalable"]),gC={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",a1,n1,i1,l1,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(e,a){var n=e.state,i=n.top,o=n.left,u=n.pos1,c=n.pos2,f=n.pos3,p=n.pos4,v=n.snapRenderInfo,g=e.props.snapRenderThreshold,y=g===void 0?1:g;if(!v||!v.render||!Ii(e,""))return _i(e,"boundMap",Oi(),function(ct){return JSON.stringify(ct)}),_i(e,"innerBoundMap",Oi(),function(ct){return JSON.stringify(ct)}),[];n.guidelines=bd(e);var m=Math.min(u[0],c[0],f[0],p[0]),b=Math.min(u[1],c[1],f[1],p[1]),x=v.externalPoses||[],S=Hr(e.state),C=[],E=[],w=[],M=[],D=[],O=Vr(S),_=O.width,N=O.height,z=O.top,j=O.left,H=O.bottom,F=O.right,I={left:j,right:F,top:z,bottom:H,center:(j+F)/2,middle:(z+H)/2},X=x.length>0,Q=X?Vr(x):{};if(!v.request){if(v.direction&&D.push(B2(e,S,v.direction,y,y)),v.snap){var U=Vr(S);v.center&&(U.middle=(U.top+U.bottom)/2,U.center=(U.left+U.right)/2),D.push(E0(e,U,y,y))}X&&(v.center&&(Q.middle=(Q.top+Q.bottom)/2,Q.center=(Q.left+Q.right)/2),D.push(E0(e,Q,y,y))),D.forEach(function(ct){var bt=ct.vertical.posInfos,L=ct.horizontal.posInfos;C.push.apply(C,Et([],K(bt.filter(function(V){var Y=V.guidelineInfos;return Y.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(V){return{type:"snap",pos:V.pos}})),!1)),E.push.apply(E,Et([],K(L.filter(function(V){var Y=V.guidelineInfos;return Y.some(function(ht){var gt=ht.guideline;return!gt.hide})}).map(function(V){return{type:"snap",pos:V.pos}})),!1)),w.push.apply(w,Et([],K(B0(bt)),!1)),M.push.apply(M,Et([],K(B0(L)),!1))})}var G=j0(e,[j,F],[z,H],C,E),Z=G.boundMap,J=G.innerBoundMap;X&&j0(e,[Q.left,Q.right],[Q.top,Q.bottom],C,E,v.externalBounds);var dt=Et(Et([],K(w),!1),K(M),!1),B=dt.filter(function(ct){return ct.element&&!ct.gapRects}),q=dt.filter(function(ct){return ct.gapRects}).sort(function(ct,bt){return ct.gap-bt.gap});wt(e,"onSnap",{guidelines:dt.filter(function(ct){var bt=ct.element;return!bt}),elements:B,gaps:q},!0);var nt=_i(e,"boundMap",Z,function(ct){return JSON.stringify(ct)},Oi()),lt=_i(e,"innerBoundMap",J,function(ct){return JSON.stringify(ct)},Oi());return(Z===nt||J===lt)&&wt(e,"onBound",{bounds:Z,innerBounds:J},!0),Et(Et(Et(Et(Et(Et([],K(eC(e,B,[m,b],I,a)),!1),K(rC(e,q,[m,b],I,a)),!1),K(_0(e,"horizontal",M,[o,i],I,a)),!1),K(_0(e,"vertical",w,[o,i],I,a)),!1),K(R0(e,"horizontal",E,m,i,_,0,a)),!1),K(R0(e,"vertical",C,b,o,N,1,a)),!1)},dragStart:function(e,a){e.state.snapRenderInfo={request:a.isRequest,snap:!0,center:!0},zs(e)},drag:function(e){var a=e.state;zs(e)||(a.guidelines=bd(e)),a.snapRenderInfo&&(a.snapRenderInfo.render=!0)},pinchStart:function(e){this.unset(e)},dragEnd:function(e){this.unset(e)},dragControlCondition:function(e,a){if(hC(e,a)||yd(e,a))return!0;if(!a.isRequest&&a.inputEvent)return Ge(a.inputEvent.target,zt("snap-control"))},dragControlStart:function(e){e.state.snapRenderInfo=null,zs(e)},dragControl:function(e){this.drag(e)},dragControlEnd:function(e){this.unset(e)},dragGroupStart:function(e,a){this.dragStart(e,a)},dragGroup:function(e){this.drag(e)},dragGroupEnd:function(e){this.unset(e)},dragGroupControlStart:function(e){e.state.snapRenderInfo=null,zs(e)},dragGroupControl:function(e){this.drag(e)},dragGroupControlEnd:function(e){this.unset(e)},unset:function(e){var a=e.state;a.enableSnap=!1,a.guidelines=[],a.snapRenderInfo=null,a.elementRects=[]}};function mC(e,a){return[e[0]*a[0],e[1]*a[1]]}function zt(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return BS.apply(void 0,Et([Kd],K(e),!1))}function b1(e){e()}function yC(e){return!e||e==="none"?[1,0,0,1,0,0]:Yr(e)?e:to(e)}function Kl(e,a,n){return Is(a,Bn(n,a),e,Bn(n.map(function(i){return-i}),a))}function bC(e,a,n){if(a==="%"){var i=nv(e.ownerSVGElement);return i[n?"width":"height"]/100}return 1}function SC(e){var a=xC(lv(e,":before"));return a.map(function(n,i){var o=no(n),u=o.value,c=o.unit;return u*bC(e,c,i===0)})}function Zs(e){return e?e.split(" "):["0","0"]}function xC(e){return Zs(e.transformOrigin)}function S1(e){var a=vr(e),n=a("transform");if(n&&n!=="none")return n;if("transform"in e){var i=e.transform,o=i.baseVal;if(!o)return"";var u=o.length;if(!u)return"";for(var c=[],f=function(v){var g=o[v].matrix;c.push("matrix(".concat(["a","b","c","d","e","f"].map(function(y){return g[y]}).join(", "),")"))},p=0;p<u;++p)f(p);return c.join(" ")}return""}function ro(e,a,n,i,o){var u,c,f=Ud(e)||sn(e),p=!1,v,g;if(!e||n)v=e;else{var y=(u=e==null?void 0:e.assignedSlot)===null||u===void 0?void 0:u.parentElement,m=e.parentElement;y?(p=!0,g=m,v=y):v=m}for(var b=!1,x=e===a||v===a,S="relative",C=1,E=parseFloat(o==null?void 0:o("zoom"))||1,w=o==null?void 0:o("position");v&&v!==f;){a===v&&(x=!0);var M=vr(v),D=v.tagName.toLowerCase(),O=S1(v),_=M("willChange"),N=parseFloat(M("zoom"))||1;if(S=M("position"),i&&N!==1){C=N;break}if(!n&&i&&E!==1&&w&&w!=="absolute"||D==="svg"||D==="foreignobject"||S!=="static"||O&&O!=="none"||_==="transform")break;var z=(c=e==null?void 0:e.assignedSlot)===null||c===void 0?void 0:c.parentNode,j=v.parentNode;z&&(p=!0,g=j);var H=j;if(H&&H.nodeType===11){v=H.host,b=!0,S=vr(v)("position");break}v=H,S="relative"}return{offsetZoom:C,hasSlot:p,parentSlotElement:g,isCustomElement:b,isStatic:S==="static",isEnd:x||!v||v===f,offsetParent:v||f}}function CC(e,a){var n,i=e.tagName.toLowerCase(),o=e.offsetLeft,u=e.offsetTop,c=vr(e),f=jd(o),p=!f,v,g;return!p&&(i!=="svg"||e.ownerSVGElement)?(v=Um?SC(e):Zs(c("transformOrigin")).map(function(y){return parseFloat(y)}),g=v.slice(),p=!0,i==="svg"?(o=0,u=0):(n=K(AC(e,v,e===a&&a.tagName.toLowerCase()==="g"),4),o=n[0],u=n[1],v[0]=n[2],v[1]=n[3])):(v=Zs(c("transformOrigin")).map(function(y){return parseFloat(y)}),g=v.slice()),{tagName:i,isSVG:f,hasOffset:p,offset:[o||0,u||0],origin:v,targetOrigin:g}}function x1(e,a){var n=vr(e),i=vr(sn(e)),o=i("position");if(!a&&(!o||o==="static"))return[0,0];var u=parseInt(i("marginLeft"),10),c=parseInt(i("marginTop"),10);return n("position")==="absolute"&&((n("top")!=="auto"||n("bottom")!=="auto")&&(c=0),(n("left")!=="auto"||n("right")!=="auto")&&(u=0)),[u,c]}function Sd(e){e.forEach(function(a){var n=a.matrix;n&&(a.matrix=Pr(n,3,4))})}function EC(e){for(var a=e.parentElement,n=!1,i=sn(e);a;){var o=lv(a).transform;if(o&&o!=="none"){n=!0;break}if(a===i)break;a=a.parentElement}return{fixedContainer:a||i,hasTransform:n}}function cu(e,a){return a===void 0&&(a=e.length>9),"".concat(a?"matrix3d":"matrix","(").concat(zm(e,!a).join(","),")")}function nv(e){var a=e.clientWidth,n=e.clientHeight;if(!e)return{x:0,y:0,width:0,height:0,clientWidth:a,clientHeight:n};var i=e.viewBox,o=i&&i.baseVal||{x:0,y:0,width:0,height:0};return{x:o.x,y:o.y,width:o.width||a,height:o.height||n,clientWidth:a,clientHeight:n}}function TC(e,a){var n,i=nv(e),o=i.width,u=i.height,c=i.clientWidth,f=i.clientHeight,p=c/o,v=f/u,g=e.preserveAspectRatio.baseVal,y=g.align,m=g.meetOrSlice,b=[0,0],x=[p,v],S=[0,0];if(y!==1){var C=(y-2)%3,E=Math.floor((y-2)/3);b[0]=o*C/2,b[1]=u*E/2;var w=m===2?Math.max(v,p):Math.min(p,v);x[0]=w,x[1]=w,S[0]=(c-o)/2*C,S[1]=(f-u)/2*E}var M=Xd(x,a);return n=K(S,2),M[a*(a-1)]=n[0],M[a*(a-1)+1]=n[1],Kl(M,a,b)}function AC(e,a,n){var i=e.tagName.toLowerCase();if(!e.getBBox||!n&&i==="g")return[0,0,0,0];var o=vr(e),u=o("transform-box")==="fill-box",c=e.getBBox(),f=nv(e.ownerSVGElement),p=c.x,v=c.y;i==="foreignobject"&&!p&&!v&&(p=parseFloat(e.getAttribute("x"))||0,v=parseFloat(e.getAttribute("y"))||0);var g=p-f.x,y=v-f.y,m=u?a[0]:a[0]-g,b=u?a[1]:a[1]-y;return[g,y,m,b]}function Ee(e,a,n){return er(e,Nn(a,n),n)}function Gn(e,a,n,i){return[[0,0],[a,0],[0,n],[a,n]].map(function(o){return Ee(e,o,i)})}function Vr(e){var a=e.map(function(v){return v[0]}),n=e.map(function(v){return v[1]}),i=Math.min.apply(Math,Et([],K(a),!1)),o=Math.min.apply(Math,Et([],K(n),!1)),u=Math.max.apply(Math,Et([],K(a),!1)),c=Math.max.apply(Math,Et([],K(n),!1)),f=u-i,p=c-o;return{left:i,top:o,right:u,bottom:c,width:f,height:p}}function L0(e,a,n,i){var o=Gn(e,a,n,i);return Vr(o)}function wC(e,a,n,i,o){var u,c=e.target,f=e.origin,p=a.matrix,v=E1(c),g=v.offsetWidth,y=v.offsetHeight,m=n.getBoundingClientRect(),b=[0,0];n===sn(n)&&(b=x1(c,!0));for(var x=c.getBoundingClientRect(),S=x.left-m.left+n.scrollLeft-(n.clientLeft||0)+b[0],C=x.top-m.top+n.scrollTop-(n.clientTop||0)+b[1],E=x.width,w=x.height,M=Is(i,o,p),D=L0(M,g,y,i),O=D.left,_=D.top,N=D.width,z=D.height,j=Ee(M,f,i),H=Nt(j,[O,_]),F=[S+H[0]*E/N,C+H[1]*w/z],I=[0,0],X=0;++X<10;){var Q=aa(o,i);u=K(Nt(Ee(Q,F,i),Ee(Q,j,i)),2),I[0]=u[0],I[1]=u[1];var U=Is(i,o,Bn(I,i),p),G=L0(U,g,y,i),Z=G.left,J=G.top,dt=Z-S,B=J-C;if(xt(dt)<2&&xt(B)<2)break;F[0]-=dt,F[1]-=B}return I.map(function(q){return Math.round(q)})}function MC(e,a,n){var i=e.length===16,o=i?4:3,u=a.map(function(p){return Ee(e,p,o)}),c=n.left,f=n.top;return u.map(function(p){return[p[0]+c,p[1]+f]})}function Gr(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function C1(e,a){return Gr([a[0]-e[0],a[1]-e[1]])}function Il(e,a,n,i){n===void 0&&(n=1),i===void 0&&(i=Re(e,a));var o=C1(e,a);return{transform:"translateY(-50%) translate(".concat(e[0],"px, ").concat(e[1],"px) rotate(").concat(i,"rad) scaleY(").concat(n,")"),width:"".concat(o,"px")}}function Qs(e,a){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=n.length,u=n.reduce(function(f,p){return f+p[0]},0)/o,c=n.reduce(function(f,p){return f+p[1]},0)/o;return{transform:"translateZ(0px) translate(".concat(u,"px, ").concat(c,"px) rotate(").concat(e,"rad) scale(").concat(a,")")}}function Ln(e,a){var n=e[a];return Yr(n)?P(P({},e),n):e}function E1(e){var a=e&&!jd(e.offsetWidth),n=0,i=0,o=0,u=0,c=0,f=0,p=0,v=0,g=0,y=0,m=0,b=0,x=1/0,S=1/0,C=1/0,E=1/0,w=0,M=0,D=!1;if(e)if(!a&&e.ownerSVGElement){var O=e.getBBox();D=!0,n=O.width,i=O.height,c=n,f=i,p=n,v=i,o=n,u=i}else{var _=vr(e),N=e.style,z=_("boxSizing")==="border-box",j=parseFloat(_("borderLeftWidth"))||0,H=parseFloat(_("borderRightWidth"))||0,F=parseFloat(_("borderTopWidth"))||0,I=parseFloat(_("borderBottomWidth"))||0,X=parseFloat(_("paddingLeft"))||0,Q=parseFloat(_("paddingRight"))||0,U=parseFloat(_("paddingTop"))||0,G=parseFloat(_("paddingBottom"))||0,Z=X+Q,J=U+G,dt=j+H,B=F+I,q=Z+dt,nt=J+B,lt=_("position"),ct=0,bt=0;if("clientLeft"in e){var L=null;if(lt==="absolute"){var V=ro(e,sn(e));L=V.offsetParent}else L=e.parentElement;if(L){var Y=vr(L);ct=parseFloat(Y("width")),bt=parseFloat(Y("height"))}}g=Math.max(Z,de(_("minWidth"),ct)||0),y=Math.max(J,de(_("minHeight"),bt)||0),x=de(_("maxWidth"),ct),S=de(_("maxHeight"),bt),isNaN(x)&&(x=1/0),isNaN(S)&&(S=1/0),w=de(N.width,0)||0,M=de(N.height,0)||0,c=parseFloat(_("width"))||0,f=parseFloat(_("height"))||0,p=xt(c-w)<1?rd(g,w||c,x):c,v=xt(f-M)<1?rd(y,M||f,S):f,n=p,i=v,o=p,u=v,z?(C=x,E=S,m=g,b=y,p=n-q,v=i-nt):(C=x+q,E=S+nt,m=g+q,b=y+nt,n=p+q,i=v+nt),o=p+Z,u=v+J}return{svg:D,offsetWidth:n,offsetHeight:i,clientWidth:o,clientHeight:u,contentWidth:p,contentHeight:v,inlineCSSWidth:w,inlineCSSHeight:M,cssWidth:c,cssHeight:f,minWidth:g,minHeight:y,maxWidth:x,maxHeight:S,minOffsetWidth:m,minOffsetHeight:b,maxOffsetWidth:C,maxOffsetHeight:E}}function T1(e,a){return Re(a>0?e[0]:e[1],a>0?e[1]:e[0])}function Ns(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function A1(e,a){var n=e===sn(e)||e===Ud(e),i={clientLeft:e.clientLeft,clientTop:e.clientTop,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,overflow:!1};return n&&(i.clientHeight=Math.max(a.height,i.clientHeight),i.scrollHeight=Math.max(a.height,i.scrollHeight)),i.overflow=vr(e)("overflow")!=="visible",P(P({},a),i)}function Uf(e,a,n,i){var o=e.left,u=e.right,c=e.top,f=e.bottom,p=a.top,v=a.left,g={left:v+o,top:p+c,right:v+u,bottom:p+f,width:u-o,height:f-c};return n&&i?A1(n,g):g}function Wl(e,a){var n=0,i=0,o=0,u=0;if(e){var c=e.getBoundingClientRect();n=c.left,i=c.top,o=c.width,u=c.height}var f={left:n,top:i,width:o,height:u,right:n+o,bottom:i+u};return e&&a?A1(e,f):f}function DC(e){var a=e.props,n=a.groupable,i=a.svgOrigin,o=e.getState(),u=o.offsetWidth,c=o.offsetHeight,f=o.svg,p=o.transformOrigin;return!n&&f&&i?cv(i,u,c):p}function w1(e,a,n,i){var o;if(e)o=e;else if(a)o=[0,0];else{var u=n.target;o=M1(u,i)}return o}function M1(e,a){if(e){var n=e.getAttribute("data-rotation")||"",i=e.getAttribute("data-direction");if(a.deg=n,!!i){var o=[0,0];return i.indexOf("w")>-1&&(o[0]=-1),i.indexOf("e")>-1&&(o[0]=1),i.indexOf("n")>-1&&(o[1]=-1),i.indexOf("s")>-1&&(o[1]=1),o}}}function iv(e,a){return[te(a,e[0]),te(a,e[1]),te(a,e[2]),te(a,e[3])]}function Hr(e){var a=e.left,n=e.top,i=e.pos1,o=e.pos2,u=e.pos3,c=e.pos4;return iv([i,o,u,c],[a,n])}function xd(e,a){e[a?"controlAbles":"targetAbles"].forEach(function(n){n.unset&&n.unset(e)})}function Ri(e,a){var n=a?"controlGesto":"targetGesto",i=e[n];(i==null?void 0:i.isIdle())===!1&&xd(e,a),i==null||i.unset(),e[n]=null}function ir(e,a){if(a){var n=qi(a);n.nextStyle=P(P({},n.nextStyle),e)}return{style:e,cssText:ki(e).map(function(i){return"".concat(PS(i,"-"),": ").concat(e[i],";")}).join("")}}function D1(e,a,n){var i=a.afterTransform||a.transform;return P(P({},ir(P(P(P({},e.style),a.style),{transform:i}),n)),{afterTransform:i,transform:e.transform})}function Xt(e,a,n,i){var o=a.datas;o.datas||(o.datas={});var u=P(P({},n),{target:e.state.target,clientX:a.clientX,clientY:a.clientY,inputEvent:a.inputEvent,currentTarget:e,moveable:e,datas:o.datas,isRequest:a.isRequest,isRequestChild:a.isRequestChild,isFirstDrag:!!a.isFirstDrag,isTrusted:a.isTrusted!==!1,stopAble:function(){o.isEventStart=!1},stopDrag:function(){var c;(c=a.stop)===null||c===void 0||c.call(a)}});return o.isStartEvent?i||(o.lastEvent=u):o.isStartEvent=!0,u}function Ar(e,a,n){var i=a.datas,o="isDrag"in n?n.isDrag:a.isDrag;return i.datas||(i.datas={}),P(P({isDrag:o},n),{moveable:e,target:e.state.target,clientX:a.clientX,clientY:a.clientY,inputEvent:a.inputEvent,currentTarget:e,lastEvent:i.lastEvent,isDouble:a.isDouble,datas:i.datas,isFirstDrag:!!a.isFirstDrag})}function fu(e,a,n){e._emitter.on(a,n)}function wt(e,a,n,i,o){return e.triggerEvent(a,n,i,o)}function lv(e,a){return an(e).getComputedStyle(e,a)}function Bs(e,a,n){var i={},o={};return e.filter(function(u){var c=u.name;if(i[c]||!a.some(function(f){return u[f]}))return!1;if(!n&&u.ableGroup){if(o[u.ableGroup])return!1;o[u.ableGroup]=!0}return i[c]=!0,!0})}function Cd(e,a){return e===a||e==null&&a==null}function V0(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var n=e.length-1,i=0;i<n;++i){var o=e[i];if(!jd(o))return o}return e[n]}function O1(e,a){var n=[],i=[];return e.forEach(function(o,u){var c=a(o,u,e),f=i.indexOf(c),p=n[f]||[];f===-1&&(i.push(c),n.push(p)),p.push(o)}),n}function OC(e,a){var n=[],i={};return e.forEach(function(o,u){var c=a(o,u,e),f=i[c];f||(f=[],i[c]=f,n.push(f)),f.push(o)}),n}function R1(e){return e.reduce(function(a,n){return a.concat(n)},[])}function Li(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.sort(function(n,i){return xt(i)-xt(n)}),e[0]}function Vi(e,a,n){return er(aa(e,n),Nn(a,n),n)}function RC(e,a){var n,i=e.is3d,o=e.rootMatrix,u=i?4:3;return n=K(Vi(o,[a.distX,a.distY],u),2),a.distX=n[0],a.distY=n[1],a}function Lr(e,a,n,i){if(!n[0]&&!n[1])return a;var o=Ee(e,[N0(n[0]||1),0],i),u=Ee(e,[0,N0(n[1]||1)],i),c=Ee(e,[n[0]/Gr(o),n[1]/Gr(u)],i);return te(a,c)}function qr(e,a,n){return n?"".concat(e/a*100,"%"):"".concat(e,"px")}function Js(e){return xt(e)<=or?0:e}function ov(e){return function(a){if(!a.isDragging(e))return"";var n=b2(a,e),i=n.deg;return i?zt("view-control-rotation".concat(i)):""}}function sv(e,a){return a===void 0&&(a=[e]),function(n,i){if(i.isRequest)return a.some(function(u){return i.requestAble===u})?i.parentDirection:!1;var o=i.inputEvent.target;return Ge(o,zt("direction"))&&(!e||Ge(o,zt(e)))}}function _C(e,a,n){var i,o=Ni(e,{"x%":function(O){return O/100*a.offsetWidth},"y%":function(O){return O/100*a.offsetHeight}}),u=e.slice(0,n<0?void 0:n),c=e.slice(0,n<0?void 0:n+1),f=e[n]||"",p=n<0?[]:e.slice(n),v=n<0?[]:e.slice(n+1),g=o.slice(0,n<0?void 0:n),y=o.slice(0,n<0?void 0:n+1),m=(i=o[n])!==null&&i!==void 0?i:Ni([""])[0],b=n<0?[]:o.slice(n),x=n<0?[]:o.slice(n+1),S=m?[m]:[],C=wi(g),E=wi(y),w=wi(b),M=wi(x),D=ve(C,w,4);return{transforms:e,beforeFunctionMatrix:C,beforeFunctionMatrix2:E,targetFunctionMatrix:wi(S),afterFunctionMatrix:w,afterFunctionMatrix2:M,allFunctionMatrix:D,beforeFunctions:g,beforeFunctions2:y,targetFunction:S[0],afterFunctions:b,afterFunctions2:x,beforeFunctionTexts:u,beforeFunctionTexts2:c,targetFunctionText:f,afterFunctionTexts:p,afterFunctionTexts2:v}}function zC(e){return!e||!Yr(e)||kd(e)?!1:Ie(e)||"length"in e}function ra(e,a){return e?kd(e)?e:Ma(e)?a?document.querySelector(e):e:Ld(e)?e():Om(e)?e:"current"in e?e.current:e:null}function uv(e,a){if(!e)return[];var n=zC(e)?[].slice.call(e):[e];return n.reduce(function(i,o){return Ma(o)&&a?Et(Et([],K(i),!1),K([].slice.call(document.querySelectorAll(o))),!1):(Ie(o)?i.push(uv(o,a)):i.push(ra(o,a)),i)},[])}function NC(e,a,n){var i=Re(e,a)/Math.PI*180;return i=n>=0?i:180-i,i=i>=0?i:360+i,i}function G0(e,a){var n=e.rootMatrix,i=e.is3d,o=i?4:3,u=aa(n,o);return i||(u=Pr(u,3,4)),u[12]=0,u[13]=0,u[14]=0,sx(u,a)}function _1(e,a,n,i,o){var u=K(e,2),c=u[0],f=u[1],p=0,v=0;if(o&&c&&f){var g=Re([0,0],a),y=Re([0,0],i),m=Gr(a),b=Math.cos(g-y)*m;if(!i[0])v=b,p=v*n;else if(!i[1])p=b,v=p/n;else{var x=i[0]*c,S=i[1]*f,C=Math.atan2(x+a[0],S+a[1]),E=Math.atan2(x,S);C<0&&(C+=Math.PI*2),E<0&&(E+=Math.PI*2);var w=0;xt(C-E)<Math.PI/2||xt(C-E)>Math.PI/2*3||(E+=Math.PI),w=C-E,w>Math.PI*2?w-=Math.PI*2:w>Math.PI?w=2*Math.PI-w:w<-Math.PI&&(w=-2*Math.PI-w);var M=Gr([x+a[0],S+a[1]])*Math.cos(w);p=M*Math.sin(E)-x,v=M*Math.cos(E)-S,i[0]<0&&(p*=-1),i[1]<0&&(v*=-1)}}else p=i[0]*a[0],v=i[1]*a[1];return[p,v]}function z1(e,a,n,i){var o,u=n.ratio,c=n.startOffsetWidth,f=n.startOffsetHeight,p=0,v=0,g=i.distX,y=i.distY,m=i.pinchScale,b=i.parentDistance,x=i.parentDist,S=i.parentScale,C=n.fixedDirection,E=[0,1].map(function(N){return xt(e[N]-C[N])}),w=[0,1].map(function(N){var z=E[N];return z!==0&&(z=2/z),z});if(x)p=x[0],v=x[1],a&&(p?v||(v=p/u):p=v*u);else if(Jl(m))p=(m-1)*c,v=(m-1)*f;else if(S)p=(S[0]-1)*c,v=(S[1]-1)*f;else if(b){var M=c*E[0],D=f*E[1],O=Gr([M,D]);p=b/O*M*w[0],v=b/O*D*w[1]}else{var _=na({datas:n,distX:g,distY:y});_=w.map(function(N,z){return _[z]*N}),o=K(_1([c,f],_,u,e,a),2),p=o[0],v=o[1]}return{distWidth:p,distHeight:v}}function Ed(e,a){if(a){if(e==="left")return{x:"0%",y:"50%"};if(e==="top")return{x:"50%",y:"50%"};if(e==="center")return{x:"50%",y:"50%"};if(e==="right")return{x:"100%",y:"50%"};if(e==="bottom")return{x:"50%",y:"100%"};var n=K(e.split(" "),2),i=n[0],o=n[1],u=Ed(i||""),c=Ed(o||""),f=P(P({},u),c),p={x:"50%",y:"50%"};return f.x&&(p.x=f.x),f.y&&(p.y=f.y),f.value&&(f.x&&!f.y&&(p.y=f.value),!f.x&&f.y&&(p.x=f.value)),p}return e==="left"?{x:"0%"}:e==="right"?{x:"100%"}:e==="top"?{y:"0%"}:e==="bottom"?{y:"100%"}:e?e==="center"?{value:"50%"}:{value:e}:{}}function cv(e,a,n){var i=Ed(e,!0),o=i.x,u=i.y;return[de(o,a)||0,de(u,n)||0]}function BC(e,a,n){var i=e.map(function(u){return Nt(u,a)}),o=i.map(function(u){return io(u,n)});return{prev:i,next:o,result:o.map(function(u){return te(u,a)})}}function N1(e,a){return e.length===a.length&&e.every(function(n,i){var o=a[i],u=Ie(n),c=Ie(o);return u&&c?N1(n,o):!u&&!c?n===o:!1})}function _i(e,a,n,i,o){var u=e._store,c=u[a];if(!(a in u))if(o!=null)u[a]=o,c=o;else return u[a]=n,n;return c===n||i(c)===i(n)?c:(u[a]=n,n)}function nr(e){return e>=0?1:-1}function xt(e){return Math.abs(e)}function kf(e,a){return ZS(e).map(function(n){return a(n)})}function B1(e){return Jl(e)?{top:e,left:e,right:e,bottom:e}:{left:e.left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}}var jC=so("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(e,a){var n=a.datas,i=a.targets,o=a.angle,u=a.originalDatas,c=e.props,f=c.pinchable,p=c.ables;if(!f)return!1;var v="onPinch".concat(i?"Group":"","Start"),g="drag".concat(i?"Group":"","ControlStart"),y=(f===!0?e.controlAbles:p.filter(function(S){return f.indexOf(S.name)>-1})).filter(function(S){return S.canPinch&&S[g]}),m=Xt(e,a,{});i&&(m.targets=i);var b=wt(e,v,m);n.isPinch=b!==!1,n.ables=y;var x=n.isPinch;return x?(y.forEach(function(S){if(u[S.name]=u[S.name]||{},!!S[g]){var C=P(P({},a),{datas:u[S.name],parentRotate:o,isPinch:!0});S[g](e,C)}}),e.state.snapRenderInfo={request:a.isRequest,direction:[0,0]},x):!1},pinch:function(e,a){var n=a.datas,i=a.scale,o=a.distance,u=a.originalDatas,c=a.inputEvent,f=a.targets,p=a.angle;if(n.isPinch){var v=o*(1-1/i),g=Xt(e,a,{});f&&(g.targets=f);var y="onPinch".concat(f?"Group":"");wt(e,y,g);var m=n.ables,b="drag".concat(f?"Group":"","Control");return m.forEach(function(x){x[b]&&x[b](e,P(P({},a),{datas:u[x.name],inputEvent:c,resolveMatrix:!0,pinchScale:i,parentDistance:v,parentRotate:p,isPinch:!0}))}),g}},pinchEnd:function(e,a){var n=a.datas,i=a.isPinch,o=a.inputEvent,u=a.targets,c=a.originalDatas;if(n.isPinch){var f="onPinch".concat(u?"Group":"","End"),p=Ar(e,a,{isDrag:i});u&&(p.targets=u),wt(e,f,p);var v=n.ables,g="drag".concat(u?"Group":"","ControlEnd");return v.forEach(function(y){y[g]&&y[g](e,P(P({},a),{isDrag:i,datas:c[y.name],inputEvent:o,isPinch:!0}))}),i}},pinchGroupStart:function(e,a){return this.pinchStart(e,P(P({},a),{targets:e.props.targets}))},pinchGroup:function(e,a){return this.pinch(e,P(P({},a),{targets:e.props.targets}))},pinchGroupEnd:function(e,a){return this.pinchEnd(e,P(P({},a),{targets:e.props.targets}))}}),H0=sv("scalable"),LC={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:t1("scalable"),dragControlCondition:H0,viewClassName:ov("scalable"),dragControlStart:function(e,a){var n=a.datas,i=a.isPinch,o=a.inputEvent,u=a.parentDirection,c=w1(u,i,o,n),f=e.state,p=f.width,v=f.height,g=f.targetTransform,y=f.target,m=f.pos1,b=f.pos2,x=f.pos4;if(!c||!y)return!1;i||Vn(e,a),n.datas={},n.transform=g,n.prevDist=[1,1],n.direction=c,n.startOffsetWidth=p,n.startOffsetHeight=v,n.startValue=[1,1];var S=!c[0]&&!c[1]||c[0]||!c[1];lu(e,a,"scale"),n.isWidth=S;function C(_){n.ratio=_&&isFinite(_)?_:0}n.startPositions=Hr(e.state);function E(_){var N=d1(n.startPositions,_);n.fixedDirection=N.fixedDirection,n.fixedPosition=N.fixedPosition,n.fixedOffset=N.fixedOffset}n.setFixedDirection=E,C(Ta(m,b)/Ta(b,x)),E([-c[0],-c[1]]);var w=function(_){n.minScaleSize=_},M=function(_){n.maxScaleSize=_};w([-1/0,-1/0]),M([1/0,1/0]);var D=Xt(e,a,P(P({direction:c,set:function(_){n.startValue=_},setRatio:C,setFixedDirection:E,setMinScaleSize:w,setMaxScaleSize:M},iu(e,a)),{dragStart:ar.dragStart(e,new Bi().dragStart([0,0],a))})),O=wt(e,"onScaleStart",D);return n.startFixedDirection=n.fixedDirection,O!==!1&&(n.isScale=!0,e.state.snapRenderInfo={request:a.isRequest,direction:c}),n.isScale?D:!1},dragControl:function(e,a){au(e,a,"scale");var n=a.datas,i=a.parentKeepRatio,o=a.parentFlag,u=a.isPinch,c=a.dragClient,f=a.isRequest,p=a.useSnap,v=a.resolveMatrix,g=n.prevDist,y=n.direction,m=n.startOffsetWidth,b=n.startOffsetHeight,x=n.isScale,S=n.startValue,C=n.isWidth,E=n.ratio;if(!x)return!1;var w=e.props,M=w.throttleScale,D=w.parentMoveable,O=y;!y[0]&&!y[1]&&(O=[1,1]);var _=E&&(i??w.keepRatio)||!1,N=e.state,z=[S[0],S[1]];function j(){var vt=z1(O,_,n,a),tt=vt.distWidth,rt=vt.distHeight,ut=m?(m+tt)/m:1,Ct=b?(b+rt)/b:1;S[0]||(z[0]=tt/m),S[1]||(z[1]=rt/b);var Mt=(O[0]||_?ut:1)*z[0],Vt=(O[1]||_?Ct:1)*z[1];return Mt===0&&(Mt=nr(g[0])*Os),Vt===0&&(Vt=nr(g[1])*Os),[Mt,Vt]}var H=j();if(!u&&e.props.groupable){var F=N.snapRenderInfo||{},I=F.direction;Ie(I)&&(I[0]||I[1])&&(N.snapRenderInfo={direction:y,request:a.isRequest})}wt(e,"onBeforeScale",Xt(e,a,{scale:H,setFixedDirection:function(vt){return n.setFixedDirection(vt),H=j(),H},startFixedDirection:n.startFixedDirection,setScale:function(vt){H=vt}},!0));var X=[H[0]/z[0],H[1]/z[1]],Q=c,U=[0,0],G=nr(X[0]*X[1]),Z=!c&&!o&&u;if(Z||v?Q=Qd(e,n.targetAllTransform,[0,0],[0,0],n):c||(Q=n.fixedPosition),u||(U=vC(e,X,y,!p&&f,n)),_){O[0]&&O[1]&&U[0]&&U[1]&&(Math.abs(U[0]*m)>Math.abs(U[1]*b)?U[1]=0:U[0]=0);var J=!U[0]&&!U[1];if(J&&(C?X[0]=kt(X[0]*z[0],M)/z[0]:X[1]=kt(X[1]*z[1],M)/z[1]),O[0]&&!O[1]||U[0]&&!U[1]||J&&C){X[0]+=U[0];var dt=m*X[0]*z[0]/E;X[1]=nr(G*X[0])*xt(dt/b/z[1])}else if(!O[0]&&O[1]||!U[0]&&U[1]||J&&!C){X[1]+=U[1];var B=b*X[1]*z[1]*E;X[0]=nr(G*X[1])*xt(B/m/z[0])}}else X[0]+=U[0],X[1]+=U[1],U[0]||(X[0]=kt(X[0]*z[0],M)/z[0]),U[1]||(X[1]=kt(X[1]*z[1],M)/z[1]);X[0]===0&&(X[0]=nr(g[0])*Os),X[1]===0&&(X[1]=nr(g[1])*Os),H=mC(X,[z[0],z[1]]);var q=[m,b],nt=[m*H[0],b*H[1]];nt=wm(nt,n.minScaleSize,n.maxScaleSize,_?E:!1),H=kf(2,function(vt){return q[vt]?nt[vt]/q[vt]:nt[vt]}),X=kf(2,function(vt){return H[vt]/z[vt]});var lt=kf(2,function(vt){return g[vt]?X[vt]/g[vt]:X[vt]}),ct="scale(".concat(X.join(", "),")"),bt="scale(".concat(H.join(", "),")"),L=nu(n,bt,ct),V=!S[0]||!S[1],Y=v2(e,V?bt:ct,n.fixedDirection,Q,n.fixedOffset,n,V),ht=Z?Y:Nt(Y,n.prevInverseDist||[0,0]);if(n.prevDist=X,n.prevInverseDist=Y,H[0]===g[0]&&H[1]===g[1]&&ht.every(function(vt){return!vt})&&!D&&!Z)return!1;var gt=Xt(e,a,P({offsetWidth:m,offsetHeight:b,direction:y,scale:H,dist:X,delta:lt,isPinch:!!u},Km(e,L,ht,u,a)));return wt(e,"onScale",gt),gt},dragControlEnd:function(e,a){var n=a.datas;if(!n.isScale)return!1;n.isScale=!1;var i=Ar(e,a,{});return wt(e,"onScaleEnd",i),i},dragGroupControlCondition:H0,dragGroupControlStart:function(e,a){var n=a.datas,i=this.dragControlStart(e,a);if(!i)return!1;var o=Ir(e,"resizable",a);n.moveableScale=e.scale;var u=Aa(e,this,"dragControlStart",a,function(v,g){return Fs(e,v,n,g)}),c=function(v){i.setFixedDirection(v),u.forEach(function(g,y){g.setFixedDirection(v),Fs(e,g.moveable,n,o[y])})};n.setFixedDirection=c;var f=P(P({},i),{targets:e.props.targets,events:u,setFixedDirection:c}),p=wt(e,"onScaleGroupStart",f);return n.isScale=p!==!1,n.isScale?f:!1},dragGroupControl:function(e,a){var n=a.datas;if(n.isScale){fu(e,"onBeforeScale",function(g){wt(e,"onBeforeScaleGroup",Xt(e,a,P(P({},g),{targets:e.props.targets}),!0))});var i=this.dragControl(e,a);if(i){var o=i.dist,u=n.moveableScale;e.scale=[o[0]*u[0],o[1]*u[1]];var c=e.props.keepRatio,f=n.fixedPosition,p=Aa(e,this,"dragControl",a,function(g,y){var m=K(er(lo(e.rotation/180*Math.PI,3),[y.datas.originalX*o[0],y.datas.originalY*o[1],1],3),2),b=m[0],x=m[1];return P(P({},y),{parentDist:null,parentScale:o,parentKeepRatio:c,dragClient:te(f,[b,x])})}),v=P({targets:e.props.targets,events:p},i);return wt(e,"onScaleGroup",v),v}}},dragGroupControlEnd:function(e,a){var n=a.isDrag,i=a.datas;if(i.isScale){this.dragControlEnd(e,a);var o=Aa(e,this,"dragControlEnd",a),u=Ar(e,a,{targets:e.props.targets,events:o});return wt(e,"onScaleGroupEnd",u),n}},request:function(){var e={},a=0,n=0,i=!1;return{isControl:!0,requestStart:function(o){return i=o.useSnap,{datas:e,parentDirection:o.direction||[1,1],useSnap:i}},request:function(o){return a+=o.deltaWidth,n+=o.deltaHeight,{datas:e,parentDist:[a,n],parentKeepRatio:o.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}}};function $a(e,a){return e.map(function(n,i){return qs(n,a[i],1,2)})}function U0(e,a,n){var i=Re(e,a),o=Re(e,n),u=o-i;return u>=0?u:u+2*Math.PI}function VC(e,a){var n=U0(e[0],e[1],e[2]),i=U0(a[0],a[1],a[2]),o=Math.PI;return!(n>=o&&i<=o||n<=o&&i>=o)}var GC={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:ov("warpable"),render:function(e,a){var n=e.props,i=n.resizable,o=n.scalable,u=n.warpable,c=n.zoom;if(i||o||!u)return[];var f=e.state,p=f.pos1,v=f.pos2,g=f.pos3,y=f.pos4,m=$a(p,v),b=$a(v,p),x=$a(p,g),S=$a(g,p),C=$a(g,y),E=$a(y,g),w=$a(v,y),M=$a(y,v);return Et([a.createElement("div",{className:zt("line"),key:"middeLine1",style:Il(m,C,c)}),a.createElement("div",{className:zt("line"),key:"middeLine2",style:Il(b,E,c)}),a.createElement("div",{className:zt("line"),key:"middeLine3",style:Il(x,w,c)}),a.createElement("div",{className:zt("line"),key:"middeLine4",style:Il(S,M,c)})],K(e1(e,"warpable",a)),!1)},dragControlCondition:function(e,a){if(a.isRequest)return!1;var n=a.inputEvent.target;return Ge(n,zt("direction"))&&Ge(n,zt("warpable"))},dragControlStart:function(e,a){var n=a.datas,i=a.inputEvent,o=e.props.target,u=i.target,c=M1(u,n);if(!c||!o)return!1;var f=e.state,p=f.transformOrigin,v=f.is3d,g=f.targetTransform,y=f.targetMatrix,m=f.width,b=f.height,x=f.left,S=f.top;n.datas={},n.targetTransform=g,n.warpTargetMatrix=v?y:Pr(y,3,4),n.targetInverseMatrix=Rm(aa(n.warpTargetMatrix,4),3,4),n.direction=c,n.left=x,n.top=S,n.poses=[[0,0],[m,0],[0,b],[m,b]].map(function(w){return Nt(w,p)}),n.nextPoses=n.poses.map(function(w){var M=K(w,2),D=M[0],O=M[1];return er(n.warpTargetMatrix,[D,O,0,1],4)}),n.startValue=ge(4),n.prevMatrix=ge(4),n.absolutePoses=Hr(f),n.posIndexes=Fm(c),Vn(e,a),lu(e,a,"matrix3d"),f.snapRenderInfo={request:a.isRequest,direction:c};var C=Xt(e,a,P({set:function(w){n.startValue=w}},iu(e,a))),E=wt(e,"onWarpStart",C);return E!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(e,a){var n=a.datas,i=a.isRequest,o=a.distX,u=a.distY,c=n.targetInverseMatrix,f=n.prevMatrix,p=n.isWarp,v=n.startValue,g=n.poses,y=n.posIndexes,m=n.absolutePoses;if(!p)return!1;if(au(e,a,"matrix3d"),Ii(e,"warpable")){var b=y.map(function(j){return m[j]});b.length>1&&b.push([(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]);var x=uu(e,i,{horizontal:b.map(function(j){return j[1]+u}),vertical:b.map(function(j){return j[0]+o})}),S=x.horizontal,C=x.vertical;u-=S.offset,o-=C.offset}var E=na({datas:n,distX:o,distY:u},!0),w=n.nextPoses.slice();if(y.forEach(function(j){w[j]=te(w[j],E)}),!r2.every(function(j){return VC(j.map(function(H){return g[H]}),j.map(function(H){return w[H]}))}))return!1;var M=qd(g[0],g[2],g[1],g[3],w[0],w[2],w[1],w[3]);if(!M.length)return!1;var D=ve(c,M,4),O=Ym(n,D,!0),_=ve(aa(f,4),O,4);n.prevMatrix=O;var N=ve(v,O,4),z=nu(n,"matrix3d(".concat(N.join(", "),")"),"matrix3d(".concat(O.join(", "),")"));return Zd(a,z),wt(e,"onWarp",Xt(e,a,P({delta:_,matrix:N,dist:O,multiply:ve,transform:z},ir({transform:z},a)))),!0},dragControlEnd:function(e,a){var n=a.datas,i=a.isDrag;return n.isWarp?(n.isWarp=!1,wt(e,"onWarpEnd",Ar(e,a,{})),i):!1}},HC=zt("area-pieces"),js=zt("area-piece"),j1=zt("avoid"),UC=zt("view-dragging");function Xf(e){var a=e.areaElement;if(a){var n=e.state,i=n.width,o=n.height;Dm(a,j1),a.style.cssText+="left: 0px; top: 0px; width: ".concat(i,"px; height: ").concat(o,"px")}}function k0(e){return e.createElement("div",{key:"area_pieces",className:HC},e.createElement("div",{className:js}),e.createElement("div",{className:js}),e.createElement("div",{className:js}),e.createElement("div",{className:js}))}var L1={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(e,a){var n=e.props,i=n.target,o=n.dragArea,u=n.groupable,c=n.passDragArea,f=e.getState(),p=f.width,v=f.height,g=f.renderPoses,y=c?zt("area","pass"):zt("area");if(u)return[a.createElement("div",{key:"area",ref:zn(e,"areaElement"),className:y}),k0(a)];if(!i||!o)return[];var m=qd([0,0],[p,0],[0,v],[p,v],g[0],g[1],g[2],g[3]),b=m.length?cu(m,!0):"none";return[a.createElement("div",{key:"area",ref:zn(e,"areaElement"),className:y,style:{top:"0px",left:"0px",width:"".concat(p,"px"),height:"".concat(v,"px"),transformOrigin:"0 0",transform:b}}),k0(a)]},dragStart:function(e,a){var n=a.datas,i=a.clientX,o=a.clientY,u=a.inputEvent;if(!u)return!1;n.isDragArea=!1;var c=e.areaElement,f=e.state,p=f.moveableClientRect,v=f.renderPoses,g=f.rootMatrix,y=f.is3d,m=p.left,b=p.top,x=Vr(v),S=x.left,C=x.top,E=x.width,w=x.height,M=y?4:3,D=K(Vi(g,[i-m,o-b],M),2),O=D[0],_=D[1];O-=S,_-=C;var N=[{left:S,top:C,width:E,height:_-10},{left:S,top:C,width:O-10,height:w},{left:S,top:C+_+10,width:E,height:w-_-10},{left:S+O+10,top:C,width:E-O-10,height:w}],z=[].slice.call(c.nextElementSibling.children);N.forEach(function(j,H){z[H].style.cssText="left: ".concat(j.left,"px;top: ").concat(j.top,"px; width: ").concat(j.width,"px; height: ").concat(j.height,"px;")}),Mm(c,j1),f.disableNativeEvent=!0},drag:function(e,a){var n=a.datas,i=a.inputEvent;if(this.enableNativeEvent(e),!i)return!1;n.isDragArea||(n.isDragArea=!0,Xf(e))},dragEnd:function(e,a){this.enableNativeEvent(e);var n=a.inputEvent,i=a.datas;if(!n)return!1;i.isDragArea||Xf(e)},dragGroupStart:function(e,a){return this.dragStart(e,a)},dragGroup:function(e,a){return this.drag(e,a)},dragGroupEnd:function(e,a){return this.dragEnd(e,a)},unset:function(e){Xf(e),e.state.disableNativeEvent=!1},enableNativeEvent:function(e){var a=e.state;a.disableNativeEvent&&Am(function(){a.disableNativeEvent=!1})}},kC=so("origin",{props:["origin","svgOrigin"],render:function(e,a){var n=e.props,i=n.zoom,o=n.svgOrigin,u=n.groupable,c=e.getState(),f=c.beforeOrigin,p=c.rotation,v=c.svg,g=c.allMatrix,y=c.is3d,m=c.left,b=c.top,x=c.offsetWidth,S=c.offsetHeight,C;if(!u&&v&&o){var E=K(cv(o,x,S),2),w=E[0],M=E[1],D=y?4:3,O=Ee(g,[w,M],D);C=Qs(p,i,Nt(O,[m,b]))}else C=Qs(p,i,f);return[a.createElement("div",{className:zt("control","origin"),style:C,key:"beforeOrigin"})]}});function XC(e){var a=e.scrollContainer;return[a.scrollLeft,a.scrollTop]}var qC={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(e,a){var n=e.props,i=n.scrollContainer,o=i===void 0?e.getContainer():i,u=n.scrollOptions,c=new xx,f=ra(o,!0);a.datas.dragScroll=c,e.state.dragScroll=c;var p=a.isControl?"controlGesto":"targetGesto",v=a.targets;c.on("scroll",function(g){var y=g.container,m=g.direction,b=Xt(e,a,{scrollContainer:y,direction:m}),x=v?"onScrollGroup":"onScroll";v&&(b.targets=v),wt(e,x,b)}).on("move",function(g){var y=g.offsetX,m=g.offsetY,b=g.inputEvent;e[p].scrollBy(y,m,b.inputEvent,!1)}).on("scrollDrag",function(g){var y=g.next;y(e[p].getCurrentEvent())}),c.dragStart(a,P({container:f},u))},checkScroll:function(e,a){var n=a.datas.dragScroll;if(n){var i=e.props,o=i.scrollContainer,u=o===void 0?e.getContainer():o,c=i.scrollThreshold,f=c===void 0?0:c,p=i.scrollThrottleTime,v=p===void 0?0:p,g=i.getScrollPosition,y=g===void 0?XC:g,m=i.scrollOptions;return n.drag(a,P({container:u,threshold:f,throttleTime:v,getScrollPosition:function(b){return y({scrollContainer:b.container,direction:b.direction})}},m)),!0}},drag:function(e,a){return this.checkScroll(e,a)},dragEnd:function(e,a){a.datas.dragScroll.dragEnd(),a.datas.dragScroll=null},dragControlStart:function(e,a){return this.dragStart(e,P(P({},a),{isControl:!0}))},dragControl:function(e,a){return this.drag(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupStart:function(e,a){return this.dragStart(e,P(P({},a),{targets:e.props.targets}))},dragGroup:function(e,a){return this.drag(e,P(P({},a),{targets:e.props.targets}))},dragGroupEnd:function(e,a){return this.dragEnd(e,P(P({},a),{targets:e.props.targets}))},dragGroupControlStart:function(e,a){return this.dragStart(e,P(P({},a),{targets:e.props.targets,isControl:!0}))},dragGroupControl:function(e,a){return this.drag(e,P(P({},a),{targets:e.props.targets}))},dragGroupControEnd:function(e,a){return this.dragEnd(e,P(P({},a),{targets:e.props.targets}))},unset:function(e){var a,n=e.state;(a=n.dragScroll)===null||a===void 0||a.dragEnd(),n.dragScroll=null}},V1={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},IC=so("padding",{props:["padding"],render:function(e,a){var n=e.props;if(n.dragArea)return[];var i=B1(n.padding||{}),o=i.left,u=i.top,c=i.right,f=i.bottom,p=e.getState(),v=p.renderPoses,g=p.pos1,y=p.pos2,m=p.pos3,b=p.pos4,x=[g,y,m,b],S=[];return o>0&&S.push([0,2]),u>0&&S.push([0,1]),c>0&&S.push([1,3]),f>0&&S.push([2,3]),S.map(function(C,E){var w=K(C,2),M=w[0],D=w[1],O=x[M],_=x[D],N=v[M],z=v[D],j=qd([0,0],[100,0],[0,100],[100,100],O,_,N,z);if(j.length)return a.createElement("div",{key:"padding".concat(E),className:zt("padding"),style:{transform:cu(j,!0)}})})}}),X0=["nw","ne","se","sw"];function Ls(e,a){var n=e[0]+e[1],i=n>a?a/n:1;return e[0]*=i,e[1]=a-e[1]*i,e}var YC=[1,2,5,6],PC=[0,3,4,7],On=[1,-1,-1,1],Rn=[1,1,-1,-1];function fv(e,a,n,i,o,u,c,f){o===void 0&&(o=0),u===void 0&&(u=0),c===void 0&&(c=n),f===void 0&&(f=i);var p=[],v=!1,g=e.filter(function(m){return!m.virtual}),y=g.map(function(m){var b=m.horizontal,x=m.vertical,S=m.pos;if(x&&!v&&(v=!0,p.push("/")),v){var C=Math.max(0,x===1?S[1]-u:f-S[1]);return p.push(qr(C,i,a)),C}else{var C=Math.max(0,b===1?S[0]-o:c-S[0]);return p.push(qr(C,n,a)),C}});return{radiusPoses:g,styles:p,raws:y}}function G1(e){for(var a=[0,0],n=[0,0],i=e.length,o=0;o<i;++o){var u=e[o];u.sub&&(u.horizontal&&(a[1]===0&&(a[0]=o),a[1]=o-a[0]+1,n[0]=o+1),u.vertical&&(n[1]===0&&(n[0]=o),n[1]=o-n[0]+1))}return{horizontalRange:a,verticalRange:n}}function H1(e,a,n,i,o,u,c){var f,p,v,g;u===void 0&&(u=[0,0]),c===void 0&&(c=!1);var y=e.indexOf("/"),m=(y>-1?e.slice(0,y):e).length,b=e.slice(0,m),x=e.slice(m+1),S=b.length,C=x.length,E=C>0,w=K(b,4),M=w[0],D=M===void 0?"0px":M,O=w[1],_=O===void 0?D:O,N=w[2],z=N===void 0?D:N,j=w[3],H=j===void 0?_:j,F=K(x,4),I=F[0],X=I===void 0?D:I,Q=F[1],U=Q===void 0?E?X:_:Q,G=F[2],Z=G===void 0?E?X:z:G,J=F[3],dt=J===void 0?E?U:H:J,B=[D,_,z,H].map(function(L){return de(L,a)}),q=[X,U,Z,dt].map(function(L){return de(L,n)}),nt=B.slice(),lt=q.slice();f=K(Ls([nt[0],nt[1]],a),2),nt[0]=f[0],nt[1]=f[1],p=K(Ls([nt[3],nt[2]],a),2),nt[3]=p[0],nt[2]=p[1],v=K(Ls([lt[0],lt[3]],n),2),lt[0]=v[0],lt[3]=v[1],g=K(Ls([lt[1],lt[2]],n),2),lt[1]=g[0],lt[2]=g[1];var ct=c?nt:nt.slice(0,Math.max(u[0],S)),bt=c?lt:lt.slice(0,Math.max(u[1],C));return Et(Et([],K(ct.map(function(L,V){var Y=X0[V];return{virtual:V>=S,horizontal:On[V],vertical:0,pos:[i+L,o+(Rn[V]===-1?n:0)],sub:!0,raw:B[V],direction:Y}})),!1),K(bt.map(function(L,V){var Y=X0[V];return{virtual:V>=C,horizontal:0,vertical:Rn[V],pos:[i+(On[V]===-1?a:0),o+L],sub:!0,raw:q[V],direction:Y}})),!1)}function FC(e,a,n,i,o){o===void 0&&(o=a.length);var u=G1(e.slice(i)),c=u.horizontalRange,f=u.verticalRange,p=n-i,v=0;if(p===0)v=o;else if(p>0&&p<c[1])v=c[1]-p;else if(p>=f[0])v=f[0]+f[1]-p;else return;e.splice(n,v),a.splice(n,v)}function KC(e,a,n,i,o,u,c,f,p,v,g){v===void 0&&(v=0),g===void 0&&(g=0);var y=G1(e.slice(n)),m=y.horizontalRange,b=y.verticalRange;if(i>-1)for(var x=On[i]===1?u-v:f-u,S=m[1];S<=i;++S){var C=Rn[S]===1?g:p,E=0;if(i===S?E=u:S===0?E=v+x:On[S]===-1&&(E=f-(a[n][0]-v)),e.splice(n+S,0,{horizontal:On[S],vertical:0,pos:[E,C]}),a.splice(n+S,0,[E,C]),S===0)break}else if(o>-1){var w=Rn[o]===1?c-g:p-c;if(m[1]===0&&b[1]===0){var M=[v+w,g];e.push({horizontal:On[0],vertical:0,pos:M}),a.push(M)}for(var D=b[0],S=b[1];S<=o;++S){var E=On[S]===1?v:f,C=0;if(o===S?C=c:S===0?C=g+w:Rn[S]===1?C=a[n+D][1]:Rn[S]===-1&&(C=p-(a[n+D][1]-g)),e.push({horizontal:0,vertical:Rn[S],pos:[E,C]}),a.push([E,C]),S===0)break}}}function WC(e,a){a===void 0&&(a=e.map(function(o){return o.raw}));var n=e.map(function(o,u){return o.horizontal?a[u]:null}).filter(function(o){return o!=null}),i=e.map(function(o,u){return o.vertical?a[u]:null}).filter(function(o){return o!=null});return{horizontals:n,verticals:i}}var ZC=[[0,-1,"n"],[1,0,"e"]],QC=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function dv(e,a,n){var i=e.props.clipRelative,o=e.state,u=o.width,c=o.height,f=a,p=f.type,v=f.poses,g=p==="rect",y=p==="circle";if(p==="polygon")return n.map(function(_){return"".concat(qr(_[0],u,i)," ").concat(qr(_[1],c,i))});if(g||p==="inset"){var m=n[1][1],b=n[3][0],x=n[7][0],S=n[5][1];if(g)return[m,b,S,x].map(function(_){return"".concat(_,"px")});var C=[m,u-b,c-S,x].map(function(_,N){return qr(_,N%2?u:c,i)});if(n.length>8){var E=K(Nt(n[4],n[0]),2),w=E[0],M=E[1];C.push.apply(C,Et(["round"],K(fv(v.slice(8).map(function(_,N){return P(P({},_),{pos:n[N]})}),i,w,M,x,m,b,S).styles),!1))}return C}else if(y||p==="ellipse"){var D=n[0],O=qr(xt(n[1][1]-D[1]),y?Math.sqrt((u*u+c*c)/2):c,i),C=y?[O]:[qr(xt(n[2][0]-D[0]),u,i),O];return C.push("at",qr(D[0],u,i),qr(D[1],c,i)),C}}function $s(e,a,n,i){var o=[i,(i+a)/2,a],u=[e,(e+n)/2,n];return QC.map(function(c){var f=K(c,3),p=f[0],v=f[1],g=f[2],y=o[p+1],m=u[v+1];return{vertical:xt(v),horizontal:xt(p),direction:g,pos:[y,m]}})}function U1(e){var a=[1/0,-1/0],n=[1/0,-1/0];return e.forEach(function(i){var o=i.pos;a[0]=Math.min(a[0],o[0]),a[1]=Math.max(a[1],o[0]),n[0]=Math.min(n[0],o[1]),n[1]=Math.max(n[1],o[1])}),[xt(a[1]-a[0]),xt(n[1]-n[0])]}function q0(e,a,n,i,o){var u,c,f,p,v,g,y,m,b;if(e){var x=o;if(!x){var S=vr(e),C=S("clipPath");x=C!=="none"?C:S("clip")}if(!((!x||x==="none"||x==="auto")&&(x=i,!x))){var E=Tm(x),w=E.prefix,M=w===void 0?x:w,D=E.value,O=D===void 0?"":D,_=M==="circle",N=" ";if(M==="polygon"){var z=_n(O||"0% 0%, 100% 0%, 100% 100%, 0% 100%");N=",";var j=z.map(function(Zt){var Yt=K(Zt.split(" "),2),$t=Yt[0],me=Yt[1];return{vertical:1,horizontal:1,pos:[de($t,a),de(me,n)]}}),H=jn(j.map(function(Zt){return Zt.pos}));return{type:M,clipText:x,poses:j,splitter:N,left:H.minX,right:H.maxX,top:H.minY,bottom:H.maxY}}else if(_||M==="ellipse"){var F="",I="",X=0,Q=0,z=nn(O);if(_){var U="";u=K(z,4),c=u[0],U=c===void 0?"50%":c,f=u[2],F=f===void 0?"50%":f,p=u[3],I=p===void 0?"50%":p,X=de(U,Math.sqrt((a*a+n*n)/2)),Q=X}else{var G="",Z="";v=K(z,5),g=v[0],G=g===void 0?"50%":g,y=v[1],Z=y===void 0?"50%":y,m=v[3],F=m===void 0?"50%":m,b=v[4],I=b===void 0?"50%":b,X=de(G,a),Q=de(Z,n)}var J=[de(F,a),de(I,n)],j=Et([{vertical:1,horizontal:1,pos:J,direction:"nesw"}],K(ZC.slice(0,_?1:2).map(function($t){return{vertical:xt($t[1]),horizontal:$t[0],direction:$t[2],sub:!0,pos:[J[0]+$t[0]*X,J[1]+$t[1]*Q]}})),!1);return{type:M,clipText:x,radiusX:X,radiusY:Q,left:J[0]-X,top:J[1]-Q,right:J[0]+X,bottom:J[1]+Q,poses:j,splitter:N}}else if(M==="inset"){var z=nn(O||"0 0 0 0"),dt=z.indexOf("round"),B=(dt>-1?z.slice(0,dt):z).length,q=z.slice(B+1),nt=K(z.slice(0,B),4),lt=nt[0],ct=nt[1],bt=ct===void 0?lt:ct,L=nt[2],V=L===void 0?lt:L,Y=nt[3],ht=Y===void 0?bt:Y,gt=K([lt,V].map(function($t){return de($t,n)}),2),vt=gt[0],tt=gt[1],rt=K([ht,bt].map(function($t){return de($t,a)}),2),ut=rt[0],Ct=rt[1],Mt=a-Ct,Vt=n-tt,Bt=H1(q,Mt-ut,Vt-vt,ut,vt),j=Et(Et([],K($s(vt,Mt,Vt,ut)),!1),K(Bt),!1);return{type:"inset",clipText:x,poses:j,top:vt,left:ut,right:Mt,bottom:Vt,radius:q,splitter:N}}else if(M==="rect"){var z=_n(O||"0px, ".concat(a,"px, ").concat(n,"px, 0px"));N=",";var Ot=K(z.map(function(Qe){var be=no(Qe).value;return be}),4),Ut=Ot[0],Ct=Ot[1],tt=Ot[2],ut=Ot[3],j=$s(Ut,Ct,tt,ut);return{type:"rect",clipText:x,poses:j,top:Ut,right:Ct,bottom:tt,left:ut,values:z,splitter:N}}}}}function JC(e,a,n,i,o){var u=e[a],c=u.direction,f=u.sub,p=e.map(function(){return[0,0]}),v=c?c.split(""):[];if(i&&a<8){var g=v.filter(function(X){return X==="w"||X==="e"}),y=v.filter(function(X){return X==="n"||X==="s"}),m=g[0],b=y[0];p[a]=n;var x=K(U1(e),2),S=x[0],C=x[1],E=S&&C?S/C:0;if(E&&o){var w=(a+4)%8,M=e[w].pos,D=[0,0];c.indexOf("w")>-1?D[0]=-1:c.indexOf("e")>-1&&(D[0]=1),c.indexOf("n")>-1?D[1]=-1:c.indexOf("s")>-1&&(D[1]=1);var O=_1([S,C],n,E,D,!0),_=S+O[0],N=C+O[1],z=M[1],j=M[1],H=M[0],F=M[0];D[0]===-1?H=F-_:D[0]===1?F=H+_:(H=H-_/2,F=F+_/2),D[1]===-1?z=j-N:(D[1]===1||(z=j-N/2),j=z+N);var I=$s(z,F,j,H);e.forEach(function(X,Q){p[Q][0]=I[Q].pos[0]-X.pos[0],p[Q][1]=I[Q].pos[1]-X.pos[1]})}else e.forEach(function(X,Q){var U=X.direction;U&&(U.indexOf(m)>-1&&(p[Q][0]=n[0]),U.indexOf(b)>-1&&(p[Q][1]=n[1]))}),m&&(p[1][0]=n[0]/2,p[5][0]=n[0]/2),b&&(p[3][1]=n[1]/2,p[7][1]=n[1]/2)}else c&&!f?v.forEach(function(X){var Q=X==="n"||X==="s";e.forEach(function(U,G){var Z=U.direction,J=U.horizontal,dt=U.vertical;!Z||Z.indexOf(X)===-1||(p[G]=[Q||!J?0:n[0],!Q||!dt?0:n[1]])})}):p[a]=n;return p}function $C(e,a){var n=K(Im(e,a),2),i=n[0],o=n[1],u=a.datas,c=u.clipPath,f=u.clipIndex,p=c,v=p.type,g=p.poses,y=p.splitter,m=g.map(function(w){return w.pos});if(v==="polygon")m.splice(f,0,[i,o]);else if(v==="inset"){var b=YC.indexOf(f),x=PC.indexOf(f),S=g.length;if(KC(g,m,8,b,x,i,o,m[4][0],m[4][1],m[0][0],m[0][1]),S===g.length)return}else return;var C=dv(e,c,m),E="".concat(v,"(").concat(C.join(y),")");wt(e,"onClip",Xt(e,a,P({clipEventType:"added",clipType:v,poses:m,clipStyles:C,clipStyle:E,distX:0,distY:0},ir({clipPath:E},a))))}function tE(e,a){var n=a.datas,i=n.clipPath,o=n.clipIndex,u=i,c=u.type,f=u.poses,p=u.splitter,v=f.map(function(b){return b.pos}),g=v.length;if(c==="polygon")f.splice(o,1),v.splice(o,1);else if(c==="inset"){if(o<8||(FC(f,v,o,8,g),g===f.length))return}else return;var y=dv(e,i,v),m="".concat(c,"(").concat(y.join(p),")");wt(e,"onClip",Xt(e,a,P({clipEventType:"removed",clipType:c,poses:v,clipStyles:y,clipStyle:m,distX:0,distY:0},ir({clipPath:m},a))))}var eE={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(e,a){var n=e.props,i=n.customClipPath,o=n.defaultClipPath,u=n.clipArea,c=n.zoom,f=n.groupable,p=e.getState(),v=p.target,g=p.width,y=p.height,m=p.allMatrix,b=p.is3d,x=p.left,S=p.top,C=p.pos1,E=p.pos2,w=p.pos3,M=p.pos4,D=p.clipPathState,O=p.snapBoundInfos,_=p.rotation;if(!v||f)return[];var N=q0(v,g,y,o||"inset",D||i);if(!N)return[];var z=b?4:3,j=N.type,H=N.poses,F=H.map(function(Ct){var Mt=Ee(m,Ct.pos,z);return[Mt[0]-x,Mt[1]-S]}),I=[],X=[],Q=j==="rect",U=j==="inset",G=j==="polygon";if(Q||U||G){var Z=U?F.slice(0,8):F;X=Z.map(function(Ct,Mt){var Vt=Mt===0?Z[Z.length-1]:Z[Mt-1],Bt=Re(Vt,Ct),Ot=C1(Vt,Ct);return a.createElement("div",{key:"clipLine".concat(Mt),className:zt("line","clip-line","snap-control"),"data-clip-index":Mt,style:{width:"".concat(Ot,"px"),transform:"translate(".concat(Vt[0],"px, ").concat(Vt[1],"px) rotate(").concat(Bt,"rad) scaleY(").concat(c,")")}})})}if(I=F.map(function(Ct,Mt){return a.createElement("div",{key:"clipControl".concat(Mt),className:zt("control","clip-control","snap-control"),"data-clip-index":Mt,style:{transform:"translate(".concat(Ct[0],"px, ").concat(Ct[1],"px) rotate(").concat(_,"rad) scale(").concat(c,")")}})}),U&&I.push.apply(I,Et([],K(F.slice(8).map(function(Ct,Mt){return a.createElement("div",{key:"clipRadiusControl".concat(Mt),className:zt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Mt,style:{transform:"translate(".concat(Ct[0],"px, ").concat(Ct[1],"px) rotate(").concat(_,"rad) scale(").concat(c,")")}})})),!1)),j==="circle"||j==="ellipse"){var J=N.left,dt=N.top,B=N.radiusX,q=N.radiusY,nt=K(Nt(Ee(m,[J,dt],z),Ee(m,[0,0],z)),2),lt=nt[0],ct=nt[1],bt="none";if(!u){for(var L=Math.max(10,B/5,q/5),V=[],Y=0;Y<=L;++Y){var ht=Math.PI*2/L*Y;V.push([B+(B-c)*Math.cos(ht),q+(q-c)*Math.sin(ht)])}V.push([B,-2]),V.push([-2,-2]),V.push([-2,q*2+2]),V.push([B*2+2,q*2+2]),V.push([B*2+2,-2]),V.push([B,-2]),bt="polygon(".concat(V.map(function(Ct){return"".concat(Ct[0],"px ").concat(Ct[1],"px")}).join(", "),")")}I.push(a.createElement("div",{key:"clipEllipse",className:zt("clip-ellipse","snap-control"),style:{width:"".concat(B*2,"px"),height:"".concat(q*2,"px"),clipPath:bt,transform:"translate(".concat(-x+lt,"px, ").concat(-S+ct,"px) ").concat(cu(m))}}))}if(u){var gt=Vr(Et([C,E,w,M],K(F),!1)),vt=gt.width,tt=gt.height,rt=gt.left,ut=gt.top;if(G||Q||U){var V=U?F.slice(0,8):F;I.push(a.createElement("div",{key:"clipArea",className:zt("clip-area","snap-control"),style:{width:"".concat(vt,"px"),height:"".concat(tt,"px"),transform:"translate(".concat(rt,"px, ").concat(ut,"px)"),clipPath:"polygon(".concat(V.map(function(Mt){return"".concat(Mt[0]-rt,"px ").concat(Mt[1]-ut,"px")}).join(", "),")")}}))}}return O&&["vertical","horizontal"].forEach(function(Ct){var Mt=O[Ct],Vt=Ct==="horizontal";Mt.isSnap&&X.push.apply(X,Et([],K(Mt.snap.posInfos.map(function(Bt,Ot){var Ut=Bt.pos,Zt=Nt(Ee(m,Vt?[0,Ut]:[Ut,0],z),[x,S]),Yt=Nt(Ee(m,Vt?[g,Ut]:[Ut,y],z),[x,S]);return eo(a,"",Zt,Yt,c,"clip".concat(Ct,"snap").concat(Ot),"guideline")})),!1)),Mt.isBound&&X.push.apply(X,Et([],K(Mt.bounds.map(function(Bt,Ot){var Ut=Bt.pos,Zt=Nt(Ee(m,Vt?[0,Ut]:[Ut,0],z),[x,S]),Yt=Nt(Ee(m,Vt?[g,Ut]:[Ut,y],z),[x,S]);return eo(a,"",Zt,Yt,c,"clip".concat(Ct,"bounds").concat(Ot),"guideline","bounds","bold")})),!1))}),Et(Et([],K(I),!1),K(X),!1)},dragControlCondition:function(e,a){return a.inputEvent&&(a.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(e,a){var n=e.props,i=n.dragWithClip,o=i===void 0?!0:i;return o?!1:this.dragControlStart(e,a)},drag:function(e,a){return this.dragControl(e,P(P({},a),{isDragTarget:!0}))},dragEnd:function(e,a){return this.dragControlEnd(e,a)},dragControlStart:function(e,a){var n=e.state,i=e.props,o=i.defaultClipPath,u=i.customClipPath,c=n.target,f=n.width,p=n.height,v=a.inputEvent?a.inputEvent.target:null,g=v&&v.getAttribute("class")||"",y=a.datas,m=q0(c,f,p,o||"inset",u);if(!m)return!1;var b=m.clipText,x=m.type,S=m.poses,C=wt(e,"onClipStart",Xt(e,a,{clipType:x,clipStyle:b,poses:S.map(function(E){return E.pos})}));return C===!1?(y.isClipStart=!1,!1):(y.isControl=g&&g.indexOf("clip-control")>-1,y.isLine=g.indexOf("clip-line")>-1,y.isArea=g.indexOf("clip-area")>-1||g.indexOf("clip-ellipse")>-1,y.clipIndex=v?parseInt(v.getAttribute("data-clip-index"),10):-1,y.clipPath=m,y.isClipStart=!0,n.clipPathState=b,Vn(e,a),!0)},dragControl:function(e,a){var n,i,o,u=a.datas,c=a.originalDatas,f=a.isDragTarget;if(!u.isClipStart)return!1;var p=u,v=p.isControl,g=p.isLine,y=p.isArea,m=p.clipIndex,b=p.clipPath;if(!b)return!1;var x=Ln(e.props,"clippable"),S=x.keepRatio,C=0,E=0,w=c.draggable,M=na(a);f&&w?(n=K(w.prevBeforeDist,2),C=n[0],E=n[1]):(i=K(M,2),C=i[0],E=i[1]);var D=[C,E],O=e.state,_=O.width,N=O.height,z=!y&&!v&&!g,j=b.type,H=b.poses,F=b.splitter,I=H.map(function(re){return re.pos});z&&(C=-C,E=-E);var X=!v||H[m].direction==="nesw",Q=j==="inset"||j==="rect",U=H.map(function(){return[0,0]});if(v&&!X){var G=H[m],Z=G.horizontal,J=G.vertical,dt=[C*xt(Z),E*xt(J)];U=JC(H,m,dt,Q,S)}else X&&(U=I.map(function(){return[C,E]}));var B=I.map(function(re,xe){return te(re,U[xe])}),q=Et([],K(B),!1);O.snapBoundInfos=null;var nt=b.type==="circle",lt=b.type==="ellipse";if(nt||lt){var ct=Vr(B),bt=xt(ct.bottom-ct.top),L=xt(lt?ct.right-ct.left:bt),V=B[0][1]+bt,Y=B[0][0]-L,ht=B[0][0]+L;nt&&(q.push([ht,ct.bottom]),U.push([1,0])),q.push([ct.left,V]),U.push([0,1]),q.push([Y,ct.bottom]),U.push([1,0])}var gt=g1((x.clipHorizontalGuidelines||[]).map(function(re){return de("".concat(re),N)}),(x.clipVerticalGuidelines||[]).map(function(re){return de("".concat(re),_)}),_,N),vt=[],tt=[];if(nt||lt)vt=[q[4][0],q[2][0]],tt=[q[1][1],q[3][1]];else if(Q){var rt=[q[0],q[2],q[4],q[6]],ut=[U[0],U[2],U[4],U[6]];vt=rt.filter(function(re,xe){return ut[xe][0]}).map(function(re){return re[0]}),tt=rt.filter(function(re,xe){return ut[xe][1]}).map(function(re){return re[1]})}else vt=q.filter(function(re,xe){return U[xe][0]}).map(function(re){return re[0]}),tt=q.filter(function(re,xe){return U[xe][1]}).map(function(re){return re[1]});var Ct=[0,0],Mt=M0(gt,x.clipTargetBounds&&{left:0,top:0,right:_,bottom:N},vt,tt,5,5),Vt=Mt.horizontal,Bt=Mt.vertical,Ot=Vt.offset,Ut=Bt.offset;if(Vt.isBound&&(Ct[1]+=Ot),Bt.isBound&&(Ct[0]+=Ut),(lt||nt)&&U[0][0]===0&&U[0][1]===0){var ct=Vr(B),Zt=ct.bottom-ct.top,Yt=lt?ct.right-ct.left:Zt,$t=Bt.isBound?xt(Ut):Bt.snapIndex===0?-Ut:Ut,me=Vt.isBound?xt(Ot):Vt.snapIndex===0?-Ot:Ot;Yt-=$t,Zt-=me,nt&&(Zt=s1(Bt,Vt)>0?Zt:Yt,Yt=Zt);var ye=q[0];q[1][1]=ye[1]-Zt,q[2][0]=ye[0]+Yt,q[3][1]=ye[1]+Zt,q[4][0]=ye[0]-Yt}else if(Q&&S&&v){var Qe=K(U1(H),2),be=Qe[0],pr=Qe[1],je=be&&pr?be/pr:0,Hn=H[m],wr=Hn.direction||"",un=q[1][1],V=q[5][1],Y=q[7][0],ht=q[3][0];xt(Ot)<=xt(Ut)?Ot=nr(Ot)*xt(Ut)/je:Ut=nr(Ut)*xt(Ot)*je,wr.indexOf("w")>-1?Y-=Ut:wr.indexOf("e")>-1?ht-=Ut:(Y+=Ut/2,ht-=Ut/2),wr.indexOf("n")>-1?un-=Ot:wr.indexOf("s")>-1?V-=Ot:(un+=Ot/2,V-=Ot/2);var Da=$s(un,ht,V,Y);q.forEach(function(kn,Xn){var Kr;Kr=K(Da[Xn].pos,2),kn[0]=Kr[0],kn[1]=Kr[1]})}else q.forEach(function(re,xe){var Fr=U[xe];Fr[0]&&(re[0]-=Ut),Fr[1]&&(re[1]-=Ot)});var la=dv(e,b,B),hr="".concat(j,"(").concat(la.join(F),")");if(O.clipPathState=hr,nt||lt)vt=[q[4][0],q[2][0]],tt=[q[1][1],q[3][1]];else if(Q){var rt=[q[0],q[2],q[4],q[6]];vt=rt.map(function(xe){return xe[0]}),tt=rt.map(function(xe){return xe[1]})}else vt=q.map(function(re){return re[0]}),tt=q.map(function(re){return re[1]});if(O.snapBoundInfos=M0(gt,x.clipTargetBounds&&{left:0,top:0,right:_,bottom:N},vt,tt,1,1),w){var Oa=O.is3d,oa=O.allMatrix,Un=Oa?4:3,Ra=Ct;f&&(Ra=[D[0]+Ct[0]-M[0],D[1]+Ct[1]-M[1]]),w.deltaOffset=ve(oa,[Ra[0],Ra[1],0,0],Un)}return wt(e,"onClip",Xt(e,a,P({clipEventType:"changed",clipType:j,poses:B,clipStyle:hr,clipStyles:la,distX:C,distY:E},ir((o={},o[j==="rect"?"clip":"clipPath"]=hr,o),a)))),!0},dragControlEnd:function(e,a){this.unset(e);var n=a.isDrag,i=a.datas,o=a.isDouble,u=i.isLine,c=i.isClipStart,f=i.isControl;return c?(wt(e,"onClipEnd",Ar(e,a,{})),o&&(f?tE(e,a):u&&$C(e,a)),o||n):!1},unset:function(e){e.state.clipPathState="",e.state.snapBoundInfos=null}},rE={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(e,a){return a.isRequest?a.requestAble==="originDraggable":Ge(a.inputEvent.target,zt("origin"))},dragControlStart:function(e,a){var n=a.datas;Vn(e,a);var i=Xt(e,a,{dragStart:ar.dragStart(e,new Bi().dragStart([0,0],a))}),o=wt(e,"onDragOriginStart",i);return n.startOrigin=e.state.transformOrigin,n.startTargetOrigin=e.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,o===!1?(n.isDragOrigin=!1,!1):i},dragControl:function(e,a){var n=a.datas,i=a.isPinch,o=a.isRequest;if(!n.isDragOrigin)return!1;var u=K(na(a),2),c=u[0],f=u[1],p=e.state,v=p.width,g=p.height,y=p.offsetMatrix,m=p.targetMatrix,b=p.is3d,x=e.props.originRelative,S=x===void 0?!0:x,C=b?4:3,E=[c,f];if(o){var w=a.distOrigin;(w[0]||w[1])&&(E=w)}var M=te(n.startOrigin,E),D=te(n.startTargetOrigin,E),O=Nt(E,n.prevOrigin),_=co(y,m,M,C),N=e.getRect(),z=Vr(Gn(_,v,g,C)),j=[N.left-z.left,N.top-z.top];n.prevOrigin=E;var H=[qr(D[0],v,S),qr(D[1],g,S)].join(" "),F=ar.drag(e,uo(a,e.state,j,!!i)),I=Xt(e,a,P(P({width:v,height:g,origin:M,dist:E,delta:O,transformOrigin:H,drag:F},ir({transformOrigin:H,transform:F.transform},a)),{afterTransform:F.transform}));return wt(e,"onDragOrigin",I),I},dragControlEnd:function(e,a){var n=a.datas;return n.isDragOrigin?(wt(e,"onDragOriginEnd",Ar(e,a,{})),!0):!1},dragGroupControlCondition:function(e,a){return this.dragControlCondition(e,a)},dragGroupControlStart:function(e,a){var n=this.dragControlStart(e,a);return!!n},dragGroupControl:function(e,a){var n=this.dragControl(e,a);return n?(e.transformOrigin=n.transformOrigin,!0):!1},request:function(e){var a={},n=e.getRect(),i=0,o=0,u=n.transformOrigin,c=[0,0];return{isControl:!0,requestStart:function(){return{datas:a}},request:function(f){return"deltaOrigin"in f?(c[0]+=f.deltaOrigin[0],c[1]+=f.deltaOrigin[1]):"origin"in f?(c[0]=f.origin[0]-u[0],c[1]=f.origin[1]-u[1]):("x"in f?i=f.x-n.left:"deltaX"in f&&(i+=f.deltaX),"y"in f?o=f.y-n.top:"deltaY"in f&&(o+=f.deltaY)),{datas:a,distX:i,distY:o,distOrigin:c}},requestEnd:function(){return{datas:a,isDrag:!0}}}}};function aE(e,a,n,i){var o=e.filter(function(p){var v=p.virtual,g=p.horizontal;return g&&!v}).length,u=e.filter(function(p){var v=p.virtual,g=p.vertical;return g&&!v}).length,c=-1;if(a===0&&(o===0?c=0:o===1&&(c=1)),a===2&&(o<=2?c=2:o<=3&&(c=3)),a===3&&(u===0?c=4:u<4&&(c=7)),a===1&&(u<=1?c=5:u<=2&&(c=6)),!(c===-1||!e[c].virtual)){var f=e[c];nE(e,c),c<4?f.pos[0]=n:f.pos[1]=i}}function nE(e,a){a<4?e.slice(0,a+1).forEach(function(n){n.virtual=!1}):(e[0].virtual&&(e[0].virtual=!1),e.slice(4,a+1).forEach(function(n){n.virtual=!1}))}function iE(e,a){a<4?e.slice(a,4).forEach(function(n){n.virtual=!0}):e.slice(a).forEach(function(n){n.virtual=!0})}function I0(e,a,n,i,o){i===void 0&&(i=[0,0]);var u=[];return!e||e==="0px"?u=[]:u=nn(e),H1(u,a,n,0,0,i,o)}function Y0(e,a,n,i,o){var u=e.state,c=u.width,f=u.height,p=fv(o,e.props.roundRelative,c,f),v=p.raws,g=p.styles,y=p.radiusPoses,m=WC(y,v),b=m.horizontals,x=m.verticals,S=g.join(" ");u.borderRadiusState=S;var C=Xt(e,a,P({horizontals:b,verticals:x,borderRadius:S,width:c,height:f,delta:i,dist:n},ir({borderRadius:S},a)));return wt(e,"onRound",C),C}function P0(e){var a,n,i=e.getState().style,o=i.borderRadius||"";if(!o&&e.props.groupable){var u=e.moveables[0],c=e.getTargets()[0];c&&((u==null?void 0:u.props.target)===c?(o=(n=(a=e.moveables[0])===null||a===void 0?void 0:a.state.style.borderRadius)!==null&&n!==void 0?n:"",i.borderRadius=o):(o=lv(c).borderRadius,i.borderRadius=o))}return o}var lE={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(e){var a=e.props.roundClickable;return a===!0||a==="line"?zt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(e,a){var n=e.getState(),i=n.target,o=n.width,u=n.height,c=n.allMatrix,f=n.is3d,p=n.left,v=n.top,g=n.borderRadiusState,y=e.props,m=y.minRoundControls,b=m===void 0?[0,0]:m,x=y.maxRoundControls,S=x===void 0?[4,4]:x,C=y.zoom,E=y.roundPadding,w=E===void 0?0:E,M=y.isDisplayShadowRoundControls,D=y.groupable;if(!i)return null;var O=g||P0(e),_=f?4:3,N=I0(O,o,u,b,!0);if(!N)return null;var z=0,j=0,H=D?[0,0]:[p,v];return N.map(function(F,I){var X=F.horizontal,Q=F.vertical,U=F.direction||"",G=Et([],K(F.pos),!1);j+=Math.abs(X),z+=Math.abs(Q),X&&U.indexOf("n")>-1&&(G[1]-=w),Q&&U.indexOf("w")>-1&&(G[0]-=w),X&&U.indexOf("s")>-1&&(G[1]+=w),Q&&U.indexOf("e")>-1&&(G[0]+=w);var Z=Nt(Ee(c,G,_),H),J=M&&M!=="horizontal",dt=F.vertical?z<=S[1]&&(J||!F.virtual):j<=S[0]&&(M||!F.virtual);return a.createElement("div",{key:"borderRadiusControl".concat(I),className:zt("control","border-radius",F.vertical?"vertical":"",F.virtual?"virtual":""),"data-radius-index":I,style:{display:dt?"block":"none",transform:"translate(".concat(Z[0],"px, ").concat(Z[1],"px) scale(").concat(C,")")}})})},dragControlCondition:function(e,a){if(!a.inputEvent||a.isRequest)return!1;var n=a.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(e,a){return this.dragControlCondition(e,a)},dragControlStart:function(e,a){var n=a.inputEvent,i=a.datas,o=n.target,u=o.getAttribute("class")||"",c=u.indexOf("border-radius")>-1,f=u.indexOf("moveable-line")>-1&&u.indexOf("moveable-direction")>-1,p=c?parseInt(o.getAttribute("data-radius-index"),10):-1,v=-1;if(f){var g=o.getAttribute("data-line-key")||"";g&&(v=parseInt(g.replace(/render-line-/g,""),10),isNaN(v)&&(v=-1))}if(!c&&!f)return!1;var y=Xt(e,a,{}),m=wt(e,"onRoundStart",y);if(m===!1)return!1;i.lineIndex=v,i.controlIndex=p,i.isControl=c,i.isLine=f,Vn(e,a);var b=e.props,x=b.roundRelative,S=b.minRoundControls,C=S===void 0?[0,0]:S,E=e.state,w=E.width,M=E.height;i.isRound=!0,i.prevDist=[0,0];var D=P0(e),O=I0(D||"",w,M,C,!0)||[];return i.controlPoses=O,E.borderRadiusState=fv(O,x,w,M).styles.join(" "),y},dragControl:function(e,a){var n=a.datas,i=n.controlPoses;if(!n.isRound||!n.isControl||!i.length)return!1;var o=n.controlIndex,u=K(na(a),2),c=u[0],f=u[1],p=[c,f],v=Nt(p,n.prevDist),g=e.props.maxRoundControls,y=g===void 0?[4,4]:g,m=e.state,b=m.width,x=m.height,S=i[o],C=S.vertical,E=S.horizontal,w=i.map(function(D){var O=D.horizontal,_=D.vertical,N=[O*E*p[0],_*C*p[1]];if(O){if(y[0]===1)return N;if(y[0]<4&&O!==E)return N}else{if(y[1]===0)return N[1]=_*E*p[0]/b*x,N;if(C){if(y[1]===1)return N;if(y[1]<4&&_!==C)return N}}return[0,0]});w[o]=p;var M=i.map(function(D,O){return P(P({},D),{pos:te(D.pos,w[O])})});return o<4?M.slice(0,o+1).forEach(function(D){D.virtual=!1}):M.slice(4,o+1).forEach(function(D){D.virtual=!1}),n.prevDist=[c,f],Y0(e,a,p,v,M)},dragControlEnd:function(e,a){var n=e.state;n.borderRadiusState="";var i=a.datas,o=a.isDouble;if(!i.isRound)return!1;var u=i.isControl,c=i.controlIndex,f=i.isLine,p=i.lineIndex,v=i.controlPoses,g=v.filter(function(E){var w=E.virtual;return w}).length,y=e.props.roundClickable,m=y===void 0?!0:y;if(o&&m){if(u&&(m===!0||m==="control"))iE(v,c);else if(f&&(m===!0||m==="line")){var b=K(Im(e,a),2),x=b[0],S=b[1];aE(v,p,x,S)}g!==v.filter(function(E){var w=E.virtual;return w}).length&&Y0(e,a,[0,0],[0,0],v)}var C=Ar(e,a,{});return wt(e,"onRoundEnd",C),n.borderRadiusState="",C},dragGroupControlStart:function(e,a){var n=this.dragControlStart(e,a);if(!n)return!1;var i=e.moveables,o=e.props.targets,u=Ir(e,"roundable",a),c=P({targets:e.props.targets,events:u.map(function(f,p){return P(P({},f),{target:o[p],moveable:i[p],currentTarget:i[p]})})},n);return wt(e,"onRoundGroupStart",c),n},dragGroupControl:function(e,a){var n=this.dragControl(e,a);if(!n)return!1;var i=e.moveables,o=e.props.targets,u=Ir(e,"roundable",a),c=P({targets:e.props.targets,events:u.map(function(f,p){return P(P(P({},f),{target:o[p],moveable:i[p],currentTarget:i[p]}),ir({borderRadius:n.borderRadius},f))})},n);return wt(e,"onRoundGroup",c),c},dragGroupControlEnd:function(e,a){var n=e.moveables,i=e.props.targets,o=Ir(e,"roundable",a);fu(e,"onRound",function(f){var p=P({targets:e.props.targets,events:o.map(function(v,g){return P(P(P({},v),{target:i[g],moveable:n[g],currentTarget:n[g]}),ir({borderRadius:f.borderRadius},v))})},f);wt(e,"onRoundGroup",p)});var u=this.dragControlEnd(e,a);if(!u)return!1;var c=P({targets:e.props.targets,events:o.map(function(f,p){var v;return P(P({},f),{target:i[p],moveable:n[p],currentTarget:n[p],lastEvent:(v=f.datas)===null||v===void 0?void 0:v.lastEvent})})},u);return wt(e,"onRoundGroupEnd",c),c},unset:function(e){e.state.borderRadiusState=""}};function oE(e,a){var n=a?4:3,i=ge(n),o="matrix".concat(a?"3d":"","(").concat(i.join(","),")");return e===o||e==="matrix(1,0,0,1,0,0)"}var k1={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(e,a){var n=e.state,i=n.is3d,o=n.targetMatrix,u=n.inlineTransform,c=i?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(zm(o,!0),")"),f=!u||u==="none"?c:u;a.datas.startTransforms=oE(f,i)?[]:nn(f)},resetStyle:function(e){var a=e.datas;a.nextStyle={},a.nextTransforms=e.datas.startTransforms,a.nextTransformAppendedIndexes=[]},fillDragStartParams:function(e,a){return Xt(e,a,{setTransform:function(n){a.datas.startTransforms=Ie(n)?n:nn(n)},isPinch:!!a.isPinch})},fillDragParams:function(e,a){return Xt(e,a,{isPinch:!!a.isPinch})},dragStart:function(e,a){this.setTransform(e,a),this.resetStyle(a),wt(e,"onBeforeRenderStart",this.fillDragStartParams(e,a))},drag:function(e,a){a.datas.startTransforms||this.setTransform(e,a),this.resetStyle(a),wt(e,"onBeforeRender",Xt(e,a,{isPinch:!!a.isPinch}))},dragEnd:function(e,a){a.datas.startTransforms||(this.setTransform(e,a),this.resetStyle(a)),wt(e,"onBeforeRenderEnd",Xt(e,a,{isPinch:!!a.isPinch,isDrag:a.isDrag}))},dragGroupStart:function(e,a){var n=this;this.dragStart(e,a);var i=Ir(e,"beforeRenderable",a),o=e.moveables,u=i.map(function(c,f){var p=o[f];return n.setTransform(p,c),n.resetStyle(c),n.fillDragStartParams(p,c)});wt(e,"onBeforeRenderGroupStart",Xt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets,setTransform:function(){},events:u}))},dragGroup:function(e,a){var n=this;this.drag(e,a);var i=Ir(e,"beforeRenderable",a),o=e.moveables,u=i.map(function(c,f){var p=o[f];return n.resetStyle(c),n.fillDragParams(p,c)});wt(e,"onBeforeRenderGroup",Xt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets,events:u}))},dragGroupEnd:function(e,a){this.dragEnd(e,a),wt(e,"onBeforeRenderGroupEnd",Xt(e,a,{isPinch:!!a.isPinch,isDrag:a.isDrag,targets:e.props.targets}))},dragControlStart:function(e,a){return this.dragStart(e,a)},dragControl:function(e,a){return this.drag(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupControlStart:function(e,a){return this.dragGroupStart(e,a)},dragGroupControl:function(e,a){return this.dragGroup(e,a)},dragGroupControlEnd:function(e,a){return this.dragGroupEnd(e,a)}},X1={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(e,a){wt(e,"onRenderStart",Xt(e,a,{isPinch:!!a.isPinch}))},drag:function(e,a){wt(e,"onRender",this.fillDragParams(e,a))},dragAfter:function(e,a){return this.drag(e,a)},dragEnd:function(e,a){wt(e,"onRenderEnd",this.fillDragEndParams(e,a))},dragGroupStart:function(e,a){wt(e,"onRenderGroupStart",Xt(e,a,{isPinch:!!a.isPinch,targets:e.props.targets}))},dragGroup:function(e,a){var n=this,i=Ir(e,"beforeRenderable",a),o=e.moveables,u=i.map(function(c,f){var p=o[f];return n.fillDragParams(p,c)});wt(e,"onRenderGroup",Xt(e,a,P(P({isPinch:!!a.isPinch,targets:e.props.targets,transform:Rs(a),transformObject:{}},ir(_s(a))),{events:u})))},dragGroupEnd:function(e,a){var n=this,i=Ir(e,"beforeRenderable",a),o=e.moveables,u=i.map(function(c,f){var p=o[f];return n.fillDragEndParams(p,c)});wt(e,"onRenderGroupEnd",Xt(e,a,P({isPinch:!!a.isPinch,isDrag:a.isDrag,targets:e.props.targets,events:u,transformObject:{},transform:Rs(a)},ir(_s(a)))))},dragControlStart:function(e,a){return this.dragStart(e,a)},dragControl:function(e,a){return this.drag(e,a)},dragControlAfter:function(e,a){return this.dragAfter(e,a)},dragControlEnd:function(e,a){return this.dragEnd(e,a)},dragGroupControlStart:function(e,a){return this.dragGroupStart(e,a)},dragGroupControl:function(e,a){return this.dragGroup(e,a)},dragGroupControlEnd:function(e,a){return this.dragGroupEnd(e,a)},fillDragParams:function(e,a){var n={};return Ni(Ps(a)||[]).forEach(function(i){n[i.name]=i.functionValue}),Xt(e,a,P({isPinch:!!a.isPinch,transformObject:n,transform:Rs(a)},ir(_s(a))))},fillDragEndParams:function(e,a){var n={};return Ni(Ps(a)||[]).forEach(function(i){n[i.name]=i.functionValue}),Xt(e,a,P({isPinch:!!a.isPinch,isDrag:a.isDrag,transformObject:n,transform:Rs(a)},ir(_s(a))))}};function Zl(e,a,n,i,o,u,c){u.clientDistX=u.distX,u.clientDistY=u.distY;var f=o==="Start",p=o==="End",v=o==="After",g=e.state.target,y=u.isRequest,m=i.indexOf("Control")>-1;if(!g||f&&m&&!y&&e.areaElement===u.inputEvent.target)return!1;var b=Et([],K(a),!1);if(y){var x=u.requestAble;b.some(function(I){return I.name===x})||b.push.apply(b,Et([],K(e.props.ables.filter(function(I){return I.name===x})),!1))}if(!b.length||b.every(function(I){return I.dragRelation}))return!1;var S=u.inputEvent,C;p&&S&&(C=document.elementFromPoint(u.clientX,u.clientY)||S.target);var E=!1,w=function(){var I;E=!0,(I=u.stop)===null||I===void 0||I.call(u)},M=f&&(!e.targetGesto||!e.controlGesto||!e.targetGesto.isFlag()||!e.controlGesto.isFlag());M&&e.updateRect(o,!0,!1);var D=u.datas,O=m?"controlGesto":"targetGesto",_=e[O],N=function(I,X,Q){if(!(X in I)||_!==e[O])return!1;var U=I.name,G=D[U]||(D[U]={});if(f&&(G.isEventStart=!Q||!I[Q]||I[Q](e,u)),!G.isEventStart)return!1;var Z=I[X](e,P(P({},u),{stop:w,datas:G,originalDatas:D,inputTarget:C}));return e._emitter.off(),f&&Z===!1&&(G.isEventStart=!1),Z};M&&b.forEach(function(I){I.unset&&I.unset(e)}),N(k1,"drag".concat(i).concat(o));var z=0,j=0;n.forEach(function(I){if(E)return!1;var X="".concat(I).concat(i).concat(o),Q="".concat(I).concat(i,"Condition");o===""&&!y&&RC(e.state,u);var U=b.filter(function(J){return J[X]});U=U.filter(function(J,dt){return J.name&&U.indexOf(J)===dt});var G=U.filter(function(J){return N(J,X,Q)}),Z=G.length;E&&++z,Z&&++j,!E&&f&&U.length&&!Z&&(z+=U.filter(function(J){var dt=J.name,B=D[dt];return B.isEventStart?J.dragRelation!=="strong":!1}).length?1:0)}),(!v||j)&&N(X1,"drag".concat(i).concat(o));var H=_!==e[O]||z===n.length;if((p||E||H)&&(e.state.gestos={},e.moveables&&e.moveables.forEach(function(I){I.state.gestos={}}),b.forEach(function(I){I.unset&&I.unset(e)})),f&&!H&&!y&&j&&e.props.preventDefault&&(u==null||u.preventDefault()),e.isUnmounted||H)return!1;if(!f&&j&&!c||p){var F=e.props.flushSync||b1;F(function(){e.updateRect(p?o:"",!0,!1),e.forceUpdate()})}return!f&&!p&&!v&&j&&!c&&Zl(e,a,n,i,o+"After",u),!0}function vv(e,a){return function(n,i){var o;i===void 0&&(i=n.inputEvent.target);var u=i,c=e.areaElement,f=e._dragTarget;return!f||!a&&(!((o=e.controlGesto)===null||o===void 0)&&o.isFlag())?!1:u===f||f.contains(u)||u===c||!e.isMoveableElement(u)&&!e.controlBox.contains(u)||Ge(u,"moveable-area")||Ge(u,"moveable-padding")||Ge(u,"moveable-edgeDraggable")}}function q1(e,a,n){var i=e.controlBox,o=[],u=e.props,c=u.dragArea,f=e.state.target,p=u.dragTarget;o.push(i),(!c||p)&&o.push(a),!c&&p&&f&&a!==f&&u.dragTargetSelf&&o.push(f);var v=vv(e);return Y1(e,o,"targetAbles",n,{dragStart:v,pinchStart:v})}function I1(e,a){var n=e.controlBox,i=[];i.push(n);var o=vv(e,!0),u=function(c,f){if(f===void 0&&(f=c.inputEvent.target),f===n)return!0;var p=o(c,f);return!p};return Y1(e,i,"controlAbles",a,{dragStart:u,pinchStart:u})}function Y1(e,a,n,i,o){o===void 0&&(o={});var u=n==="targetAbles",c=e.props,f=c.pinchOutside,p=c.pinchThreshold,v=c.preventClickEventOnDrag,g=c.preventClickDefault,y=c.checkInput,m=c.dragFocusedInput,b=c.preventDefault,x=b===void 0?!0:b,S=c.preventRightClick,C=S===void 0?!0:S,E=c.preventWheelClick,w=E===void 0?!0:E,M=c.dragContainer,D=ra(M,!0),O={preventDefault:x,preventRightClick:C,preventWheelClick:w,container:D||an(e.getControlBoxElement()),pinchThreshold:p,pinchOutside:f,preventClickEventOnDrag:u?v:!1,preventClickEventOnDragStart:u?g:!1,preventClickEventByCondition:u?null:function(z){return e.controlBox.contains(z.target)},checkInput:u?y:!1,dragFocusedInput:m},_=new Nx(a,O),N=i==="Control";return["drag","pinch"].forEach(function(z){["Start","","End"].forEach(function(j){_.on("".concat(z).concat(j),function(H){var F,I=H.eventType,X=z==="drag"&&H.isPinch;if(o[I]&&!o[I](H)){H.stop();return}if(!X){var Q=z==="drag"?[z]:["drag",z],U=Et([],K(e[n]),!1),G=Zl(e,U,Q,i,j,H);G?(e.props.stopPropagation||j==="Start"&&N)&&((F=H==null?void 0:H.inputEvent)===null||F===void 0||F.stopPropagation()):H.stop()}})})}),_}var sE=function(){function e(a,n,i){var o=this;this.target=a,this.moveable=n,this.eventName=i,this.ables=[],this._onEvent=function(u){var c=o.eventName,f=o.moveable;f.state.disableNativeEvent||o.ables.forEach(function(p){p[c](f,{inputEvent:u})})},a.addEventListener(i.toLowerCase(),this._onEvent)}return e.prototype.setAbles=function(a){this.ables=a},e.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},e}();function uE(e,a,n,i){var o;n===void 0&&(n=a);var u=Zm(e,a),c=u.matrixes,f=u.is3d,p=u.targetMatrix,v=u.transformOrigin,g=u.targetOrigin,y=u.offsetContainer,m=u.hasFixed,b=u.zoom,x=E2(y,n),S=x.matrixes,C=x.is3d,E=x.offsetContainer,w=x.zoom,M=i,D=4,O=e.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in e,_=p,N=ge(D),z=ge(D),j=ge(D),H=ge(D),F=c.length,I=S.map(function(dt){return P(P({},dt),{matrix:dt.matrix?Et([],K(dt.matrix),!1):void 0})}).reverse();c.reverse(),!f&&M&&(_=Pr(_,3,4),Sd(c)),!C&&M&&Sd(I),I.forEach(function(dt){z=ve(z,dt.matrix,D)});var X=n||sn(e),Q=((o=I[0])===null||o===void 0?void 0:o.target)||ro(X,X,!0).offsetParent,U=I.slice(1).reduce(function(dt,B){return ve(dt,B.matrix,D)},ge(D));c.forEach(function(dt,B){if(F-2===B&&(j=N.slice()),F-1===B&&(H=N.slice()),!dt.matrix){var q=c[B+1],nt=wC(dt,q,Q,D,ve(U,N,D));dt.matrix=Bn(nt,D)}N=ve(N,dt.matrix,D)});var G=!O&&f;_||(_=ge(G?4:3));var Z=cu(O&&_.length===16?Pr(_,4,3):_,G),J=z;return z=Rm(z,D,D),{hasZoom:b!==1||w!==1,hasFixed:m,matrixes:c,rootMatrix:z,originalRootMatrix:J,beforeMatrix:j,offsetMatrix:H,allMatrix:N,targetMatrix:_,targetTransform:Z,inlineTransform:e.style.transform,transformOrigin:v,targetOrigin:g,is3d:M,offsetContainer:y,offsetRootContainer:E}}function cE(e,a,n,i){n===void 0&&(n=a);var o=0,u=0,c=0,f={},p=E1(e);if(e&&(o=p.offsetWidth,u=p.offsetHeight),e){var v=uE(e,a,n,i),g=zi(v.allMatrix,v.transformOrigin,o,u);f=P(P({},v),g);var y=zi(v.allMatrix,[50,50],100,100);c=T1([y.pos1,y.pos2],y.direction)}var m=4;return P(P(P({hasZoom:!1,width:o,height:u,rotation:c},p),{originalRootMatrix:ge(m),rootMatrix:ge(m),beforeMatrix:ge(m),offsetMatrix:ge(m),allMatrix:ge(m),targetMatrix:ge(m),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!0,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),f)}function Td(e,a,n,i,o,u){u===void 0&&(u=[]);var c=1,f=[0,0],p=Ns(),v=Ns(),g=Ns(),y=Ns(),m=[0,0],b={},x=cE(a,n,o,!0);if(a){var S=vr(a);u.forEach(function(I){b[I]=S(I)});var C=x.is3d?4:3,E=zi(x.offsetMatrix,te(x.transformOrigin,_m(x.targetMatrix,C)),x.width,x.height);c=E.direction,f=te(E.origin,[E.left-x.left,E.top-x.top]),y=Wl(x.offsetRootContainer);var w=ro(i,i,!0).offsetParent||x.offsetRootContainer;if(x.hasZoom){var M=zi(ve(x.originalRootMatrix,x.allMatrix),x.transformOrigin,x.width,x.height),D=zi(x.originalRootMatrix,Zs(vr(w)("transformOrigin")).map(function(I){return parseFloat(I)}),w.offsetWidth,w.offsetHeight);if(p=Uf(M,y),g=Uf(D,y,w,!0),e){var O=M.left,_=M.top;v=Uf({left:O,top:_,bottom:_,right:_},y)}}else{p=Wl(a),g=C2(w),e&&(v=Wl(e));var N=g.left,z=g.top,j=g.clientLeft,H=g.clientTop,F=[p.left-N,p.top-z];m=Nt(Vi(x.rootMatrix,F,4),[j+x.left,H+x.top])}}return P({targetClientRect:p,containerClientRect:g,moveableClientRect:v,rootContainerClientRect:y,beforeDirection:c,beforeOrigin:f,originalBeforeOrigin:f,target:a,style:b,offsetDelta:m},x)}function F0(e){var a=e.pos1,n=e.pos2,i=e.pos3,o=e.pos4;if(!a||!n||!i||!o)return null;var u=jn([a,n,i,o]),c=[u.minX,u.minY],f=Nt(e.origin,c);return a=Nt(a,c),n=Nt(n,c),i=Nt(i,c),o=Nt(o,c),P(P({},e),{left:e.left,top:e.top,posDelta:c,pos1:a,pos2:n,pos3:i,pos4:o,origin:f,beforeOrigin:f,isPersisted:!0})}var Gi=function(e){oo(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.state=P({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Td(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isMoveableMounted=!1,n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new Yd,n._prevOriginalDragTarget=null,n._originalDragTarget=null,n._prevDragTarget=null,n._dragTarget=null,n._prevPropTarget=null,n._propTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._hasFirstTarget=!1,n._reiszeObserver=null,n._observerId=0,n._mutationObserver=null,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n._store={},n.checkUpdateRect=function(){if(!n.isDragging()){var i=n.props.parentMoveable;if(i){i.checkUpdateRect();return}FS(n._observerId),n._observerId=Am(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(i){i.stopPropagation(),i.preventDefault()},n}return a.prototype.render=function(){var n=this.props,i=this.getState(),o=n.parentPosition,u=n.className,c=n.target,f=n.zoom,p=n.cspNonce,v=n.translateZ,g=n.cssStyled,y=n.groupable,m=n.linePadding,b=n.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var x=K(o||[0,0],2),S=x[0],C=x[1],E=i.left,w=i.top,M=i.target,D=i.direction,O=i.hasFixed,_=i.offsetDelta,N=n.targets,z=this.isDragging(),j={};this.getEnabledAbles().forEach(function(U){j["data-able-".concat(U.name.toLowerCase())]=!0});var H=this._getAbleClassName(),F=N&&N.length&&(M||y)||c||!this._hasFirstTarget&&this.state.isPersisted,I=this.controlBox||this.props.firstRenderState||this.props.persistData,X=[E-S,w-C];!y&&n.useAccuratePosition&&(X[0]+=_[0],X[1]+=_[1]);var Q={position:O?"fixed":"absolute",display:F?"block":"none",visibility:I?"visible":"hidden",transform:"translate3d(".concat(X[0],"px, ").concat(X[1],"px, ").concat(v,")"),"--zoom":f,"--zoompx":"".concat(f,"px")};return m&&(Q["--moveable-line-padding"]=m),b&&(Q["--moveable-control-padding"]=b),ft.createElement(g,P({cspNonce:p,ref:zn(this,"controlBox"),className:"".concat(zt("control-box",D===-1?"reverse":"",z?"dragging":"")," ").concat(H," ").concat(u)},j,{onClick:this._onPreventClick,style:Q}),this.renderAbles(),this._renderLines())},a.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var n=this.props,i=n.parentMoveable,o=n.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!o&&!i&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},a.prototype.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(n)},a.prototype.componentWillUnmount=function(){var n,i;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(n=this._reiszeObserver)===null||n===void 0||n.disconnect(),(i=this._mutationObserver)===null||i===void 0||i.disconnect();var o=this._viewContainer;o&&this._changeAbleViewClassNames([]),Ri(this,!1),Ri(this,!0);var u=this.events;for(var c in u){var f=u[c];f&&f.destroy()}},a.prototype.getTargets=function(){var n=this.props.target;return n?[n]:[]},a.prototype.getAble=function(n){var i=this.props.ables||[];return Tr(i,function(o){return o.name===n})},a.prototype.getContainer=function(){var n=this.props,i=n.parentMoveable,o=n.wrapperMoveable,u=n.container;return u||o&&o.getContainer()||i&&i.getContainer()||this.controlBox.parentElement},a.prototype.getControlBoxElement=function(){return this.controlBox},a.prototype.getDragElement=function(){return this._dragTarget},a.prototype.isMoveableElement=function(n){var i;return n&&(((i=n.getAttribute)===null||i===void 0?void 0:i.call(n,"class"))||"").indexOf(Kd)>-1},a.prototype.dragStart=function(n,i){i===void 0&&(i=n.target);var o=this.targetGesto,u=this.controlGesto;return o&&vv(this)({inputEvent:n},i)?o.isFlag()||o.triggerDragStart(n):u&&this.isMoveableElement(i)&&(u.isFlag()||u.triggerDragStart(n)),this},a.prototype.hitTest=function(n){var i=this.state,o=i.target,u=i.pos1,c=i.pos2,f=i.pos3,p=i.pos4,v=i.targetClientRect;if(!o)return 0;var g;if(kd(n)){var y=n.getBoundingClientRect();g={left:y.left,top:y.top,width:y.width,height:y.height}}else g=P({width:0,height:0},n);var m=g.left,b=g.top,x=g.width,S=g.height,C=g0([u,c,p,f],v),E=Mx(C,[[m,b],[m+x,b],[m+x,b+S],[m,b+S]]),w=jm(C);return!E||!w?0:Math.min(100,E/w*100)},a.prototype.isInside=function(n,i){var o=this.state,u=o.target,c=o.pos1,f=o.pos2,p=o.pos3,v=o.pos4,g=o.targetClientRect;return u?od([n,i],g0([c,f,v,p],g)):!1},a.prototype.updateRect=function(n,i,o){o===void 0&&(o=!0);var u=this.props,c=!u.parentPosition&&!u.wrapperMoveable;c&&ji(!0);var f=u.parentMoveable,p=this.state,v=p.target||u.target,g=this.getContainer(),y=f?f._rootContainer:this._rootContainer,m=Td(this.controlBox,v,g,g,y||g,this._getRequestStyles());if(!v&&this._hasFirstTarget&&u.persistData){var b=F0(u.persistData);for(var x in b)m[x]=b[x]}c&&ji(),this.updateState(m,f?!1:o)},a.prototype.isDragging=function(n){var i,o,u=this.targetGesto,c=this.controlGesto;if(u!=null&&u.isFlag()){if(!n)return!0;var f=u.getEventData();return!!(!((i=f[n])===null||i===void 0)&&i.isEventStart)}if(c!=null&&c.isFlag()){if(!n)return!0;var f=c.getEventData();return!!(!((o=f[n])===null||o===void 0)&&o.isEventStart)}return!1},a.prototype.updateTarget=function(n){this.updateRect(n,!0)},a.prototype.getRect=function(){var n=this.state,i=Hr(this.state),o=K(i,4),u=o[0],c=o[1],f=o[2],p=o[3],v=Vr(i),g=n.width,y=n.height,m=v.width,b=v.height,x=v.left,S=v.top,C=[n.left,n.top],E=te(C,n.origin),w=te(C,n.beforeOrigin),M=n.transformOrigin;return{width:m,height:b,left:x,top:S,pos1:u,pos2:c,pos3:f,pos4:p,offsetWidth:g,offsetHeight:y,beforeOrigin:w,origin:E,transformOrigin:M,rotation:this.getRotation()}},a.prototype.getManager=function(){return this},a.prototype.stopDrag=function(n){if(!n||n==="target"){var i=this.targetGesto;(i==null?void 0:i.isIdle())===!1&&xd(this,!1),i==null||i.stop()}if(!n||n==="control"){var i=this.controlGesto;(i==null?void 0:i.isIdle())===!1&&xd(this,!0),i==null||i.stop()}},a.prototype.getRotation=function(){var n=this.state,i=n.pos1,o=n.pos2,u=n.direction;return NC(i,o,u)},a.prototype.request=function(n,i,o){i===void 0&&(i={});var u=this,c=u.props,f=c.parentMoveable||c.wrapperMoveable||u,p=f.props.ables,v=c.groupable,g=Tr(p,function(E){return E.name===n});if(this.isDragging()||!g||!g.request)return{request:function(){return this},requestEnd:function(){return this}};var y=g.request(u),m=o||i.isInstant,b=y.isControl?"controlAbles":"targetAbles",x="".concat(v?"Group":"").concat(y.isControl?"Control":""),S=Et([],K(f[b]),!1),C={request:function(E){return Zl(u,S,["drag"],x,"",P(P({},y.request(E)),{requestAble:n,isRequest:!0}),m),C},requestEnd:function(){return Zl(u,S,["drag"],x,"End",P(P({},y.requestEnd()),{requestAble:n,isRequest:!0}),m),C}};return Zl(u,S,["drag"],x,"Start",P(P({},y.requestStart(i)),{requestAble:n,isRequest:!0}),m),m?C.request(i).requestEnd():C},a.prototype.getMoveables=function(){return[this]},a.prototype.destroy=function(){this.componentWillUnmount()},a.prototype.updateRenderPoses=function(){var n=this.getState(),i=this.props,o=i.padding,u=n.originalBeforeOrigin,c=n.transformOrigin,f=n.allMatrix,p=n.is3d,v=n.pos1,g=n.pos2,y=n.pos3,m=n.pos4,b=n.left,x=n.top,S=n.isPersisted,C=i.zoom||1;if(!o&&C<=1){n.renderPoses=[v,g,y,m],n.renderLines=[[v,g],[g,m],[m,y],[y,v]];return}var E=B1(o||{}),w=E.left,M=E.top,D=E.bottom,O=E.right,_=p?4:3,N=[];S?N=c:this.controlBox&&i.groupable?N=u:N=te(u,[b,x]);var z=Is(_,Bn(N.map(function(Q){return-Q}),_),f,Bn(c,_)),j=Lr(z,v,[-w,-M],_),H=Lr(z,g,[O,-M],_),F=Lr(z,y,[-w,D],_),I=Lr(z,m,[O,D],_);n.renderPoses=[j,H,F,I],n.renderLines=[[j,H],[H,I],[I,F],[F,j]];{var X=C/2;n.renderLines=[[Lr(z,v,[-w-X,-M],_),Lr(z,g,[O+X,-M],_)],[Lr(z,g,[O,-M-X],_),Lr(z,m,[O,D+X],_)],[Lr(z,m,[O+X,D],_),Lr(z,y,[-w-X,D],_)],[Lr(z,y,[-w,D+X],_),Lr(z,v,[-w,-M-X],_)]]}},a.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,i=n.target,o=n.container,u=n.parentMoveable,c=this.state,f=c.target,p=c.container;if(!(!f&&!i)){this.updateAbles();var v=!Cd(f,i),g=v||!Cd(p,o);if(g){var y=o||this.controlBox;y&&this.unsetAbles(),this.updateState({target:i,container:o}),!u&&y&&this.updateRect("End",!1,!1),this._isPropTargetChanged=v}}},a.prototype.waitToChangeTarget=function(){return new Promise(function(){})},a.prototype.triggerEvent=function(n,i){var o=this.props;if(this._emitter.trigger(n,i),o.parentMoveable&&i.isRequest&&!i.isRequestChild)return o.parentMoveable.triggerEvent(n,i,!0);var u=o[n];return u&&u(i)},a.prototype.useCSS=function(n,i){var o=this.props.customStyledMap,u=n+i;return o[u]||(o[u]=Gm(n,i)),o[u]},a.prototype.getState=function(){var n,i=this.props;(i.target||!((n=i.targets)===null||n===void 0)&&n.length)&&(this._hasFirstTarget=!0);var o=this.controlBox,u=i.persistData,c=i.firstRenderState;if(c&&!o)return c;if(!this._hasFirstTarget&&u){var f=F0(u);if(f)return this.updateState(f,!1),this.state}return this.state.isPersisted=!1,this.state},a.prototype.updateSelectors=function(){},a.prototype.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(i){i.unset&&i.unset(n)})},a.prototype.updateAbles=function(n,i){n===void 0&&(n=this.props.ables),i===void 0&&(i="");var o=this.props,u=o.triggerAblesSimultaneously,c=this.getEnabledAbles(n),f="drag".concat(i,"Start"),p="pinch".concat(i,"Start"),v="drag".concat(i,"ControlStart"),g=Bs(c,[f,p],u),y=Bs(c,[v],u);this.enabledAbles=c,this.targetAbles=g,this.controlAbles=y},a.prototype.updateState=function(n,i){if(i){if(this.isUnmounted)return;this.setState(n)}else{var o=this.state;for(var u in n)o[u]=n[u]}},a.prototype.getEnabledAbles=function(n){n===void 0&&(n=this.props.ables);var i=this.props;return n.filter(function(o){return o&&(o.always&&i[o.name]!==!1||i[o.name])})},a.prototype.renderAbles=function(){var n=this,i=this.props,o=i.triggerAblesSimultaneously,u={createElement:ft.createElement};return this.renderState={},OC(R1(Bs(this.getEnabledAbles(),["render"],o).map(function(c){var f=c.render;return f(n,u)||[]})).filter(function(c){return c}),function(c){var f=c.key;return f}).map(function(c){return c[0]})},a.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},a.prototype._getRequestStyles=function(){var n=this.getEnabledAbles().reduce(function(i,o){var u,c,f=(c=(u=o.requestStyle)===null||u===void 0?void 0:u.call(o))!==null&&c!==void 0?c:[];return Et(Et([],K(i),!1),K(f),!1)},Et([],K(this.props.requestStyles||[]),!1));return n},a.prototype._updateObserver=function(n){this._updateResizeObserver(n),this._updateMutationObserver(n)},a.prototype._updateEvents=function(){var n=this.targetAbles.length,i=this.controlAbles.length,o=this._dragTarget,u=!n&&this.targetGesto||this._isTargetChanged(!0);u&&(Ri(this,!1),this.updateState({gestos:{}})),i||Ri(this,!0),o&&n&&!this.targetGesto&&(this.targetGesto=q1(this,o,"")),!this.controlGesto&&i&&(this.controlGesto=I1(this,"Control"))},a.prototype._updateTargets=function(){var n=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=n.dragArea,this._propTarget=n.target,this._originalDragTarget=n.dragTarget||n.target,this._dragTarget=ra(this._originalDragTarget,!0)},a.prototype._renderLines=function(){var n=this.props,i=n,o=i.zoom,u=i.hideDefaultLines,c=i.hideChildMoveableDefaultLines,f=i.parentMoveable;if(u||f&&c)return[];var p=this.getState(),v={createElement:ft.createElement};return p.renderLines.map(function(g,y){return eo(v,"",g[0],g[1],o,"render-line-".concat(y))})},a.prototype._isTargetChanged=function(n){var i=this.props,o=i.dragTarget||i.target,u=this._prevOriginalDragTarget,c=this._prevDragArea,f=i.dragArea,p=!f&&u!==o,v=(n||f)&&c!==f;return p||v||this._prevPropTarget!=this._propTarget},a.prototype._updateNativeEvents=function(){var n=this,i=this.props,o=i.dragArea?this.areaElement:this.state.target,u=this.events,c=ki(u);if(this._isTargetChanged())for(var f in u){var p=u[f];p&&p.destroy(),u[f]=null}if(o){var v=this.enabledAbles;c.forEach(function(g){var y=Bs(v,[g]),m=y.length>0,b=u[g];if(!m){b&&(b.destroy(),u[g]=null);return}b||(b=new sE(o,n,g),u[g]=b),b.setAbles(y)})}},a.prototype._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=ra(n,!0))},a.prototype._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=ra(n,!0));var i=this._viewContainer;i&&this._changeAbleViewClassNames(Et(Et([],K(this._getAbleViewClassNames()),!1),[this.isDragging()?UC:""],!1))},a.prototype._changeAbleViewClassNames=function(n){var i=this._viewContainer,o=O1(n.filter(Boolean),function(v){return v}).map(function(v){var g=K(v,1),y=g[0];return y}),u=this._viewClassNames,c=Id(u,o),f=c.removed,p=c.added;f.forEach(function(v){Dm(i,u[v])}),p.forEach(function(v){Mm(i,o[v])}),this._viewClassNames=o},a.prototype._getAbleViewClassNames=function(){var n=this;return(this.getEnabledAbles().map(function(i){var o;return((o=i.viewClassName)===null||o===void 0?void 0:o.call(i,n))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},a.prototype._getAbleClassName=function(n){var i=this;n===void 0&&(n="");var o=this.getEnabledAbles(),u=this.targetGesto,c=this.controlGesto,f=u!=null&&u.isFlag()?u.getEventData():{},p=c!=null&&c.isFlag()?c.getEventData():{};return o.map(function(v){var g,y,m,b=v.name,x=((g=v.className)===null||g===void 0?void 0:g.call(v,i))||"";return(!((y=f[b])===null||y===void 0)&&y.isEventStart||!((m=p[b])===null||m===void 0)&&m.isEventStart)&&(x+=" ".concat(zt("".concat(b).concat(n,"-dragging")))),x.trim()}).filter(Boolean).join(" ")},a.prototype._updateResizeObserver=function(n){var i,o=this.props,u=o.target,c=an(this.getControlBoxElement());if(!c.ResizeObserver||!u||!o.useResizeObserver){(i=this._reiszeObserver)===null||i===void 0||i.disconnect();return}if(!(n.target===u&&this._reiszeObserver)){var f=new c.ResizeObserver(this.checkUpdateRect);f.observe(u,{box:"border-box"}),this._reiszeObserver=f}},a.prototype._updateMutationObserver=function(n){var i=this,o,u=this.props,c=u.target,f=an(this.getControlBoxElement());if(!f.MutationObserver||!c||!u.useMutationObserver){(o=this._mutationObserver)===null||o===void 0||o.disconnect();return}if(!(n.target===c&&this._mutationObserver)){var p=new f.MutationObserver(function(v){var g,y;try{for(var m=Ix(v),b=m.next();!b.done;b=m.next()){var x=b.value;x.type==="attributes"&&x.attributeName==="style"&&i.checkUpdateRect()}}catch(S){g={error:S}}finally{try{b&&!b.done&&(y=m.return)&&y.call(m)}finally{if(g)throw g.error}}});p.observe(c,{attributes:!0}),this._mutationObserver=p}},a.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:b1,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},a}(ft.PureComponent),pv={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(e,a){var n,i=e.props,o=i.targets||[],u=e.getState(),c=u.left,f=u.top,p=u.isPersisted,v=i.zoom||1,g=e.renderGroupRects,y=((n=i.persistData)===null||n===void 0?void 0:n.children)||[];p?o=y.map(function(){return null}):y=[];var m=_i(e,"parentPosition",[c,f],function(x){return x.join(",")}),b=_i(e,"requestStyles",e.getRequestChildStyles(),function(x){return x.join(",")});return e.moveables=e.moveables.slice(0,o.length),Et(Et([],K(o.map(function(x,S){return a.createElement(Gi,{key:"moveable"+S,ref:xm(e,"moveables",S),target:x,origin:!1,requestStyles:b,cssStyled:i.cssStyled,customStyledMap:i.customStyledMap,useResizeObserver:i.useResizeObserver,useMutationObserver:i.useMutationObserver,hideChildMoveableDefaultLines:i.hideChildMoveableDefaultLines,parentMoveable:e,parentPosition:[c,f],persistData:y[S],zoom:v})})),!1),K(R1(g.map(function(x,S){var C=x.pos1,E=x.pos2,w=x.pos3,M=x.pos4,D=[C,E,w,M];return[[0,1],[1,3],[3,2],[2,0]].map(function(O,_){var N=K(O,2),z=N[0],j=N[1];return eo(a,"",Nt(D[z],m),Nt(D[j],m),v,"group-rect-".concat(S,"-").concat(_))})}))),!1)}},fE=so("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(e,a){a.datas.inputTarget=a.inputEvent&&a.inputEvent.target},dragEnd:function(e,a){var n=e.props.target,i=a.inputEvent,o=a.inputTarget,u=e.isMoveableElement(o),c=!u&&e.controlBox.contains(o);if(!(!i||!o||a.isDrag||e.isMoveableElement(o)||c)){var f=n.contains(o);wt(e,"onClick",Xt(e,a,{isDouble:a.isDouble,inputTarget:o,isTarget:n===o,moveableTarget:e.props.target,containsTarget:f}))}},dragGroupEnd:function(e,a){var n=a.inputEvent,i=a.inputTarget;if(!(!n||!i||a.isDrag||e.isMoveableElement(i)||a.datas.inputTarget===i)){var o=e.props.targets,u=o.indexOf(i),c=u>-1,f=!1;u===-1&&(u=wa(o,function(p){return p.contains(i)}),f=u>-1),wt(e,"onClickGroup",Xt(e,a,{isDouble:a.isDouble,targets:o,inputTarget:i,targetIndex:u,isTarget:c,containsTarget:f,moveableTarget:o[u]}))}},dragControlEnd:function(e,a){this.dragEnd(e,a)},dragGroupControlEnd:function(e,a){this.dragEnd(e,a)}});function Ai(e){var a=e.originalDatas.draggable;return a||(e.originalDatas.draggable={},a=e.originalDatas.draggable),P(P({},e),{datas:a})}var dE=so("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(e,a){var n=e.props,i=n.edgeDraggable;return i?$m(a,"edgeDraggable",i,e.getState().renderPoses,n.zoom):[]},dragCondition:function(e,a){var n,i=e.props,o=(n=a.inputEvent)===null||n===void 0?void 0:n.target;return!i.edgeDraggable||!o?!1:!i.draggable&&Ge(o,zt("direction"))&&Ge(o,zt("edge"))&&Ge(o,zt("edgeDraggable"))},dragStart:function(e,a){return ar.dragStart(e,Ai(a))},drag:function(e,a){return ar.drag(e,Ai(a))},dragEnd:function(e,a){return ar.dragEnd(e,Ai(a))},dragGroupCondition:function(e,a){var n,i=e.props,o=(n=a.inputEvent)===null||n===void 0?void 0:n.target;return!i.edgeDraggable||!o?!1:!i.draggable&&Ge(o,zt("direction"))&&Ge(o,zt("line"))},dragGroupStart:function(e,a){return ar.dragGroupStart(e,Ai(a))},dragGroup:function(e,a){return ar.dragGroup(e,Ai(a))},dragGroupEnd:function(e,a){return ar.dragGroupEnd(e,Ai(a))},unset:function(e){return ar.unset(e)}}),P1={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},vE=[k1,V1,gC,jC,ar,dE,md,LC,GC,J2,qC,IC,kC,rE,eE,lE,pv,P1,fE,L1,X1];function K0(e,a){var n=K(e,3),i=n[0],o=n[1],u=n[2];return(i*a[0]+o*a[1]+u)/Math.sqrt(i*i+o*o)}function Vs(e,a){var n=K(e,2),i=n[0],o=n[1];return-i*a[0]-o*a[1]}function W0(e,a){return Math.max.apply(Math,Et([],K(e.map(function(n){var i=K(n,4),o=i[0],u=i[1],c=i[2],f=i[3];return Math.max(o[a],u[a],c[a],f[a])})),!1))}function Z0(e,a){return Math.min.apply(Math,Et([],K(e.map(function(n){var i=K(n,4),o=i[0],u=i[1],c=i[2],f=i[3];return Math.min(o[a],u[a],c[a],f[a])})),!1))}function pE(e,a){var n,i,o,u=[0,0],c=[0,0],f=[0,0],p=[0,0],v=0,g=0;if(!e.length)return{pos1:u,pos2:c,pos3:f,pos4:p,minX:0,minY:0,maxX:0,maxY:0,width:v,height:g,rotation:a};var y=kt(a,or);if(y%90){var m=y/180*Math.PI,b=Math.tan(m),x=-1/b,S=[vd,b0],C=[[0,0],[0,0]],E=[vd,b0],w=[[0,0],[0,0]];e.forEach(function(lt){lt.forEach(function(ct){var bt=K0([-b,1,0],ct),L=K0([-x,1,0],ct);S[0]>bt&&(C[0]=ct,S[0]=bt),S[1]<bt&&(C[1]=ct,S[1]=bt),E[0]>L&&(w[0]=ct,E[0]=L),E[1]<L&&(w[1]=ct,E[1]=L)})});var M=K(C,2),D=M[0],O=M[1],_=K(w,2),N=_[0],z=_[1],j=[-b,1,Vs([-b,1],D)],H=[-b,1,Vs([-b,1],O)],F=[-x,1,Vs([-x,1],N)],I=[-x,1,Vs([-x,1],z)];n=K([[j,F],[j,I],[H,F],[H,I]].map(function(lt){var ct=K(lt,2),bt=ct[0],L=ct[1];return Pd(bt,L)[0]}),4),u=n[0],c=n[1],f=n[2],p=n[3],v=E[1]-E[0],g=S[1]-S[0]}else{var X=Z0(e,0),Q=Z0(e,1),U=W0(e,0),G=W0(e,1);if(u=[X,Q],c=[U,Q],f=[X,G],p=[U,G],v=U-X,g=G-Q,y%180){var Z=[f,u,p,c];i=K(Z,4),u=i[0],c=i[1],f=i[2],p=i[3],v=G-Q,g=U-X}}if(y%360>180){var Z=[p,f,c,u];o=K(Z,4),u=o[0],c=o[1],f=o[2],p=o[3]}var J=jn([u,c,f,p]),dt=J.minX,B=J.minY,q=J.maxX,nt=J.maxY;return{pos1:u,pos2:c,pos3:f,pos4:p,width:v,height:g,minX:dt,minY:B,maxX:q,maxY:nt,rotation:a}}function F1(e,a){var n=a.map(function(i){if(Ie(i)){var o=F1(e,i),u=o.length;return u>1?o:u===1?o[0]:null}else{var c=Tr(e,function(f){var p=f.manager;return p.props.target===i});return c?(c.finded=!0,c.manager):null}}).filter(Boolean);return n.length===1&&Ie(n[0])?n[0]:n}var hE=function(e){oo(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.differ=new Bm,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n._targetGroups=[],n._hasFirstTargets=!1,n}return a.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this)},a.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},a.prototype.getTargets=function(){return this.props.targets},a.prototype.updateRect=function(n,i,o){var u;o===void 0&&(o=!0);var c=this.state;if(!this.controlBox||c.isPersisted)return;ji(!0),this.moveables.forEach(function(Y){Y.updateRect(n,!1,!1)});var f=this.props,p=this.moveables,v=c.target||f.target,g=p.map(function(Y){return{finded:!1,manager:Y}}),y=this.props.targetGroups||[],m=F1(g,y),b=f.useDefaultGroupRotate;m.push.apply(m,Et([],K(g.filter(function(Y){var ht=Y.finded;return!ht}).map(function(Y){var ht=Y.manager;return ht})),!1));var x=[],S=!i||n!==""&&f.updateGroup,C=f.defaultGroupRotate||0;if(!this._hasFirstTargets){var E=(u=f.persistData)===null||u===void 0?void 0:u.rotation;E!=null&&(C=E)}function w(Y,ht,gt){var vt=Y.map(function(Bt){if(Ie(Bt)){var Ot=w(Bt,ht),Ut=[Ot.pos1,Ot.pos2,Ot.pos3,Ot.pos4];return x.push(Ot),{poses:Ut,rotation:Ot.rotation}}else return{poses:Hr(Bt.state),rotation:Bt.getRotation()}}),tt=vt.map(function(Bt){var Ot=Bt.rotation;return Ot}),rt=0,ut=tt[0],Ct=tt.every(function(Bt){return Math.abs(ut-Bt)<.1});S?rt=!b&&Ct?ut:C:rt=!b&&!gt&&Ct?ut:ht;var Mt=vt.map(function(Bt){var Ot=Bt.poses;return Ot}),Vt=pE(Mt,rt);return Vt}var M=w(m,this.rotation,!0);S&&(this.rotation=M.rotation,this.transformOrigin=f.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=y,this.renderGroupRects=x;var D=this.transformOrigin,O=this.rotation,_=this.scale,N=M.width,z=M.height,j=M.minX,H=M.minY,F=BC([[0,0],[N,0],[0,z],[N,z]],cv(D,N,z),this.rotation/180*Math.PI),I=jn(F.result),X=I.minX,Q=I.minY,U=" rotate(".concat(O,"deg)")+" scale(".concat(nr(_[0]),", ").concat(nr(_[1]),")"),G="translate(".concat(-X,"px, ").concat(-Q,"px)").concat(U);this.controlBox.style.transform="translate3d(".concat(j,"px, ").concat(H,"px, ").concat(this.props.translateZ||0,")"),v.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(D,";")+"width:".concat(N,"px;height:").concat(z,"px;")+"transform: ".concat(G),c.width=N,c.height=z;var Z=this.getContainer(),J=Td(this.controlBox,v,this.controlBox,this.getContainer(),this._rootContainer||Z,[]),dt=[J.left,J.top],B=K(Hr(J),4),q=B[0],nt=B[1],lt=B[2],ct=B[3],bt=jn([q,nt,lt,ct]),L=[bt.minX,bt.minY],V=nr(_[0]*_[1]);J.pos1=Nt(q,L),J.pos2=Nt(nt,L),J.pos3=Nt(lt,L),J.pos4=Nt(ct,L),J.left=j-J.left+L[0],J.top=H-J.top+L[1],J.origin=Nt(te(dt,J.origin),L),J.beforeOrigin=Nt(te(dt,J.beforeOrigin),L),J.originalBeforeOrigin=te(dt,J.originalBeforeOrigin),J.transformOrigin=Nt(te(dt,J.transformOrigin),L),v.style.transform="translate(".concat(-X-L[0],"px, ").concat(-Q-L[1],"px)")+U,ji(),this.updateState(P(P({},J),{posDelta:L,direction:V,beforeDirection:V}),o)},a.prototype.getRect=function(){return P(P({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},a.prototype.triggerEvent=function(n,i,o){if(o||n.indexOf("Group")>-1)return e.prototype.triggerEvent.call(this,n,i);this._emitter.trigger(n,i)},a.prototype.getRequestChildStyles=function(){var n=this.getEnabledAbles().reduce(function(i,o){var u,c,f=(c=(u=o.requestChildStyle)===null||u===void 0?void 0:u.call(o))!==null&&c!==void 0?c:[];return Et(Et([],K(i),!1),K(f),!1)},[]);return n},a.prototype.getMoveables=function(){return Et([],K(this.moveables),!1)},a.prototype.updateAbles=function(){e.prototype.updateAbles.call(this,Et(Et([],K(this.props.ables),!1),[pv],!1),"Group")},a.prototype._updateTargets=function(){e.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=ra(this._originalDragTarget,!0)},a.prototype._updateEvents=function(){var n=this.state,i=this.props,o=this._prevDragTarget,u=i.dragTarget||this.areaElement,c=i.targets,f=this.differ.update(c),p=f.added,v=f.changed,g=f.removed,y=p.length||g.length;(y||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Ri(this,!1),Ri(this,!0),this.updateState({gestos:{}})),o!==u&&(n.target=null),n.target||(n.target=this.areaElement,this.controlBox.style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=q1(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=I1(this,"GroupControl")));var m=!Cd(n.container,i.container);m&&(n.container=i.container),(m||y||this.transformOrigin!==(i.defaultGroupOrigin||"50% 50%")||v.length||c.length&&!N1(this._targetGroups,i.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!y},a.prototype._updateObserver=function(){},a.defaultProps=P(P({},Gi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),a}(Gi),gE=function(e){oo(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.moveables=[],n}return a.prototype.render=function(){var n=this,i,o=this.props,u=o.cspNonce,c=o.cssStyled,f=o.persistData,p=o.targets||[],v=p.length,g=this.isUnmounted||!v,y=(i=f==null?void 0:f.children)!==null&&i!==void 0?i:[];return g&&!v&&y.length?p=y.map(function(){return null}):g||(y=[]),ft.createElement(c,{cspNonce:u,ref:zn(this,"controlBox"),className:zt("control-box")},p.map(function(m,b){var x,S,C=(S=(x=o.individualGroupableProps)===null||x===void 0?void 0:x.call(o,m,b))!==null&&S!==void 0?S:{};return ft.createElement(Gi,P({key:"moveable"+b,ref:xm(n,"moveables",b)},o,C,{target:m,wrapperMoveable:n,isWrapperMounted:n.isMoveableMounted,persistData:y[b]}))}))},a.prototype.componentDidMount=function(){},a.prototype.componentDidUpdate=function(){},a.prototype.getTargets=function(){return this.props.targets},a.prototype.updateRect=function(n,i,o){o===void 0&&(o=!0),ji(!0),this.moveables.forEach(function(u){u.updateRect(n,i,o)}),ji()},a.prototype.getRect=function(){return P(P({},e.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},a.prototype.request=function(n,i,o){i===void 0&&(i={});var u=this.moveables.map(function(p){return p.request(n,P(P({},i),{isInstant:!1}),!1)}),c=o||i.isInstant,f={request:function(p){return u.forEach(function(v){return v.request(p)}),this},requestEnd:function(){return u.forEach(function(p){return p.requestEnd()}),this}};return c?f.request(i).requestEnd():f},a.prototype.dragStart=function(n,i){i===void 0&&(i=n.target);var o=i,u=Tr(this.moveables,function(c){var f=c.getTargets()[0],p=c.getControlBoxElement(),v=c.getDragElement();return!f||!v?!1:v===o||v.contains(o)||v!==f&&f===o||f.contains(o)||p===o||p.contains(o)});return u&&u.dragStart(n,i),this},a.prototype.hitTest=function(){return 0},a.prototype.isInside=function(){return!1},a.prototype.isDragging=function(){return!1},a.prototype.getDragElement=function(){return null},a.prototype.getMoveables=function(){return Et([],K(this.moveables),!1)},a.prototype.updateRenderPoses=function(){},a.prototype.checkUpdate=function(){},a.prototype.triggerEvent=function(){},a.prototype.updateAbles=function(){},a.prototype._updateEvents=function(){},a.prototype._updateObserver=function(){},a}(Gi);function K1(e,a){var n=[];return e.forEach(function(i){if(i){if(Ma(i)){a[i]&&n.push.apply(n,Et([],K(a[i]),!1));return}Ie(i)?n.push.apply(n,Et([],K(K1(i,a)),!1)):n.push(i)}}),n}function W1(e,a){var n=[];return e.forEach(function(i){if(i){if(Ma(i)){a[i]&&n.push.apply(n,Et([],K(a[i]),!1));return}Ie(i)?n.push(W1(i,a)):n.push(i)}}),n}function Z1(e,a){return e.length!==a.length||e.some(function(n,i){var o=a[i];return!n&&!o?!1:n!=o?Ie(n)&&Ie(o)?Z1(n,o):!0:!1})}var mE=function(e){oo(a,e);function a(){var n=e!==null&&e.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new Bm,n._elementTargets=[],n._tmpRefTargets=[],n._tmpSelectorMap={},n._onChangeTargets=null,n}return a.makeStyled=function(){var n={},i=this.getTotalAbles();i.forEach(function(u){var c=u.css;c&&c.forEach(function(f){n[f]=!0})});var o=ki(n).join(`
`);this.defaultStyled=Gm("div",jS(Kd,e2+o))},a.getTotalAbles=function(){return Et([V1,pv,P1,L1],K(this.defaultAbles),!1)},a.prototype.render=function(){var n,i=this.constructor;i.defaultStyled||i.makeStyled();var o=this.props,u=o.ables,c=o.props,f=Xx(o,["ables","props"]),p=K(this._updateRefs(!0),2),v=p[0],g=p[1],y=K1(v,g),m=y.length>1,b=i.getTotalAbles(),x=Et(Et([],K(b),!1),K(u||[]),!1),S=P(P(P({},f),c||{}),{ables:x,cssStyled:i.defaultStyled,customStyledMap:i.customStyledMap});this._elementTargets=y;var C=null,E=this.moveable,w=f.persistData;if(w!=null&&w.children&&(m=!0),f.individualGroupable)return ft.createElement(gE,P({key:"individual-group",ref:zn(this,"moveable")},S,{target:null,targets:y}));if(m){var M=W1(v,g);if(E&&!E.props.groupable&&!E.props.individualGroupable){var D=E.props.target;D&&y.indexOf(D)>-1&&(C=P({},E.state))}return ft.createElement(hE,P({key:"group",ref:zn(this,"moveable")},S,(n=f.groupableProps)!==null&&n!==void 0?n:{},{target:null,targets:y,targetGroups:M,firstRenderState:C}))}else{var O=y[0];if(E&&(E.props.groupable||E.props.individualGroupable)){var _=E.moveables||[],N=Tr(_,function(z){return z.props.target===O});N&&(C=P({},N.state))}return ft.createElement(Gi,P({key:"single",ref:zn(this,"moveable")},S,{target:O,firstRenderState:C}))}},a.prototype.componentDidMount=function(){this._checkChangeTargets()},a.prototype.componentDidUpdate=function(){this._checkChangeTargets()},a.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},a.prototype.getTargets=function(){var n,i;return(i=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&i!==void 0?i:[]},a.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},a.prototype.waitToChangeTarget=function(){var n=this,i;return this._onChangeTargets=function(){n._onChangeTargets=null,i()},new Promise(function(o){i=o})},a.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},a.prototype.getManager=function(){return this.moveable},a.prototype.getMoveables=function(){return this.moveable.getMoveables()},a.prototype.getDragElement=function(){return this.moveable.getDragElement()},a.prototype._updateRefs=function(n){var i=this.refTargets,o=uv(this.props.target||this.props.targets),u=typeof document<"u",c=Z1(i,o),f=this.selectorMap,p={};return this.refTargets.forEach(function v(g){if(Ma(g)){var y=f[g];y?p[g]=f[g]:u&&(c=!0,p[g]=[].slice.call(document.querySelectorAll(g)))}else Ie(g)&&g.forEach(v)}),this._tmpRefTargets=o,this._tmpSelectorMap=p,[o,p,!n&&c]},a.prototype._checkChangeTargets=function(){var n,i,o;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var u=this._differ.update(this._elementTargets),c=u.added,f=u.removed,p=c.length||f.length;p&&((i=(n=this.props).onChangeTargets)===null||i===void 0||i.call(n,{moveable:this.moveable,targets:this._elementTargets}),(o=this._onChangeTargets)===null||o===void 0||o.call(this));var v=K(this._updateRefs(),3),g=v[0],y=v[1],m=v[2];this.refTargets=g,this.selectorMap=y,m&&this.forceUpdate()},a.defaultAbles=[],a.customStyledMap={},a.defaultStyled=null,qx([LS(n2)],a.prototype,"moveable",void 0),a}(ft.PureComponent),yE=function(e){oo(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}return a.defaultAbles=vE,a}(mE);function du(){return(du=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function Q1(e,a){if(e==null)return{};var n,i,o={},u=Object.keys(e);for(i=0;i<u.length;i++)a.indexOf(n=u[i])>=0||(o[n]=e[n]);return o}function Ad(e){var a=ft.useRef(e),n=ft.useRef(function(i){a.current&&a.current(i)});return a.current=e,n.current}var Hi=function(e,a,n){return a===void 0&&(a=0),n===void 0&&(n=1),e>n?n:e<a?a:e},Ql=function(e){return"touches"in e},wd=function(e){return e&&e.ownerDocument.defaultView||self},Q0=function(e,a,n){var i=e.getBoundingClientRect(),o=Ql(a)?function(u,c){for(var f=0;f<u.length;f++)if(u[f].identifier===c)return u[f];return u[0]}(a.touches,n):a;return{left:Hi((o.pageX-(i.left+wd(e).pageXOffset))/i.width),top:Hi((o.pageY-(i.top+wd(e).pageYOffset))/i.height)}},J0=function(e){!Ql(e)&&e.preventDefault()},hv=se.memo(function(e){var a=e.onMove,n=e.onKey,i=Q1(e,["onMove","onKey"]),o=ft.useRef(null),u=Ad(a),c=Ad(n),f=ft.useRef(null),p=ft.useRef(!1),v=ft.useMemo(function(){var b=function(C){J0(C),(Ql(C)?C.touches.length>0:C.buttons>0)&&o.current?u(Q0(o.current,C,f.current)):S(!1)},x=function(){return S(!1)};function S(C){var E=p.current,w=wd(o.current),M=C?w.addEventListener:w.removeEventListener;M(E?"touchmove":"mousemove",b),M(E?"touchend":"mouseup",x)}return[function(C){var E=C.nativeEvent,w=o.current;if(w&&(J0(E),!function(D,O){return O&&!Ql(D)}(E,p.current)&&w)){if(Ql(E)){p.current=!0;var M=E.changedTouches||[];M.length&&(f.current=M[0].identifier)}w.focus(),u(Q0(w,E,f.current)),S(!0)}},function(C){var E=C.which||C.keyCode;E<37||E>40||(C.preventDefault(),c({left:E===39?.05:E===37?-.05:0,top:E===40?.05:E===38?-.05:0}))},S]},[c,u]),g=v[0],y=v[1],m=v[2];return ft.useEffect(function(){return m},[m]),se.createElement("div",du({},i,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:o,onKeyDown:y,tabIndex:0,role:"slider"}))}),vu=function(e){return e.filter(Boolean).join(" ")},gv=function(e){var a=e.color,n=e.left,i=e.top,o=i===void 0?.5:i,u=vu(["react-colorful__pointer",e.className]);return se.createElement("div",{className:u,style:{top:100*o+"%",left:100*n+"%"}},se.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:a}}))},lr=function(e,a,n){return a===void 0&&(a=0),n===void 0&&(n=Math.pow(10,a)),Math.round(n*e)/n},J1=function(e){var a=e.s,n=e.v,i=e.a,o=(200-a)*n/100;return{h:lr(e.h),s:lr(o>0&&o<200?a*n/100/(o<=100?o:200-o)*100:0),l:lr(o/2),a:lr(i,2)}},Md=function(e){var a=J1(e);return"hsl("+a.h+", "+a.s+"%, "+a.l+"%)"},qf=function(e){var a=J1(e);return"hsla("+a.h+", "+a.s+"%, "+a.l+"%, "+a.a+")"},bE=function(e){var a=e.h,n=e.s,i=e.v,o=e.a;a=a/360*6,n/=100,i/=100;var u=Math.floor(a),c=i*(1-n),f=i*(1-(a-u)*n),p=i*(1-(1-a+u)*n),v=u%6;return{r:lr(255*[i,f,c,c,p,i][v]),g:lr(255*[p,i,i,f,c,c][v]),b:lr(255*[c,c,p,i,i,f][v]),a:lr(o,2)}},SE=function(e){var a=e.r,n=e.g,i=e.b,o=e.a,u=Math.max(a,n,i),c=u-Math.min(a,n,i),f=c?u===a?(n-i)/c:u===n?2+(i-a)/c:4+(a-n)/c:0;return{h:lr(60*(f<0?f+6:f)),s:lr(u?c/u*100:0),v:lr(u/255*100),a:o}},xE=se.memo(function(e){var a=e.hue,n=e.onChange,i=vu(["react-colorful__hue",e.className]);return se.createElement("div",{className:i},se.createElement(hv,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Hi(a+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":lr(a),"aria-valuemax":"360","aria-valuemin":"0"},se.createElement(gv,{className:"react-colorful__hue-pointer",left:a/360,color:Md({h:a,s:100,v:100,a:1})})))}),CE=se.memo(function(e){var a=e.hsva,n=e.onChange,i={backgroundColor:Md({h:a.h,s:100,v:100,a:1})};return se.createElement("div",{className:"react-colorful__saturation",style:i},se.createElement(hv,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Hi(a.s+100*o.left,0,100),v:Hi(a.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+lr(a.s)+"%, Brightness "+lr(a.v)+"%"},se.createElement(gv,{className:"react-colorful__saturation-pointer",top:1-a.v/100,left:a.s/100,color:Md(a)})))}),$1=function(e,a){if(e===a)return!0;for(var n in e)if(e[n]!==a[n])return!1;return!0};function EE(e,a,n){var i=Ad(n),o=ft.useState(function(){return e.toHsva(a)}),u=o[0],c=o[1],f=ft.useRef({color:a,hsva:u});ft.useEffect(function(){if(!e.equal(a,f.current.color)){var v=e.toHsva(a);f.current={hsva:v,color:a},c(v)}},[a,e]),ft.useEffect(function(){var v;$1(u,f.current.hsva)||e.equal(v=e.fromHsva(u),f.current.color)||(f.current={hsva:u,color:v},i(v))},[u,e,i]);var p=ft.useCallback(function(v){c(function(g){return Object.assign({},g,v)})},[]);return[u,p]}var TE=typeof window<"u"?ft.useLayoutEffect:ft.useEffect,AE=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},$0=new Map,wE=function(e){TE(function(){var a=e.current?e.current.ownerDocument:document;if(a!==void 0&&!$0.has(a)){var n=a.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,$0.set(a,n);var i=AE();i&&n.setAttribute("nonce",i),a.head.appendChild(n)}},[])},ME=function(e){var a=e.className,n=e.hsva,i=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+qf(Object.assign({},n,{a:0}))+", "+qf(Object.assign({},n,{a:1}))+")"},u=vu(["react-colorful__alpha",a]),c=lr(100*n.a);return se.createElement("div",{className:u},se.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),se.createElement(hv,{onMove:function(f){i({a:f.left})},onKey:function(f){i({a:Hi(n.a+f.left)})},"aria-label":"Alpha","aria-valuetext":c+"%","aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"},se.createElement(gv,{className:"react-colorful__alpha-pointer",left:n.a,color:qf(n)})))},DE=function(e){var a=e.className,n=e.colorModel,i=e.color,o=i===void 0?n.defaultColor:i,u=e.onChange,c=Q1(e,["className","colorModel","color","onChange"]),f=ft.useRef(null);wE(f);var p=EE(n,o,u),v=p[0],g=p[1],y=vu(["react-colorful",a]);return se.createElement("div",du({},c,{ref:f,className:y}),se.createElement(CE,{hsva:v,onChange:g}),se.createElement(xE,{hue:v.h,onChange:g}),se.createElement(ME,{hsva:v,onChange:g,className:"react-colorful__last-control"}))},OE={defaultColor:{r:0,g:0,b:0,a:1},toHsva:SE,fromHsva:bE,equal:$1},RE=function(e){return se.createElement(DE,du({},e,{colorModel:OE}))};const Gs=(e,a=1)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a}:{r:0,g:0,b:0,a:1}},tm=e=>{const a=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);return a?{r:parseInt(a[1],10),g:parseInt(a[2],10),b:parseInt(a[3],10),a:a[4]?parseFloat(a[4]):1}:{r:0,g:0,b:0,a:1}},If=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,Hs=e=>`#${[e.r,e.g,e.b].map(a=>{const n=a.toString(16);return n.length===1?"0"+n:n}).join("")}`;function ea({value:e,onChange:a,className:n=""}){const[i,o]=ft.useState(!1),[u,c]=ft.useState(()=>!e||typeof e!="string"?{r:0,g:0,b:0,a:1}:e.startsWith("#")?Gs(e,1):e.startsWith("rgba")||e.startsWith("rgb")?tm(e):{r:0,g:0,b:0,a:1}),[f,p]=ft.useState(()=>Hs(u)),v=ft.useRef(null),g=ft.useRef(null),[y,m]=ft.useState({top:0,left:0,placement:"bottom"});ft.useEffect(()=>{if(!e||typeof e!="string")return;let E;e.startsWith("#")?E=Gs(e,u.a):(e.startsWith("rgba")||e.startsWith("rgb"))&&(E=tm(e)),E&&(c(E),p(Hs(E)))},[e,u.a]),ft.useEffect(()=>{const E=w=>{var M;v.current&&!v.current.contains(w.target)&&!((M=g.current)!=null&&M.contains(w.target))&&o(!1)};return i&&document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[i]);const b=E=>{c(E),p(Hs(E)),a(If(E))},x=()=>{if(!g.current)return;const E=g.current.getBoundingClientRect(),w=window.innerHeight,M=window.innerWidth,D=300,O=250,_=g.current.closest(".modal-content"),N=_==null?void 0:_.getBoundingClientRect();let z=E.bottom+4,j=E.left,H="bottom";if(N){const F=N.bottom,I=N.right,X=N.top,Q=N.left;if(z+D>F){const U=E.top-D-4;U>=X?(z=U,H="top"):z=F-D-10}j+O>I&&(j=I-O-10),j<Q&&(j=Q+10)}else z+D>w&&(z=E.top-D-4,H="top"),j+O>M&&(j=M-O-10),j<10&&(j=10);m({top:z,left:j,placement:H})},S=()=>{i||x(),o(!i)},C={backgroundColor:If(u)};return A.jsxs("div",{className:`color-picker-wrapper ${n}`,children:[A.jsx("button",{ref:g,type:"button",className:"color-picker-button",onClick:S,style:C,title:`Color: ${If(u)}`,children:A.jsx("span",{className:"color-picker-preview",style:C})}),i&&A.jsxs("div",{ref:v,className:"color-picker-popover",style:{position:"fixed",top:`${y.top}px`,left:`${y.left}px`,zIndex:10001},children:[A.jsx(RE,{color:u,onChange:b}),A.jsxs("div",{className:"color-picker-info",children:[A.jsxs("div",{className:"color-input-row",children:[A.jsx("label",{children:"Hex:"}),A.jsx("input",{type:"text",value:f,onChange:E=>{p(E.target.value)},onBlur:E=>{let w=E.target.value.trim();if(w=w.replace(/^#/,""),/^[0-9A-Fa-f]{6}$/.test(w)){const M=Gs("#"+w,u.a);b(M)}else if(/^[0-9A-Fa-f]{3}$/.test(w)){w=w.split("").map(D=>D+D).join("");const M=Gs("#"+w,u.a);b(M)}else p(Hs(u))},onKeyDown:E=>{E.key==="Enter"&&E.currentTarget.blur()},className:"hex-input",placeholder:"#ffffff"})]}),A.jsxs("div",{className:"color-input-row",children:[A.jsx("label",{children:"Alpha:"}),A.jsx("input",{type:"number",min:"0",max:"100",value:Math.round(u.a*100),onChange:E=>{const w=Math.max(0,Math.min(100,parseInt(E.target.value)||0))/100;b({...u,a:w})},className:"alpha-input"}),A.jsx("span",{children:"%"})]})]})]})]})}var ty={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},em=se.createContext&&se.createContext(ty),_E=["attr","size","title"];function zE(e,a){if(e==null)return{};var n=NE(e,a),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(a.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function NE(e,a){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(a.indexOf(i)>=0)continue;n[i]=e[i]}return n}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tu.apply(this,arguments)}function rm(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function eu(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?rm(Object(n),!0).forEach(function(i){BE(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function BE(e,a,n){return a=jE(a),a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function jE(e){var a=LE(e,"string");return typeof a=="symbol"?a:a+""}function LE(e,a){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ey(e){return e&&e.map((a,n)=>se.createElement(a.tag,eu({key:n},a.attr),ey(a.child)))}function ia(e){return a=>se.createElement(VE,tu({attr:eu({},e.attr)},a),ey(e.child))}function VE(e){var a=n=>{var{attr:i,size:o,title:u}=e,c=zE(e,_E),f=o||n.size||"1em",p;return n.className&&(p=n.className),e.className&&(p=(p?p+" ":"")+e.className),se.createElement("svg",tu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,c,{className:p,style:eu(eu({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),u&&se.createElement("title",null,u),e.children)};return em!==void 0?se.createElement(em.Consumer,null,n=>a(n)):a(ty)}function Yf(e){return ia({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 64c0-17.7-14.3-32-32-32L128 32c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32l-192 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l192 0c17.7 0 32-14.3 32-32z"},child:[]}]})(e)}function Pf(e){return ia({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M288 64c0 17.7-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32L32 352c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function Ff(e){return ia({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 64c0 17.7-14.3 32-32 32L192 96c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l224 0c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 224c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(e)}function GE(e){return ia({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(e)}function HE(e){return ia({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"},child:[]}]})(e)}function Dd(e){return ia({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232l144 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z"},child:[]}]})(e)}function ru(e){return ia({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(e)}function UE(e){return ia({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80l0 48c0 17.7 14.3 32 32 32s32-14.3 32-32l0-48C576 64.5 511.5 0 432 0S288 64.5 288 144l0 48L64 192c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-192c0-35.3-28.7-64-64-64l-32 0 0-48z"},child:[]}]})(e)}function kE(e){return ia({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"},child:[]}]})(e)}function XE(e){return ia({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"},child:[]}]})(e)}const qE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALSUlEQVR4nO3dTXAb5R0G8Gc/9LFKZIlgO+DEMRgcDXUyaRhShsa0ZWjNcOAApdCGmfbGJGlL00OuPfTaC6WldDq5lkJgaFqmw5A2BYM7nQ6hHkhKxk3HrT9wsGwnVhRWK2lX24OQ0Fofu1p9WdrnN5ODVrvv/iP0aN/33XeJgFMm7Iim4Ru+/tFDuxOXvjGozh/qS6+N+nU1Kpl6wPZgImoZQ5DTGTm0cT3QPxcPjby3FLnrz4t9X3gzJ0hZu2OFWuEPGKno/pVzJ8bjU8cV/cZAU6smopbQ5O1rFwe/+vyFnQ8+m5aUjWr7VQ3/nVfPf/vw4ivPKtnrO1tVJBG1TsrXt/K34W+d+M+Oe16q9H5Z+AUzJ00svPyL8dV3jrWlQiJqqX8NfOWF6T1P/tAURKN0u1j6QjBz0uTcqdMMPlHvGF9959jk3KnTgpmTSrdbwn948ZVnb78281h7SyOiVrv92sxjhxdP/7x0WzH8d1w9/+S++Ns/aH9ZRNQO++JT37/j6vknC69FID+rP7Fw+rnOlUVE7TCxcPq5gJGKAp+Ff//KuROKnhzsaFVE1HKKnhzcv3LuBACIoqn7x+NTxztcExG1yXh86rho6n5x+PqlSS7gIfIORb8xMHz90qQ8nLg02eliepGu60ilUgAASZIQCoVq7uPz+RAMBovvqaoKwzDKjtls83EFpmnixo0btvvZnUuSJEiShECg8kpuN3VqmoZstvrqU1mW4ff7IUlS1X2oMcOJjx6S+9WFuztdSC8yTRO6rjveR5Zly3uGYdgeX+m4gnQ6bTk+l8tVDX+tcxW2ZzIZhEKhskC6qdPus9F1HZqmQVGUqjVTY/rVhbvliLayt9OFUG1+vx+iKFZ8r1r4C1dWQRBgmiZyuRzS6XTVK3ilc+VyOWSz2WJYk8kkIpEIBEFoWp0+n8/yg2IYRrH2VCpV9j41R0SLj8kBQ4t0uhCqze/3w+fzOd6/9GocDAahaVoxwE7CX3quwvBB13WYpglVVbFt27am1AnkhxWKoli2qaqKdDoNIN/j2Pw+NS5gaBFRNHV/pwuh5ioEB7AGsnAVr4cgCJb5ikwmg1wu15xCq6j3B4TqJ5q6v3IfjZrONM2yP606vtBt9vl8EEWx2OU2TdPyw+CUJEmWbnutCb5G/54Aak4GUvNUHohRU+m6jo2NDdfHl87al4pGo2Xj73Q6XbwyFwIbCASQSqUcTUJWU20s77bOAsMwinc8gPw8QyaTAZDvddgNU8g9hr/HlIbb7/98ROfz+ZDJZJDNZmEYRt2TaKXhbWa3P5vNVrzSC4IARVEc/eiQOwx/G8iyXPGW1earXjWKolQM6+arqWmaxSCJomjp4pd2v7PZbN3hL+3qVwuk0zpLiaJYbK/wwyUIAvr6+hj8FmP426SRSSxJkhwdn06niyHP5XLQNK3qfvXcPzdN01H4ndZZyu/3F2fzC7P8hbkJzvK3Fn9ae0hpl1+W5bI/pffv6xn7F+YLgPL78s2kKEqxl6Bpmuv5CXKGV/4uYLd81ufzWRbHyLKMcDhctp+macVhRiaTqbjwpvRchfUCpWPyWj0GJ3XWUhjnq6parHf79u01jyH3GP4uYDcvEI1GLQGtFjK/328Jf6XnDaqdSxAEBIPBqiv1nNZZa/wP5O9MFCYBs9ksNE3jEt8WYbe/RzgJvyiKxfec3vOXZRmBQAB9fX1tC2HpWF/TNEcPDlH9hKNHj9a/CoMcKYyTa13tau3jdIFMYf1+6et666p2Lru2ah1bqy27z6aevw+5w25/Czn50tbap54vfaP7NhIwN8faHcPAtx67/UQexfATeRTDT+RRDD+RRzH8RB7F8BN5FMNP5FEMP5FHMfxEHsXwE3mUgFMu/g+LRNT1eOUn8iiGn8ijGH4ij2L4iTyK4SfyKIafyKMYfiKPYviJPIrhJ/Iohp/Ioxh+Io9i+Ik8iuEn8iiGn8ijGH4ij2L4iTyK4SfyKIafyKNa9q/0DmQ2sCN9tfj6amAHVv3RutuJJedcnX8hNISU9Pm/J99oOyOpKwjqKVdtVKup1zn5zGfDo67bc3qsYmjYoy5jQP24uG01tMvxf496z1vru1+opRGarGBeubWhNoAWhj927QL2Lb5YfH1x+AhWd95fdzsPzP7M1fnfip20/EdqtJ1DS6+jPzHjqo1qNfU6J5/5AwCychirkQOY7b+v5uezub3Ze16o2XYsOYfY2t8xtD5ddZ+1yEFcuOXrzT1vje/+HnXZ9XexYC1yEPNjTzfUBtDC8BM55dOTGFqfxtD6NEYHJ/HGnkcbbvPB5TcxtnzGdr/+xAweSMxgYPgIpl1cnLoZx/y0pYzEz2Ji5d2G2nh44fcVg5+Vw1iLHKx4zL7FF/Gl9fMNnbfbdN2V/9c2Xa5WtfNqlW5WLDln6catRQ5W3dfrKn3mseQc9n/yF8uQKnbldbzff8jV/MjEyrsYiZ+1bFuLHMR7ux+xjJNjyTncvfQHRD79d3Hb/sXT+G/4TldzU07NhkerDhsev/wby+fQ6mEir/zUUbPhUfxp9LvIyuHiNp+edDUpphgaYldet2ybH5zEq2NPl02QzYZHcWbvMajBoeK21cgBhIzGJnW7Sddd+an3pKQgEtvutFz1BtSP677q7d+4CJ+eLL7OymG8vevhmuf9YPdj6FeX8GH/vS294m9FDD9tScnAjrqPueX6rOX1/wYftB06fBAdB6LjdZ+rF3Rd+O3uHXvtXnovGEldKbuNuhzaVXc727S45fVaaHdDdVVj9x0Mp9dact5m67rw290jdTpJcvT8saa0Q85VmsUPGCpui5+zbFuLHHTVBS+dvAMATVLqbsOJRu/TbxVdF37qXqULX6pRg0OYGnmiZTXY/ehf9ND9foaftoz5wUm8vethDtvapOvC36z7/G/FTtZ8fyE0VPN9ql/pAhuf/qmlm75880TDK/sS2/Za2gxWuG1XaZFPvcu27b6DEyvvOurldFrXhb9ZOJ5vv9LFT4qh4ciFnxRvzQ2tT+PATV/Mz7679Glw0BL+fnWpbCa/0gIsu6FAr+IiH+qIlBTE+du+Z9l2YOk1KIbmus1P+mKW17fFz9m218j5uh3DTx3zQXTc0g0Pacv48sqU6/YuRPeVrRT82sdv1DzG7v1e1rZufzi95uj5brvn/p0+l9+sZ56ptaZGnsA3P/x8zD22fAZL4TFXw7KUFMTsrY9Yxtsj8bN4PL2KywOHLUOKkdQVHPjkrzUf9+11bQv/SPxs2QMXldg99+/0Hmuznnmm1lr1R3Fx+IglsPfO/xYLd510Nes/vfN+7FAXLKHuT8ygPzGD+6ock5XDlmXBXsFuP3Xc9M77LQ/YNNr9/+PtT2F+cNLRvolte3FhuHXrCrYyhp+2hH+MPGV5PbZ8BiOpK67be2PPo3grdhLLN09UfF8NDuHi8BH87q4fI+Gv/zmCXiDglGl2ugiiViudK+J8UJ5n7/OTt3BdRzl2+4k8iuEn8iiGn8ijGH4ij2L4iTxKBJDpdBFE1HYZEUCi01UQUdslRACXO10FEbXdZRHA+52ugoja7p8iAPtH7Yio15wthH+905UQUdusAnizMNv/yw4XQ0Tt8ysAGQGnTACIApgFMNjJioio5VYB7AWwUVjkswHgmY6VQ0Tt8gzyebes8HsZwPOdqIaI2uJ5AC8VXmxe3vsjAK+1tRwiaofXkM930ebwGwCeANCcfxaHiLaCF5DPtVG6sdKDPQaA4wC+AyBe4X0i6g5x5HN8HJuCD9R+qu8lADEAPwXXARB1k3XkcxtDyRh/s8KtPjs+AA8BmARwCMAogJs+205EnZMFcA3AHID3kF+0dxYOntb9P+KQhHFfurKkAAAAAElFTkSuQmCC",IE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALR0lEQVR4nO3dW2xbdx0H8G+OLzmeHTu2mzRp1qUJi7OtsLE2FRUdlFojhYetE7tQhARI3KZ168om7QWB0PYALxVQ1g1QEbwwdWMMwQNs3dRpSEObunXaRgVL1qA0lzpJ7caO764dHk4c+8THPr4dO/b5fqRIPrf/+dX17/wv53/sDq/XCzWrgtHk7x87GOgfGw+5RvfEbduGU2abc1UwmlQPJiLNdGSupUzJ8FUxPD9lD3x0znX5nTOuy++cETLXkqrHlkr+a2Zb98xN9/1gduTQkVSn3V3XqIlIE6ZEyH/95F9Pbv/viz83JsPLxfYrmvwLgwcOT+5++JdJsbtXqyCJSDvm+PLiyLtPP7p1+vXTStsNQ0NDshWrHYJhYs/Rkxc//d2fpY2itSFRElHdpY2idemGz9+XFJ1b3ZfPvdyB1dX87bLkX+0QDP++48cv+IbGv9HwSIlIEyvu0T2R7qFP9s7888/5FwBZ8k+OPfIr3/D4N5sSIRFpJuoYvPlap8Ptnn/779l1QvbFwuAXvjrrOXSkOaERkdZmPYeOLAweOJxdFgBpVH9y9yMnmhcWETXCxNjDJ66Zbd3AWvLPjN57jKP6RO0v1dndMzN67zEAEDKC0TzruefhJsdERA0y67n7oYxgNAuB/rFxTuAh0o9UZ3dPoH/PQWOgf2y82cG0oyM3AI/tll5PBoAvvVF6n9enge+cz217eT8w4lI/z8bjsjwi8I8vq++ndq7JAHDhCvD4hcqPLRbnqV3AgcHi+757GXhpCji9qF4uVSfQPzZuXHF5djc7kHbkMgPDKkmRv8+7l+XbRlzqxysdl/XELfLjbWYARZK/1LmGXcDBG4F7PMAP3yxMyGritKu8N8Mu4P6dwJ3vFb9gUW1WXCO7jNGugZFmB0Kl/esSMLeivO3DK8rrszVrJAlYzUCvDTi+s3gNrnSugS7gtj7p+GEXcOogcP5PwES8fnF+4AM+8ueWR93ArX3S62/fDrw2yxaAFqJdAyPGtMnmaHYgVNrL/wOe+rj8/Q/35mrW0xeAwzulBN67DYBK8m88V7b7MOySyvj954B9r9YnTkBK/Afe2lDOfqm1AQBfGWbyayFtsjmEjGA0NzsQqq9v3Zx7/dxF4H2f9Pq2PimZKzERl5r7WZ+9AfBqXF28Oadt+QRkBKNZUN+N6sEjFv5pdfzta83mD3zA2SDw1ry0bDVLYwGVOr0ITAVyy/t66hNnMfsGKj+GKmdsdgB6MOwCPvp69cc/uR94UmH96B8L+9/Hd0r9ewA4tzbI9vgF4Pu7pOTf019dDL6w+sBeJXGub3MDL+zNLQ90Sa0LQBqv+PV/qgqXysDkbzN7t+VeP3cx9/p9n5RUt/ZJYwKV9qNX8r4Xpruzthjz3dqXG+DLF0kCvzkvtVxIG0z+BpgKAH/4sHD9oF0a0Vbzu/eA6VDh+o21qUeU+vUAsBgGHrwZeHBtmy1vZOfO6ytP/vx7+cuJ2uLMtxgGwmsXlmzLIpIE7v4bE19rTP4GURoF/9GN5R07HSpvFP2JW6SmPSA1/e/fqbzfXSMoes9fiUcEttpyy5MKCV5JnPnemM6N9mdH+a1m6cJ19q3Sx1JtOODXRvL781OBwr/FsLSt1ybNLizXic/kLiof+LS79Xb0banWB6QLVyUxUuVY87eAQXvpVsJTH0v9+GzfeSoAfOIvhfud2pXrZtw1BJy8VPpcg3bpgpLfJ/+tQvelkjhLmYhL/fzH1gYAv/cp5RipPpj8LUBtXOD5Wakfn/X6tPJ+z13MlXVHkVq12LkiSWnCUKlkLCfOUv1/QLozceeO3EDgqV2c4qsVNvvbRP6DMq/NKu9zNig12wGpGX+8yJhAvqkA8MrH0gBco5Lwp+dyrw/vlFo1VH8dOCX/Rk+qn+wEl1K1Xal9yp0gMxGX76tWuyqds9i51MoqdWypstTem0r+PVQdJj+RTrHZT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKd6vB6vZzeS6RDrPmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKdYvIT6RSTn0inmPxEOsXkJ9IpJj+RTjH5iXSKyU+kU0atCjabzTCZTOvLqVQKyWSy4nKsVmtV54/H40in03UrRxRFGAyGqsooFlO7K+c9j0QiVZdX7rEGgwGiKEIUc7/7HY/Hy/7/qPS8pT772VhqkU6nEY/X/rvlmiV/V1cX3G73+rLf74ff76+4nIGBgarOPzc3J/tPqrWcnp4eWCyWqsooFlO7K/c9z2QyiEajCAaDJd+fjeVNTEyULNdqtcLhcMBmsxXdJxaLIRAI1PW8pT77oihW/VnMisVimJmZqakMQMPkJyqXIAiw2Wyw2WwIhULw+Xw1l9nT0wOn06m6n8ViwcDAQNWVUytjn582FbvdLqs1q9HX16eY+JlMBrFYTPEYt9uN7u7ums7balqu5ldrcmlVTrFmltVqlTXj6tUka0dK77nVaoXL5ZJ1qZxOJ5aXl6saH3G73bDb7bJ1sVgMS0tLsn6y1WrFli1b0NnZub5uy5YtiEajVY1NlSsSiRT97G3fvl32PmjdTWTNT00ViUQwPz+PTCazvk4QhKoGxQwGQ0GNHwqFMDMzUzBAFolEMDs7i1Qqtb4uGo1CEPSTEi1X81P7SafTSCQSslpPFMWKa72uri5Z8mYyGSwtLZU8r9/vR2dnJ4LBoKY1/mbE5KdNKb9GLtd1110nWw4Gg6pdh1AoVPF52kXLJb/avWO93UtvB6IoFtxGreY+dv69dQBIJBI1xVWM2mdwYxybVcslv9o90nIHSTweT13KofIpjeILggCHwyFbF4vFqmqC5w/eAdCsEqj1Pv1m0XLJT62rnFt4qVQKCwsLmsWgdtHX0/1+Jj9tGqFQCEtLS+y2NUjLJX+97vPPzc2V3F6PudMklz/BRhAEWTM9HA7XPLMvkUjIylR6FkNpkk+l07bVPoNut7vmiUqN0HLJXy/szzde/uQng8GAoaGh9VtzNpsNdru9ptH3VColS/6NYwAbY8hS6wq0K/3MaKBNJZ1OY3FxUbbO7XbX9ORkNBqVLTscDtXyan1Ss5Ux+alpQqGQrBluMpngcrmqLm9lZaVgpmBPT0/JY9S2t7OGNftNJlNZz3erPfdf7nP59XrmmbS1sLCAHTt2rC87nU5Eo9GqumXpdBpXr16V9bftdjtMJhOCwaCsSyGKIlwuV8nHfdtdw5LfbrcXPHChRO1WS7n3WPmATWtIJpPw+/2yhO3t7cWlS5eqGvXPTtfNT2qLxQKLxYK+vj7FYzKZjK7m9Gfp719Mm47f75dN5621+T8/P1/2wGEikcCVK1eqPlcrY/LTprBx8M/pdNb0dVc+nw9zc3MIh8OK21OpFPx+P6anp6t6jqAddHi93tVmB0GktfyxIo4HSXR7n5/0hfM6CrHZT6RTTH4inWLyE+kUk59Ip5j8RDolANDXtxYSEQAkBQDBZkdBRA0XFADU59sxiKiVTAoAzjc7CiJquPMCgDPNjoKIGu5MNvmL/6wJEbWbJQCvZEf7n2lyMETUOM9gbbQfAH4BYLH4vkTUJhYh5fv6JJ9lAEebFAwRNc5RSPkum+H3PICnmxENETXESUh5DqBweu8xAC82MhoiaoiXADyav2Jj8qcBHAbwbKMiIiLNPQvgAUj5vU7pwZ40gIcAfA2Adr+YSERaW4CUxw9hQ+IDpZ/qOw3gJgA/AecBELWSK5Dy9iZIeayow+v1llOYCcBBAF8EsAfAMIBuAIU/hkZEjZSANHo/BeAcgFcBvAJA9SuJ/w83cs7UC4qdFQAAAABJRU5ErkJggg==",YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALH0lEQVR4nO3dTYzjZh0G8Md+49iJnQ9P5mNHo6U7UimicEBlr+UwQLfXSggVjnxIq22FClckbr0itWp7gDtFpfeKVvTSa4tUCYQoFbQ73e3OZLM7ySR2YscOh2zSOJPEzoeTSfz8pJHWjj/+M9pn3tfva3uko6MjhJEkSdV1/dlsNvuMpmnXFUU5FEJsARChOxNRnDzP8x64rvu/ZrP5oWVZ7zUajXc6nU4rbEdpUviFEKZpmr8pFAq3HoWdiC45z/MeVKvVNx4+fPh7z/MejttOHB4ejvwgl8s9f3Bw8I6u68/KspyJrVIiWihZljOZTOZ7hULh5+12+9hxnH+M3G54hSRJqb29vT/s7++/KYTYjr9UIoqDEGJ7f3//zb29vT9KkpQa/nw4/GJ/f/+tQqHwyyXVR0QxKxQKv9jf338LQ2N0gfDv7u6+ahjGc0utjIhiZxjGc3t7e68NruuHP5fLPV8sFm8tvywiWoZCoXAzl8v9pLcsA4Asy8Xd3d1XV1cWES3D7u7uK0IIE3gUftM0fy2E2FltWUQUNyHETrFYfAkAZEmS0sVi8YUV10RES1IsFl+QJCmdymazN4QQpVUXtGkcx0Gj0QAApFIp5HK5iduoqopsNtv/7Pz8HO12O/Q8w/v1dDodnJ2dhW4Xdq5UKgVFUaBp2tT7jqvTsiy0WuNvQEun01BVFanUhdkpWgAhRCmbzd5I6br+zKqL2USdTgeu60beJp1OBz5rt9uh+4/ar8e27cD+vu+PDf+kc7muC9u2Yds2crnchUDOUmfYz8Z1XTQaDRiGMbZmmo+u6zdSqqo+tepCaDJN0yDE6McoxrWOvZZVlmX4vg/P89BsNse24KPO5XkeHMeB7/twXRdnZ2colUqQJGlhdabTaSiK0l92XReO4wAA6vU60uk0ewAx0DTtqVQ6nf76qguhyVRVhaqqkbcfbI2z2Swsy4Lv+3AcJzT8w+fqXT64rgvf93F+fo58Pr+QOgFAURTouh5Yd35+Dtu2AXR/iTH8i6coyuOyLMuFVRdCi9ULDtANZK/L7TgOOp3OVMeSJCkwXtFsNuF53mIKHWPcpQwtjizLBVmSJP6kl6DT6Vz4imv/Xrc5nU5DCNEPk+/7gV8MUfUG/XomDfDN+30CX9VP8ZEkKc3+1BK4rotyuTzz/tVqdeT6nZ2dC9ffgy1zL/SapqFer/e7/rMMogkhQgf2pqmzpze419MbmwC64xVhlyk0O4Z/wwy2moPX3+l0Gs1mE47joN1uT30dPRjeWVrzcRzHGdnSy7IMwzDGDiDS/Bj+JVAUZWRr63ke6vV66P7jQjDcmnY6nX6QhBD9FhTodvl7HMeZOvyDXf1xrXjUOgcJISDL3UdMej0LWZZhmiaDHzOGf0lGjYJPutFlkBAi0ii6bdv9kHueF+hOD283Tde/0+kEBvnGhTJqnYM0TeuP9vdG+X3fR7PZvDALQIt14WUetL4Gu8+Kolz4Gp6/j6o3XgAg1nl3wzD6vYBGo8GBv5ix5V8DnudN7CWoqop2u90Pi6IoME3zwnaWZfUvM1qt1sgptcFz9X5JDIZwUo8hSp2TSJIEwzBQq9X69XLaLz4M/xoIGxfY2dkZO9A3SFXVQPhHPW8w7lyyLCObzU4MY5Q6J13/A93LgN7ApOM4sCyLt/jGhN3+DTHY4o4L6PCc/+CA4DiKoiCTycA0zaWF0DCM/r8ty4r04BBNT7p58+bi5m0ooDclNqm1m7RN1Ck1SZIC24a1rqPOOe5cYceatO+kY4X9bKb5fmg27PbHKMp/2knbTPOfft5t5wnYLPuG7cPAx4/dfqKEYviJEorhJ0oohp8ooRh+ooRi+IkSiuEnSiiGnyihGH6ihGL4iRKK4SdKqNQnn3yy6hqIaAXY8hMlFMNPlFAMP1FCMfxECcXwEyUUw0+UUAw/UUIx/EQJxfATJRTDT5RQDD9RQjH8RAnF8BMlFMNPlFAMP1FCMfxECcXwEyUUw0+UULH9ie5W4XG08l/rL6u121Crn059nNrVo5nOr5c/hmhWFnYca/c62mp+pmOMq2nT6boeuk2j0Zj5eFH3FUJA0zRomtZf12w20Ww24Xnews+bTqehKEp/2XVdOI4TqGUenueh2WzOdQwgxvA/uPZD/OtbP+ovf/Ofb2P/4+nD/+HTv53p/Nc/eBn54/cXdpz/fudnON3+xkzHGFfTpjs4OIi0ne/7sCwL1Wp1YrCGjxf2/kld11EoFGAYxthtbNvGgwcPFnreXC6HUqnUX65UKqhUur/0NU2L/HMZx7ZtHB8fz3UMIMbwE0UlyzIMw4BhGKjVarh3797cx9zZ2YFpmqHbZTIZHBwcBAKaFLzmp0sln88HWs1ZXLlyZWTwfd+Hbdsj9ymVSigWi3Odd92sXct/9Kfvr+Q433731sj1tatHgUuK3fv/Hrtt0o3qLuu6jq2tLWQymf460zRxdnYW6Xp8WKlUQj4fHJuxbRvlcjlwnazrOra3t6Gqan/d9vY2LMvqX5/HodFojL1suHr1auDncOfOnanGRKbFlp9WqtFo4O7du/B9v79OluWZBsWEEBda/FqthuPj4wsDZI1GA1988QVc1+2vsywLspycSKxdy0+bx/M8tFqtQKunadrUrV4ulwuE1/d9lMvlieetVCpQVRXVajXWFv8yYvjpUhpskaPKZrOB5Wq1GnrpUKvVpj7Ppli78IfN1ydtLn0TaJoWaPUBzDSPPTi3DgCtVmuuusYJu39huI7Lau3CHzZfH3Uu/f2f/m0hx6HoRo3iy7KMQqEQWGfb9kxd8MHBOwAzDRhGMe88/WWxduGn9RVlCs91XZycnMRWwxNPPDHx8yTN9zP8dGnUajWUy+XYWmwKWrvwL2qe//oHL0/8XC9/vJDz0FcGb7CRZTnQTa/X63Pf2ddqtQLHFEJMrKFneLwhTNjtvaVSae4blZZh7cK/KLyeX77B+9GFEDg8POxPzRmGgXw+P9fou+u6gfAPjwEM19ATdimwqZJzRwNdKp7n4fT0NLCuVCqNbK2jsiwrsFwoFEKPN8/51h3DTytTq9UC3XBFUbC1tTXz8c7Pzy/cKbizszNxn7DPN9nSuv22sRfpmfqw5/6jPpefatWQPf0wcn20GicnJ7h27Vp/2TRNWJY10z3tnufh4cOHgevtfD4PRVFQrVYDlxSapmFra2vi476bbmnh/+yxp/HZY0+Hbhf23H/U5/K7D9gw/Jed4zioVCqBwO7u7uL27dszjfr3btcdDHUmk0Emk8GVK1dG7uP7fqLu6e9J3ndMl06lUgnczjtv9//u3buRBw5brRbu378/87nWGcNPl8Lw4J9pmnO97urevXu4c+cO6vX6yM9d10WlUsHnn38+03MEm0A6OjrqrLoIorgN3o+/qHfgrbvEzvNTssT5Uox1xW4/UUIx/EQJxfATJRTDT5RQDD9RQskA4nnXERFdZo4MILlvMCRKrqoMYPKbCYhoE/1HBvD3VVdBREv3kQzgr6uugoiW7l0ZwHsAxv9ZEyLaNGU8Cr8D4PUVF0NEy/M6Ho32A8ArAOJ7WToRXRYn6Oa9f5PPGYBfraoaIlqal9DNe+AOv7cAvLaCYohoOd4A8OfewvDtvS8BeHuZ1RDRUryNod79cPg9AM+DA4BEm+R1dHMdeCPqqAd7PAAvAvgxgC/jr4uIYvIlujl+EUPBByY/1fcXAE8C+B2A0wnbEdHlcopubp9EN8cjSUdHkf4IhgLgBwBuAPgugMcBFABM9xcOiWjRbABVAJ8C+AjAu+jeuBf6SuL/AyQgVM0rxIjaAAAAAElFTkSuQmCC",PE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALqElEQVR4nO3dW4wbVwEG4H/u9qy9sXdrJ06UZpOyWS1NGylJxQMKBVNCaAXqQ4Cq4iYkpPT+gPpUIfWBPiFRaErbhwqJB1KgkdoHWkRKIyCqEFIbEUgabbKhuSjdkr3v2mPvjMfmwbXj8doe3732/J+0UmY8c87Zzf4+Z86Z8QrxeBxuBEFQdF2/T9f1Qz6fb7+iKOOSJG0SBMHvejIRdUwul0vZtr1sWdaldDp9xjCMk4ZhvJPL5Sy3c4Va4RdFMRQOh58IhUKPS5IUbWuriagjbNu+ubS09OLi4uKxbDa7VO04aefOnRVfCAaDR7Zt2/bHQCDwDVEUhzrVUCJqL1EUh3Rd/9Lw8PD3M5nMVdM0P6x4XIV9UjQaPRaLxV6XZTnW4XYSUYfIshyLxWKvR6PRFwFI614v25ZisdjvgsHgke40j4g6LRQKPSZJ0uaZmZmHANiF/Y6ePxqNPs/gEw2eYDB4JBqNvlC6Tyx58ZuhUOiJ7jeLiLohFAo9GgwGHypsi0B+Vj8SibxQ/TQiGgSRSOR5URRDwKfhD4fDT8myvKWnrSKijpNleUs4HH4KAERBEJRQKPRYrxtFRN0RCoUeEwRBlXVdPyRJUqTXDRo0pmkimUwCAGRZRjAYrHmMpmnQdb342urqKjKZjGs95ecV5HI5LC0tuR7nVpcsy1AUBT6fr+Fzq7XTMAysra1VPVZVVWiaBlkuX4yidpAkKaLr+iF5aGjoq71uzCDK5XKwrNp3WJYeo6qq47VMJuN6fqXzClKplOP8bDZbNfy16rIsC6lUCqlUCsFgcF0gm2mn28/Gsiwkk0kEAoGqbabWDA0NHZI1TdvX64ZQbT6fD5K07h4NAKjaOxZ6VlEUkc1mYds20ul01R68Ul22bcM0TWSzWViWhaWlJYyOjkIQhLa1U1VVKIpS3LYsC6ZpAgASiQRUVeUIoAM0Tdsvq6q6u9cNodo0TYOmaXUfX9ob67oOwzCQzWZhmqZr+MvrKlw+WJaFbDaL1dVVDA8Pt6WdAKAoCoaGnHePr66uIpVKAci/iTH87aeq6rgoimLl/0nqW4XgAPlAFobcpmkil8s1VJYgCI75inQ6Ddu2a5zRumqXMtQ+oihuEgVBaOytmpqSy+XWfXXq/MKwWVVVSJJUDFM2m3W8MdSrMOlXUGuCr9XvE7jVfuocQRBUjqe6wLIszM7ONn3+8vJyxf2RSGTd9Xdpz1wIvc/nQyKRKA79m5lEkyTJdWKvkXYWFCb3CgpzE0B+vsLtMoWax/APmNJes/T6W1VVpNNpmKaJTCbT8HV0aXib6c2rMU2zYk8viiICgUDVCURqHcPfBYqiVOxtbdtGIpFwPb9aCMp701wuVwySJEnFHhTID/kLTNNsOPylQ/1qvXi97SwlSRJEMf+ISWFkIYoiwuEwg99hDH+XVJoFr3WjSylJkuqaRU+lUsWQ27btGE6XH9fI0D+Xyzkm+aqFst52lvL5fMXZ/sIsfzabRTqdXrcKQO1V6cM8qE+VDp8VRVn3Vb5+X6/CfAGAjq67BwKB4iggmUxy4q/D2PP3Adu2a44SNE1DJpMphkVRFITD4XXHGYZRvMxYW1uruKRWWlfhTaI0hLVGDPW0sxZBEBAIBLCyslJsL5f9Oofh7wNu8wKRSKTqRF8pTdMc4a/0vEG1ukRRhK7rNcNYTztrXf8D+cuAwsSkaZowDIO3+HYIh/0DorTHrRbQ8jX/0gnBahRFgd/vRzgc7loIA4FA8d+GYdT14BA1Tjh69Gj71m3IobAkVqu3q3VMvUtqgiA4jnXrXSvVWa0ut7JqnVurLLefTSPfDzWHw/4OqueXttYxjfzSt3psKwFr5ly3cxj4zuOwn8ijGH4ij2L4iTyK4SfyKIafyKMYfiKPYviJPIrhJ/Iohp/Ioxh+Io9i+Ik8Sr548WKv20BEPcCen8ijGH4ij2L4iTyK4SfyKIafyKMYfiKPYviJPIrhJ/Iohp/Ioxh+Io9i+Ik8iuEn8iiGn8ijGH4ij2L4iTyK4SfyKIafyKMYfiKP6tif6JYkCbJ8q/hMJgPbthsuR9O0puq3LAvZbLZt5SiKAlFs7b2yvE2DbmV73PWY4eunmi6v3nNt3yiSkb1IjkwU9w0tTGFo9iyk9Hzb613b9BmsDd9e3NZWrkFbnna0pRXy2gr0m++3VAbQwfD7/X4EAoHidiKRQCKRaLiccDjcVP2Li4tYW1trWznBYBCqqjZVRrU2Dbr3Dz5Tx1HPQLZS2Dx7AbHLf6oZrPLy4sdrh3Blexwzd3wNN7buq3pMdG4Kt1840dZ6F8a+ggt3HiluT54/gdjZfPiTkb11/lyqi85NYc/JDRx+onplFD9ubN2HG1v3YezqF7DrvWdbLvPaPU9jevyw63E3b5vAzYPPYPL8BGJnX2653n7Ca37aUK7sOIiZvY+0VMZ/P/9sxeDLVgrRuamK51y48whmJ7/bUr39pu96/k8++aQn5SwsLFTcr2ma45LCNM2qx3pd/PiX1+1b2R7HtckjuHnbrevxS7sfQHTqD3Vdj5eb2fsIruw46NgXnZvCrn/92nGdvLI9jum7v4elTduL+y7s+TaGP/5H8fq8E4avn6p62XDu0EuOn8OB0881NCfSKPb81FPD109h8u8/gWylivsyir+pSTHbN4pLux9w7Bu7ehp7Tj66boJs+Pop7H33x9CNW28wm2cvwNZCDdfbr/qu56fBI6XnMbJ8zdHrJUcmGu71Fnbej4ziL27LVgo7PjhWs96J/xzH6sg4Nl98o6M9/kbE8NOG5EvMNHzOwua7HdtjV/7meukQvvwmwpcbrmog9F343dbrvbaWPgiM6AFHrw8A+ty5hstJDkUc28GFSy21qxq3+xdSgc0dqbfd+i78buv19a6lb9mypS3lUP0qzeJbagBXxu517IvOTTU1BC+dvAMAyVxpuIx6tLpOv1H0Xfipf5Xe+FKNbsxj/J8/71gbTj38bs3X8zfkeGO9n+GnDWPs6mns+OBYU0t81Li+C3+71vkXFxdrvm5ZVlvqoVtKb7AxFd0xTN/28ZmW7+wLLV93lGmrwzXbUFA+3+Cm0v0KpWb2PlLXKKfX+i787cLr+e7bc/LR4r9t3yje+/pviktzN7buQ/SOBxG+/GbT5Q8lZx3hXx0ZXzeTX9qGArdLgUHFm3yoJ6T0PO4686pj39RdD8P2jTZd5sj//u3YvjJ2r2t5rdTX7xh+6pnw5Tcdw3BDH8WNu37YdHkjH7297k7Bq/ufqHmO2+uDrGvhlyQJmqa5fkmSVLOcesrQNA2KonTpO6NWlM/sT48frutzACqR0vMYv/iWY9+VHQdx7tBLWLzjQcd+I3oAU1/82brnALyka9f8fr8ffr/f9Ti35/7rfS6fD9j0B215GpPnTzgmyD7cfxT31PlBG+ViZ1/GSniX4xn+m7dN5Cf1Ple5l5etlOO2YK/gsJ96Lnb2ZccDNq0O/yf++jTGrp6u69jQ8nVMnvt903X1M4afNoTPfvCKY3t6/DCM6IGmy9v13rM4cPo5bPv4TMXXdWMek+dPYN9bP4CWuNF0Pf1MiMfjuV43gqjTSucR2vUZeP3Os+v85C2d/FCMfsVhP5FHMfxEHsXwE3kUw0/kUQw/kUeJAMxeN4KIus4UASz3uhVE1HXLIoDOfMohEW1k0yKAyvc/EtEgOyMCeKfXrSCirntHBHASAJ99JfKOBQB/FgGkAfyqx40hou55EUC6sM7/CwD8vGSiwTcP4JfArZt8FgB498PMiLzjSXx6mV96h99rAF7qSXOIqBteAXC8sFF+e++TAN7oanOIqBveAPB46Y7y8NsAvgXgVRDRoHgV+VzbpTsrPdiTAfAjAA8DmOt8u4ioQ+YAfAf5PGfKX6z1VN9rAHYD+Cl4HwBRP1lAPre7Afy22kFCPF7XH0jQANwP4D4ABwDsBDAKPhJM1GtZ5JfvPgLwPoC/AHgbgOsfo/w/WalTUUdHcKIAAAAASUVORK5CYII=",FE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP8AAABiCAYAAACf8AVXAAAACXBIWXMAAC4jAAAuIwF4pT92AAALfElEQVR4nO3dfWwUdRoH8G9L6QtboUVYGm0WKXSLQltar8AVT+8IUJSgjV613l1yGogiRQ41pzHGMwET411IPI6KkBL9445UODkvkWtrtYqnWC2U64tit+3WNryULbQFu9IW294fw2539mVmd3Zntrvz/SRNdmZnfvOw7TO/11liUDEBWeNj09HXWQRb51oMni/AjwMZuD6cgvGfEuRPJiLVxMaNYHriIGakWpFySwOMC2sxd2ENYqddlzs1RjL5rw+nwFq/A10NWzFqnxvKmIlIJfEzLmHB8nJkrHwD0xMHfR3mO/nPtZaitfoNjAzNUylEIlJTQvJFLF2/A7curfT2tmfyT4xPQ0vV3/B9w1NaxEdEKrutYB+y730aMbFjrrtjRQdNjE/DySOHmfhEUeT7hqdw8shhTIxPc90tTv7W6jdw4cyDmgZGROq7cOZBtFb/1XXXZPKfa30EXV9v0zwoItJG19dlONf6iGNTSP7rwyloqdoTtqCISBstVXtwfTgFcCS/tX4HRu3GcMZERBoYtRthrd8BALEYH4tHV8PWMIdERFrpatiK8bH4WPR1ruMCHiIdGbXPRV/nujjYOteFO5ZoVHbXYjz76GoAQHvPRax//T3JYz45+R02v13nfK/6hYeQaZJfX+V+noM51YCqV38ve5zctdp7LuIb6wU8d+REwOf6irPi8dX41c8W+zz21JluHP1vCyqbemTLJYVsHUVxuHIhP9xxRKPZNyUhI116GMX1mFNnukXvZZrmyZ7v7TyH54tXiM5PnpEI+Eh+qWtlpBtRVJiN4l8uw0sHPvBISCVxzjRIfzYZ6UaUrC3Amvc/83nDoiANXsiPw9Blc7jjIGkn/teOc32DXt9r6Tzvdb+jZrVfG4EhKQHG2TOxu6TQZw3u7Vq3zk1BbpYJhqQEZKQbUfHib9H41B5YBuwhi7PZ0oO27ovO7az585BjNgEANhXfjY8aO9gCUIO9PzMOPw3PCnccJK26/lvsqjrt9/GluSZnzVpZ8xVKi1bAkJSAlUsXADLJ734tR/chI90IQ1IC3t5RjFWv/CMkcQJAW/dFPLz3mLicFx5CUWE2AODBX2Qz+dXw0/AsYbSfospj6wucrw992oKmNiF5crNMMKcaAirLMmDHSwc+cG4XLsvE6gXqjg9/0WxVtXwChNF+0oQ51eDxo9b5eYvnAxCa1HVdfahv7QIAGJIS8HzxioBjr2zqgfWszbm9anF6SOL0ZVVORsDnUODiwh2AHmSkG9H2zh8Vn79zywPYucVzf9Zjf/Hof+8uKYRx9kwAQMO33wMAnjtyAk8+dA8MSQkouOM2RTH0XroiO7AXSJzO9+bPw+FtG5zbt85NQeGyTADCeMVbx75WFC/JY/JHmZVLFzhfH/q0xfm6qa0HhcsykWM2oTTXFHA/+ocfh52vU5KTgg/0hhyzyTnA58p+bQT73zuOuq6+kF2LxJj8GrCeteGdD7702D8/LRWbiu+WPf/g+5+hu3fAY797bWpONSA3S0gkW/9VbNmwHI6KOHnG5DeurclfFHDyu87lDw5dCypOV7b+qxi6cWNxtCzs10Zw/4sVTHyVMfk14m0U/OV78/w6t7t3wK9R9OeLhVF9ADDOnomStQVej9t49zKfc/7emFMNmHfz5KRQ+/nLQcXp6vipNudov2OU35CUgC0blqPObRaAQosDflHEtT9vPWvz+LH1XwUg3BjK7vK9ws7dnifWO28qzZYe1abeth+ohv3aCACgZG1BQDFS4FjzR4D5aamSrYRdVadRmjvZd7aetWFh2Zsex1U8vtrZzdi4agnKP/9O8lrz01JRcMdtoj75gX/7XifgT5xSLAN27H/vOJ79nbDi/IkHCr3GSKHB5I8AcuMC79ZbsCZ/kXP7k5PeE+bQpy3Osu7K876w09e17NdGUFnzlWQy+hOnVP8fEGYm1ixf7BwIrHh8NZf4qoTN/ijh+qDMR40dXo+p6+pDs0VoshuSErC7pFC2XOtZG2pOtOD+Fys0S8LX/v6R83Vp0QqU5nrOBlDwYnD/K378rx2khGOBi1RtJ3WMvwtkLAN20bFytau3a/q6llxZUudKlSX32QTy7yFlmPxEOsVmP5FOMfmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0KgYVE1zeS6RDrPmJdIrJT6RTTH4inWLyE+kUk59Ip5j8RDrF5CfSKSY/kU4x+Yl0islPpFNMfiKdYvIT6RSTn0inmPxEOsXkJ9IpJj+RTjH5iXSKyU+kU3FqFbx6FnD7rMntM1eAuiuBl1Om8L9mr7UBluHQlVNqBG5OVFaGr5iinT+feXmP8vL8PdecCKw1AnlzJvedvuT/7yPQ60r97TtiCcblYaDSFlwZgIrf4VeRD2zKm9w+eBrY3Bh4OROblF1/W634lxRsOU0bgJw0ZWX4iina+fuZ20eBpl7gUJv05+NeXsxB6XLLTMBvsoBCiZtQcy9woCW015X62y8zAXvXSp8vp7kXyD0WXBmAijU/kb8M8UKCFpqAjR3A+uPBl3l4JVCyRP64nDRgbxqQp7ByimTs89OUUrRIqDmDUX2P98S3jwq1pjeb8oDdftwsoknE1fxyTS61yvHVzHJvxoWqSRaNvH3mZSbgiWxxl6p0CfDnb5WNj1TkCzcQV829wGsN4n5ymQl49k4gY/bkvifzgWNnlY1N+au8Byj38bfn3rVUu5vImp/CqrwHKPlYqJUdDPHKBsXMicKNw1VNh3Azdh8gK+8B7q0CbEOT+5p6AWNC4NeNVBFX81P0sQwDnf3iWi9vDoAAa70nFwo3Dgf7KLD9K+nr7j0FZM8B3jqjbo0/FTH5aUrqvhr4OStvEW//p12+67CrA0BH4NeKBhGX/HJzx3qbS48GpUbPadQv+gIvJy1ZvN1ySXlMUuT+BtNvUue6oRZxyS83R7qtFrD40VyUm4PW25y8FryN4s+MB+7LFO9r7lXWBHcdvAOA/lHvxwUr2Hn6qSLikp8il+vCF19sQ8Azn6sXg9xNX+litEjE5Kcpo6ZDGKBjt00bEZf8oZrn31Yr/X5tCNZOk5jrApvkeHEz/URP8Cv7rP3iMmfHex7jbZFPoMu2A13eO1VFXPKHCvvz2nNd/GROBBpLJqfmCk3Ay4tujL4r1DskTv7sOfAYyfe2AEvpcx+Rjot8KCwsw8DrX4r3bbtTuCkoVX9evH1fpnx5wVwv0jH5KWx2dYib4cZk4NVlysvb3+m5UnDPCulz5N6PZpo1+9Nv8u/5brnn/v19Lj9UzzyTup75HPj415PbJUuAsvPKumWWYaDyG3F/u2gR0JQM/LNN3KUoNQJP50o/7hvtNEv+okWeD1x4c/A0UCcx1eLvHGtzL1DJB2ymvLorwu/cNWH/9HPli7U2NwK33yxO6pw04WfnPd7PsY+KlwXrBZv9FHabG8UP2ATb/F9VK0wb+sPaD+zXyby+OyY/TQk73Qb/SpYITXOl1h8XpnNP+Og+2IaEFsfCfwHWH5RfJ5Kp9jVeRFOJ61gRx4METH4inWKzn0inmPxEOsXkJ9IpJj+RTjH5iXQqFoBK33dCRFPYaCwAnX1nKREBuBILoD3cURCR5tpjAZwKdxREpLnGWAAfhjsKItLch47kvxzuSIhIM30Aahyj/XvDHAwRaedNAKMxqJgAgBQAbQCCeIiSiCJAHwAzgEHHIp9BANvDFg4RaWU7hHwXrfB7F0B5OKIhIk2UA6h0bLgv7/0DgKOahkNEWjgKIb+d3JN/DMDDAPZpFRERqW4fhLwec93p7cGeMQBbATwKgF92RBS5bBDyeCvcEh+QfqqvEkAWgJ3gOgCiSHIZQt5mwaWP784x1SdnOoAiAOsAFADIAJB6Yz8Rhc91AAMArAAaICza+xB+PK37f+P5w/3Ty2CfAAAAAElFTkSuQmCC";function KE({boxData:e,onSave:a,onCancel:n,onDelete:i,onDuplicate:o}){const u=(L,V,Y,ht)=>{const[gt,vt]=L;switch(ht){case"top-left":return[gt,vt];case"top-right":return[gt+V,vt];case"bottom-left":return[gt,vt+Y];case"bottom-right":return[gt+V,vt+Y];case"center":return[gt+V/2,vt+Y/2];default:return[gt,vt]}},c=(L,V,Y,ht)=>{const[gt,vt]=L;switch(ht){case"top-left":return[gt,vt];case"top-right":return[gt-V,vt];case"bottom-left":return[gt,vt-Y];case"bottom-right":return[gt-V,vt-Y];case"center":return[gt-V/2,vt-Y/2];default:return[gt,vt]}},[f,p]=ft.useState(()=>({...e,opacitySource:e.opacitySource||e.opacity.toString(),overlaySizeSource:e.overlaySizeSource||e.overlaySize.toString()})),[v,g]=ft.useState("full"),y=ft.useRef(null),m=u(f.frame.translate,f.frame.width,f.frame.height,f.anchorPoint),b=()=>{a(f)},x=()=>{i(e.id)},S=(L,V)=>{p({...f,[L]:V})},C=(L,V)=>{(V===""||/^\d*$/.test(V))&&p({...f,[L]:V})},E=(L,V)=>{const Y=parseInt(V);isNaN(Y)?p({...f,[L]:12}):p({...f,[L]:Y})},w=()=>{o(f)},M=L=>{const V=f[L]||[],Y={id:Ea(),variable:"",value:"",color:"#ffffff"};S(L,[...V,Y])},D=(L,V)=>{const Y=f[L]||[];S(L,Y.filter(ht=>ht.id!==V))},O=(L,V,Y,ht)=>{const vt=(f[L]||[]).map(tt=>tt.id===V?{...tt,[Y]:ht}:tt);S(L,vt)},_=()=>{const L=f.opacityVariableValues||[],V={id:Ea(),variable:"",value:"",opacity:100};S("opacityVariableValues",[...L,V])},N=L=>{const V=f.opacityVariableValues||[];S("opacityVariableValues",V.filter(Y=>Y.id!==L))},z=(L,V,Y)=>{const gt=(f.opacityVariableValues||[]).map(vt=>vt.id===L?{...vt,[V]:Y}:vt);S("opacityVariableValues",gt)},j=()=>{const L=f.overlaySizeVariableValues||[],V={id:Ea(),variable:"",value:"",size:100};S("overlaySizeVariableValues",[...L,V])},H=L=>{const V=f.overlaySizeVariableValues||[];S("overlaySizeVariableValues",V.filter(Y=>Y.id!==L))},F=(L,V,Y)=>{const gt=(f.overlaySizeVariableValues||[]).map(vt=>vt.id===L?{...vt,[V]:Y}:vt);S("overlaySizeVariableValues",gt)},I=()=>{var L;(L=y.current)==null||L.click()},X=(L,V=1920,Y=1080,ht=.9)=>new Promise((gt,vt)=>{const tt=document.createElement("canvas"),rt=tt.getContext("2d"),ut=new Image;ut.onload=()=>{let{width:Ct,height:Mt}=ut;Ct>Mt?Ct>V&&(Mt=Mt*V/Ct,Ct=V):Mt>Y&&(Ct=Ct*Y/Mt,Mt=Y),tt.width=Ct,tt.height=Mt,rt==null||rt.drawImage(ut,0,0,Ct,Mt);const Bt=L.type==="image/png"?tt.toDataURL("image/png"):tt.toDataURL("image/jpeg",ht);gt(Bt)},ut.onerror=()=>vt(new Error("Failed to load image")),ut.src=URL.createObjectURL(L)}),Q=async L=>{var Y;const V=(Y=L.target.files)==null?void 0:Y[0];if(V){if(!V.type||typeof V.type!="string"||!V.type.startsWith("image/")){alert("Please select an image file.");return}try{const ht=await X(V),gt=Date.now(),vt=`box_bg_${f.id}_${gt}.jpg`;if(f.backgroundImage){const tt=f.backgroundImage.split("/").pop();tt&&await J(tt)}S("backgroundImage",`./src/assets/${vt}`);try{await Z(vt,ht)}catch(tt){throw console.error("IndexedDB storage failed:",tt),new Error("Failed to store background image.")}}catch(ht){console.error("Failed to set background image:",ht),alert("Failed to set background image.")}L.target.value=""}},U=async()=>{if(f.backgroundImage){const L=f.backgroundImage.split("/").pop();L&&await J(L),S("backgroundImage","")}},G=()=>new Promise((L,V)=>{const Y=indexedDB.open("CompanionDashboardImages",3);Y.onerror=()=>V(Y.error),Y.onsuccess=()=>L(Y.result),Y.onupgradeneeded=ht=>{const gt=ht.target.result;gt.objectStoreNames.contains("images")||gt.createObjectStore("images",{keyPath:"id"})}}),Z=async(L,V)=>{try{const gt=(await G()).transaction(["images"],"readwrite").objectStore("images");return new Promise((vt,tt)=>{const rt=gt.put({id:L,data:V});rt.onerror=()=>tt(rt.error),rt.onsuccess=()=>vt()})}catch(Y){throw console.error("Error in storeImageInDB:",Y),Y}},J=async L=>{try{const ht=(await G()).transaction(["images"],"readwrite").objectStore("images");return new Promise((gt,vt)=>{const tt=ht.delete(L);tt.onerror=()=>vt(tt.error),tt.onsuccess=()=>gt()})}catch(V){console.error("Error deleting image from IndexedDB:",V)}},dt=(L,V)=>{const Y=f[V]||[];return A.jsx("div",{className:"setting-row variable-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:L}),A.jsx("div",{className:"variable-color-section",children:Y.map(ht=>A.jsxs("div",{className:"variable-color-row",children:[A.jsx("input",{type:"text",value:ht.variable,onChange:gt=>O(V,ht.id,"variable",gt.target.value),placeholder:"Variable",className:"variable-input"}),A.jsx("input",{type:"text",value:ht.value,onChange:gt=>O(V,ht.id,"value",gt.target.value),placeholder:"Value",className:"value-input"}),A.jsx(ea,{value:ht.color,onChange:gt=>O(V,ht.id,"color",gt),className:"color-picker"}),A.jsx("button",{type:"button",className:"remove-variable-color-button",onClick:()=>D(V,ht.id),children:A.jsx(Dd,{})})]},ht.id))}),A.jsx("button",{type:"button",className:"add-variable-color-button",onClick:()=>M(V),children:A.jsx(ru,{})})]})})},B=()=>A.jsxs("div",{className:"settings-section",children:[A.jsx("div",{className:"setting-title",children:"Background"}),A.jsxs("div",{className:"setting-group",children:[A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Background"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.backgroundColor,onChange:L=>S("backgroundColor",L)}),A.jsx("input",{type:"text",value:f.backgroundColorText,onChange:L=>S("backgroundColorText",L.target.value),placeholder:"Variable, HEX, or Image URL"})]}),A.jsxs("div",{className:"image-controls",children:[A.jsx("button",{type:"button",className:"browse-image-button",onClick:I,children:"Browse Image"}),f.backgroundImage&&A.jsx("button",{type:"button",className:"clear-image-button",onClick:U,children:"Clear Image"}),A.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:Q,style:{display:"none"}})]}),A.jsxs("div",{className:"image-size-controls",children:[A.jsxs("label",{children:[A.jsx("input",{type:"radio",name:"backgroundImageSize",value:"cover",checked:f.backgroundImageSize!=="contain",onChange:()=>S("backgroundImageSize","cover")}),"Cover"]}),A.jsxs("label",{children:[A.jsx("input",{type:"radio",name:"backgroundImageSize",value:"contain",checked:f.backgroundImageSize==="contain",onChange:()=>S("backgroundImageSize","contain")}),"Contain"]})]}),A.jsxs("div",{className:"opacity-controls",children:[A.jsx("label",{htmlFor:"background-opacity",children:"Background Image Opacity (%)"}),A.jsx("input",{id:"background-opacity",type:"number",min:"0",max:"100",value:f.backgroundImageOpacity||100,onChange:L=>S("backgroundImageOpacity",parseInt(L.target.value)||100),className:"opacity-input"})]})]})}),dt("Variable Background Color","backgroundVariableColors")]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Overlay"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.overlayColor,onChange:L=>S("overlayColor",L)}),A.jsx("input",{type:"text",value:f.overlayColorText,onChange:L=>S("overlayColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),dt("Variable Overlay Color","overlayVariableColors"),A.jsx("div",{className:"setting-row default-opacity-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Size (%)"}),A.jsx("input",{type:"text",value:f.overlaySizeSource,onChange:L=>{const V=L.target.value,Y=parseInt(V);isNaN(Y)?p({...f,overlaySizeSource:V}):p({...f,overlaySizeSource:V,overlaySize:Math.max(0,Math.min(100,Y))})},placeholder:"Number or Variable"})]})}),A.jsx("div",{className:"setting-row variable-opacity-row",children:A.jsxs("div",{className:"setting-label",style:{width:"100%"},children:[A.jsxs("div",{className:"variable-header-container",children:[A.jsx("span",{className:"setting-header",children:"Variable Size (%)"}),A.jsx("button",{type:"button",onClick:j,className:"add-variable-color-button",children:"+"})]}),A.jsx("div",{className:"variable-color-section",children:(f.overlaySizeVariableValues||[]).map(L=>A.jsxs("div",{className:"variable-color-row",children:[A.jsx("input",{type:"text",className:"variable-input",value:L.variable,onChange:V=>F(L.id,"variable",V.target.value),placeholder:"Variable"}),A.jsx("input",{type:"text",className:"value-input",value:L.value,onChange:V=>F(L.id,"value",V.target.value),placeholder:"Value"}),A.jsx("input",{type:"number",className:"opacity-value-input",value:L.size,onChange:V=>F(L.id,"size",parseInt(V.target.value)||0),min:"0",max:"100"}),A.jsx("button",{type:"button",onClick:()=>H(L.id),className:"remove-variable-color-button",children:"-"})]},L.id))})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Overlay Direction"}),A.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"5px"},children:[A.jsx("button",{type:"button",onClick:()=>S("overlayDirection","left"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="left"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Left"}),A.jsx("button",{type:"button",onClick:()=>S("overlayDirection","right"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="right"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Right"}),A.jsx("button",{type:"button",onClick:()=>S("overlayDirection","top"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="top"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Top"}),A.jsx("button",{type:"button",onClick:()=>S("overlayDirection","bottom"),style:{padding:"8px 16px",backgroundColor:f.overlayDirection==="bottom"?"#61BAFA":"#444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"From Bottom"})]})]})})]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Border Color"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.borderColor,onChange:L=>S("borderColor",L)}),A.jsx("input",{type:"text",value:f.borderColorText,onChange:L=>S("borderColorText",L.target.value),placeholder:"Variable or HEX"})]}),A.jsxs("div",{className:"checkbox-container",style:{marginLeft:"0px"},children:[A.jsx("input",{type:"checkbox",id:"no-border",checked:f.noBorder,onChange:L=>S("noBorder",L.target.checked)}),A.jsx("label",{htmlFor:"no-border",children:"No border"})]})]})}),dt("Variable Border Color","borderVariableColors")]})]})]}),q=()=>A.jsxs("div",{className:"settings-section",children:[A.jsxs("div",{className:"setting-title",children:["Header",A.jsxs("div",{className:"checkbox-container",children:[A.jsx("input",{type:"checkbox",id:"header-visible",checked:f.headerLabelVisible,onChange:L=>S("headerLabelVisible",L.target.checked)}),A.jsx("label",{htmlFor:"header-visible",children:"Visible"})]})]}),A.jsxs("div",{className:"setting-group",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Header Text"}),A.jsx("input",{type:"text",value:f.headerLabelSource,onChange:L=>S("headerLabelSource",L.target.value),className:"full-width-input"})]})}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Font Size"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.headerLabelSize,onChange:L=>C("headerLabelSize",L.target.value),onBlur:L=>E("headerLabelSize",L.target.value)})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Alignment"}),A.jsxs("div",{style:{display:"flex",gap:"5px"},children:[A.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Pf,{})}),A.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Yf,{})}),A.jsx("button",{type:"button",onClick:()=>S("headerLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.headerLabelAlign||"center")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Ff,{})})]})]})})]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Text Color"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.headerLabelColor,onChange:L=>S("headerLabelColor",L)}),A.jsx("input",{type:"text",value:f.headerLabelColorText,onChange:L=>S("headerLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),dt("Variable Text Color","headerLabelVariableColors")]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Background Color"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.headerColor,onChange:L=>S("headerColor",L)}),A.jsx("input",{type:"text",value:f.headerColorText,onChange:L=>S("headerColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),dt("Variable Background Color","headerVariableColors")]})]})]}),nt=()=>A.jsxs("div",{className:"settings-section",children:[A.jsxs("div",{className:"setting-title",children:["Left",A.jsxs("div",{className:"checkbox-container",children:[A.jsx("input",{type:"checkbox",id:"left-visible",checked:f.leftVisible,onChange:L=>S("leftVisible",L.target.checked)}),A.jsx("label",{htmlFor:"left-visible",children:"Visible"})]})]}),A.jsxs("div",{className:"setting-group",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Left Text"}),A.jsx("input",{type:"text",value:f.leftLabelSource,onChange:L=>S("leftLabelSource",L.target.value),className:"full-width-input"})]})}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Font Size"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.leftLabelSize,onChange:L=>C("leftLabelSize",L.target.value),onBlur:L=>E("leftLabelSize",L.target.value)})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Width %"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.leftVisible?f.rightVisible?f.leftRightRatio:100:0,onChange:L=>C("leftRightRatio",L.target.value),onBlur:L=>{const V=parseInt(L.target.value);isNaN(V)||V<0?S("leftRightRatio",50):V>100?S("leftRightRatio",100):S("leftRightRatio",V)},disabled:!f.leftVisible||!f.rightVisible})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Alignment"}),A.jsxs("div",{style:{display:"flex",gap:"5px"},children:[A.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Pf,{})}),A.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Yf,{})}),A.jsx("button",{type:"button",onClick:()=>S("leftLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.leftLabelAlign||"left")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Ff,{})})]})]})})]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Text Color"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.leftLabelColor,onChange:L=>S("leftLabelColor",L)}),A.jsx("input",{type:"text",value:f.leftLabelColorText,onChange:L=>S("leftLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),dt("Variable Text Color","leftLabelVariableColors")]})]})]}),lt=()=>A.jsxs("div",{className:"settings-section",children:[A.jsxs("div",{className:"setting-title",children:["Right",A.jsxs("div",{className:"checkbox-container",children:[A.jsx("input",{type:"checkbox",id:"right-visible",checked:f.rightVisible,onChange:L=>S("rightVisible",L.target.checked)}),A.jsx("label",{htmlFor:"right-visible",children:"Visible"})]})]}),A.jsxs("div",{className:"setting-group",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Right Text"}),A.jsx("input",{type:"text",value:f.rightLabelSource,onChange:L=>S("rightLabelSource",L.target.value),className:"full-width-input"})]})}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Font Size"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.rightLabelSize,onChange:L=>C("rightLabelSize",L.target.value),onBlur:L=>E("rightLabelSize",L.target.value)})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Width %"}),A.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:f.rightVisible?f.leftVisible?100-f.leftRightRatio:100:0,onChange:L=>{const V=L.target.value;if(V===""||/^\d*$/.test(V)){const Y=V===""?0:parseInt(V);S("leftRightRatio",100-Y)}},onBlur:L=>{const V=parseInt(L.target.value);isNaN(V)||V<0?S("leftRightRatio",50):V>100?S("leftRightRatio",0):S("leftRightRatio",100-V)},disabled:!f.leftVisible||!f.rightVisible})]})}),A.jsx("div",{className:"setting-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Alignment"}),A.jsxs("div",{style:{display:"flex",gap:"5px"},children:[A.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","left"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="left"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Pf,{})}),A.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","center"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="center"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Yf,{})}),A.jsx("button",{type:"button",onClick:()=>S("rightLabelAlign","right"),style:{padding:"8px 12px",backgroundColor:(f.rightLabelAlign||"right")==="right"?"#61BAFA":"#333",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(Ff,{})})]})]})})]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-color-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Text Color"}),A.jsxs("div",{className:"color-input-group",children:[A.jsx(ea,{value:f.rightLabelColor,onChange:L=>S("rightLabelColor",L)}),A.jsx("input",{type:"text",value:f.rightLabelColorText,onChange:L=>S("rightLabelColorText",L.target.value),placeholder:"Variable or HEX"})]})]})}),dt("Variable Text Color","rightLabelVariableColors")]})]})]}),ct=()=>A.jsxs("div",{className:"settings-section",children:[A.jsx("div",{className:"setting-title",children:"Box Settings"}),A.jsxs("div",{className:"setting-group",children:[A.jsxs("div",{className:"setting-container box-settings-container",children:[A.jsxs("div",{className:"box-settings-row",children:[A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"X-Position"}),A.jsx("input",{type:"number",value:m[0],onChange:L=>{const Y=[parseInt(L.target.value)||0,m[1]],ht=c(Y,f.frame.width,f.frame.height,f.anchorPoint);S("frame",{...f.frame,translate:ht})}})]}),A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"Y-Position"}),A.jsx("input",{type:"number",value:m[1],onChange:L=>{const V=parseInt(L.target.value)||0,Y=[m[0],V],ht=c(Y,f.frame.width,f.frame.height,f.anchorPoint);S("frame",{...f.frame,translate:ht})}})]}),A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"Anchor Point"}),A.jsxs("select",{value:f.anchorPoint,onChange:L=>S("anchorPoint",L.target.value),style:{width:"100%",padding:"8px",backgroundColor:"#1a1a1a",color:"white",border:"1px solid #61BAFA",borderRadius:"4px",fontSize:"14px"},children:[A.jsx("option",{value:"top-left",children:"Top Left"}),A.jsx("option",{value:"top-right",children:"Top Right"}),A.jsx("option",{value:"bottom-left",children:"Bottom Left"}),A.jsx("option",{value:"bottom-right",children:"Bottom Right"}),A.jsx("option",{value:"center",children:"Center"})]})]})]}),A.jsxs("div",{className:"box-settings-row",children:[A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"Width"}),A.jsx("input",{type:"number",value:f.frame.width,onChange:L=>S("frame",{...f.frame,width:parseInt(L.target.value)||100}),min:"10"})]}),A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"Height"}),A.jsx("input",{type:"number",value:f.frame.height,onChange:L=>S("frame",{...f.frame,height:parseInt(L.target.value)||100}),min:"10"})]}),A.jsxs("div",{className:"setting-label box-settings-item",children:[A.jsx("span",{className:"setting-header",children:"Layer"}),A.jsx("input",{type:"number",value:f.zIndex,onChange:L=>S("zIndex",parseInt(L.target.value)||1),min:"1"})]})]})]}),A.jsxs("div",{className:"setting-container",children:[A.jsx("div",{className:"setting-row default-opacity-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Default Opacity (%)"}),A.jsx("input",{type:"text",value:f.opacitySource,onChange:L=>{const V=L.target.value,Y=parseInt(V);isNaN(Y)?p({...f,opacitySource:V}):p({...f,opacitySource:V,opacity:Math.max(0,Math.min(100,Y))})},placeholder:"Number or Variable"})]})}),A.jsx("div",{className:"setting-row variable-opacity-row",children:A.jsxs("div",{className:"setting-label",children:[A.jsx("span",{className:"setting-header",children:"Variable Opacity"}),A.jsx("div",{className:"variable-color-section",children:(f.opacityVariableValues||[]).map(L=>A.jsxs("div",{className:"variable-color-row",children:[A.jsx("input",{type:"text",value:L.variable,onChange:V=>z(L.id,"variable",V.target.value),placeholder:"Variable",className:"variable-input"}),A.jsx("input",{type:"text",value:L.value,onChange:V=>z(L.id,"value",V.target.value),placeholder:"Value",className:"value-input"}),A.jsx("input",{type:"number",value:L.opacity,onChange:V=>{const Y=parseInt(V.target.value);z(L.id,"opacity",isNaN(Y)?100:Math.max(0,Math.min(100,Y)))},placeholder:"Opacity %",min:"0",max:"100",className:"opacity-value-input"}),A.jsx("button",{type:"button",className:"remove-variable-color-button",onClick:()=>N(L.id),children:A.jsx(Dd,{})})]},L.id))}),A.jsx("button",{type:"button",className:"add-variable-color-button",onClick:_,children:A.jsx(ru,{})})]})})]})]})]}),bt=()=>{switch(v){case"full":return ct();case"background":return B();case"header":return q();case"left":return nt();case"right":return lt();default:return B()}};return A.jsx("div",{className:"modal-overlay",onClick:n,children:A.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[A.jsx("div",{className:"modal-header",children:A.jsxs("div",{className:"modal-buttons",children:[A.jsx("button",{onClick:b,className:"modal-save-button",children:"SAVE"}),A.jsx("button",{onClick:n,className:"modal-cancel-button",children:"CANCEL"}),A.jsx("button",{onClick:w,className:"modal-duplicate-button",children:"DUPLICATE"}),A.jsx("button",{onClick:x,className:"modal-delete-button",children:"DELETE"})]})}),A.jsxs("div",{className:"modal-body",children:[A.jsxs("select",{className:"modal-nav-dropdown",value:v,onChange:L=>g(L.target.value),children:[A.jsx("option",{value:"full",children:"Box Settings"}),A.jsx("option",{value:"background",children:"Background"}),A.jsx("option",{value:"header",children:"Header"}),A.jsx("option",{value:"left",children:"Left"}),A.jsx("option",{value:"right",children:"Right"})]}),A.jsxs("div",{className:"modal-nav",children:[A.jsx("div",{className:`nav-item ${v==="full"?"active":""}`,onClick:()=>g("full"),children:A.jsx("img",{src:FE,alt:"Full",className:"nav-icon"})}),A.jsx("div",{className:`nav-item ${v==="background"?"active":""}`,onClick:()=>g("background"),children:A.jsx("img",{src:qE,alt:"Background",className:"nav-icon"})}),A.jsx("div",{className:`nav-item ${v==="header"?"active":""}`,onClick:()=>g("header"),children:A.jsx("img",{src:IE,alt:"Header",className:"nav-icon"})}),A.jsx("div",{className:`nav-item ${v==="left"?"active":""}`,onClick:()=>g("left"),children:A.jsx("img",{src:YE,alt:"Left",className:"nav-icon"})}),A.jsx("div",{className:`nav-item ${v==="right"?"active":""}`,onClick:()=>g("right"),children:A.jsx("img",{src:PE,alt:"Right",className:"nav-icon"})})]}),A.jsx("div",{className:"modal-content-area",children:bt()})]})]})})}const Kf=e=>{const a=/(\\)?(\[(\d+)\])?\$\(([^)]+)\)/g,n=[];let i;for(;(i=a.exec(e))!==null;){const o=i[1]==="\\",u=i[3]?parseInt(i[3]):void 0,c=i[4],f=i[0];n.push({variable:c,connectionIndex:u,isEscaped:o,fullMatch:f})}return n},WE=e=>{const[a,n]=e.split(":",2);return`/api/variable/${a}/${n}/value`},ZE=e=>e.replace(/([*_\[\]()!])/g,"\\$1"),am=e=>{const a={};let n=0,i=e.replace(/\\(\*|_|\[|\]|\(|\)|!)/g,(o,u)=>{const c=`XESCAPEDX${n}XESCAPEDX`;return a[c]=u,n++,c});return i=i.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/_(.*?)_/g,"<em>$1</em>").replace(/!\[([^\]]*)\]\(([^)]+)\)/g,'<img src="$2" alt="$1" style="width: auto; height: 100%;" />').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/\\n/g,`
`).replace(/\n/g,"<br>"),Object.keys(a).forEach(o=>{i=i.replace(new RegExp(o,"g"),a[o])}),i},ry=(e,a,n=[],i=100,o=!1)=>{const[u,c]=ft.useState(()=>{const y={};return Object.entries(a).forEach(([m,b])=>{if(!b)y[m]="";else{const x=Kf(b);let S=b;x.forEach(({fullMatch:C})=>{S=S.replace(C,"")}),y[m]=S}}),y}),[f,p]=ft.useState(()=>{const y={};return Object.entries(a).forEach(([m,b])=>{if(!b)y[m]="";else{const x=Kf(b);let S=b;x.forEach(({fullMatch:C})=>{S=S.replace(C,"")}),y[m]=am(S)}}),y}),v=ft.useMemo(()=>a,[JSON.stringify(a)]),g=ft.useMemo(()=>n,[JSON.stringify(n)]);return ft.useEffect(()=>{const y=async()=>{const x={},S={};for(const[C,E]of Object.entries(v)){if(!E){x[C]="",S[C]="";continue}const w=Kf(E);let M=E;for(const{variable:D,connectionIndex:O,isEscaped:_,fullMatch:N}of w){if(!e){M=M.replace(N,"");continue}try{let z=e;if(O!==void 0)if(O===0)z=e;else{const I=g[O-1];if(I&&I.url)z=I.url;else{console.warn(`Connection [${O}] not found or has no URL`),M=M.replace(N,"");continue}}const j=WE(D),H=await fetch(`${z}${j}`);if(H.ok){const F=await H.text();if(F===D||F==="null"||F===null||F===void 0)M=M.replace(N,"");else{const I=_?ZE(F):F;M=M.replace(N,I)}}else console.warn(`Failed to fetch ${D} from ${z}:`,H.status),M=M.replace(N,"")}catch(z){console.error(`Error fetching ${D}:`,z),M=M.replace(N,"")}}x[C]=M,S[C]=am(M)}c(C=>JSON.stringify(C)!==JSON.stringify(x)?x:C),p(C=>JSON.stringify(C)!==JSON.stringify(S)?S:C)};y();const b=setInterval(()=>{o||y()},e?i:5e3);return()=>clearInterval(b)},[e,v,g,i,o]),{values:u,htmlValues:f}};function QE({onDoubleTap:e,children:a}){const n=ft.useRef(0),i=ft.useRef(null),o=()=>{const f=Date.now(),p=f-n.current;p<300&&p>0?(i.current&&clearTimeout(i.current),e()):i.current=setTimeout(()=>{i.current=null},300),n.current=f},u=f=>{f.preventDefault()},c=f=>{f.preventDefault()};return A.jsx("div",{onTouchEnd:o,onTouchStart:u,onTouchMove:c,style:{touchAction:"none"},children:a})}var fm;const JE=((fm=window.electronAPI)==null?void 0:fm.windowId)||"1",Wf=se.memo(({content:e,style:a,className:n=""})=>{const i=(()=>{if(!e||typeof e!="string")return!0;try{const u=/<img[^>]*>/i.test(e),c=/<iframe[^>]*>/i.test(e),f=/<video[^>]*>/i.test(e),p=/!\[.*?\]\(.*?\)/.test(e);return!(u||c||f||p)}catch(u){return console.error("Error in media detection:",u),!0}})(),o=(()=>{try{return!e||typeof e!="string"?"":i?`<span class="text-only-content">${e}</span>`:e}catch(u){return console.error("Error processing content:",u),e||""}})();return A.jsx("div",{className:n,style:a,dangerouslySetInnerHTML:{__html:o}})});function $E({boxData:e,isSelected:a,onSelect:n,onDeselect:i,onBoxUpdate:o,onDelete:u,onDuplicate:c,gridSize:f=15,companionBaseUrl:p,connections:v=[],refreshRateMs:g=100,isDragging:y=!1,onDragStart:m,onDragEnd:b,boxesLocked:x=!1}){const S=ft.useRef(null),[C,E]=ft.useState(e.frame),[w,M]=ft.useState(!1),[D,O]=ft.useState(""),[_,N]=ft.useState(!1);ft.useEffect(()=>{E(e.frame)},[e.frame]);const z=V=>{const Y=window.innerWidth,ht=window.innerHeight,gt=Math.ceil(Y/V),vt=Math.ceil(ht/V);return{verticalGridLines:Array.from({length:gt+1},(tt,rt)=>rt*V),horizontalGridLines:Array.from({length:vt+1},(tt,rt)=>rt*V)}},[j,H]=ft.useState(()=>z(f));ft.useEffect(()=>{const V=()=>{H(z(f)),i()};return window.addEventListener("resize",V),V(),()=>window.removeEventListener("resize",V)},[f]),ft.useEffect(()=>{const V=()=>i();return document.addEventListener("click",V),()=>document.removeEventListener("click",V)},[i]);const F=V=>{E(V),o({...e,frame:V})};ft.useEffect(()=>{w&&i()},[w,i]);const I=V=>{if(!V||typeof V!="string")return!1;try{return V.startsWith("http://")||V.startsWith("https://")||V.startsWith("data:image/")?!0:[".jpg",".jpeg",".png",".gif",".bmp",".webp",".svg"].some(ht=>V.toLowerCase().endsWith(ht))}catch(Y){return console.error("Error in isImageUrl:",Y),!1}};ft.useEffect(()=>{(async()=>{if(!e.backgroundImage||typeof e.backgroundImage!="string"){O("");return}try{if(I(e.backgroundImage)&&!e.backgroundImage.startsWith("./src/assets/")){O(e.backgroundImage);return}if(e.backgroundImage.startsWith("./src/assets/")){const Y=e.backgroundImage.split("/").pop();if(Y)try{const ht=await X(Y);if(ht){O(ht);return}const gt=localStorage.getItem(`window_${JE}_cached_bg_${Y}`);if(gt){O(gt);return}}catch(ht){console.error("Failed to load background image:",ht)}}}catch(Y){console.error("Error in loadBackgroundImage:",Y)}O("")})()},[e.backgroundImage]);const X=async V=>{try{const Y=indexedDB.open("CompanionDashboardImages",3);return new Promise((ht,gt)=>{Y.onerror=()=>gt(Y.error),Y.onsuccess=()=>{const ut=Y.result.transaction(["images"],"readonly").objectStore("images").get(V);ut.onerror=()=>gt(ut.error),ut.onsuccess=()=>{const Ct=ut.result;ht(Ct?Ct.data:null)}}})}catch(Y){return console.error("Error getting image from IndexedDB:",Y),null}},Q=()=>{const V={};return[e.backgroundVariableColors,e.overlayVariableColors,e.borderVariableColors,e.headerVariableColors,e.headerLabelVariableColors,e.leftLabelVariableColors,e.rightLabelVariableColors].forEach(ht=>{ht&&Array.isArray(ht)&&ht.forEach(gt=>{gt.variable&&(V[gt.variable]=gt.variable)})}),e.opacityVariableValues&&Array.isArray(e.opacityVariableValues)&&e.opacityVariableValues.forEach(ht=>{ht.variable&&(V[ht.variable]=ht.variable)}),e.overlaySizeVariableValues&&Array.isArray(e.overlaySizeVariableValues)&&e.overlaySizeVariableValues.forEach(ht=>{ht.variable&&(V[ht.variable]=ht.variable)}),V},{values:U,htmlValues:G}=ry(p,{headerLabelSource:e.headerLabelSource,leftLabelSource:e.leftLabelSource,rightLabelSource:e.rightLabelSource,backgroundColorTextSource:e.backgroundColorText,overlayColorTextSource:e.overlayColorText,borderColorTextSource:e.borderColorText,headerColorTextSource:e.headerColorText,headerLabelColorTextSource:e.headerLabelColorText,leftLabelColorTextSource:e.leftLabelColorText,rightLabelColorTextSource:e.rightLabelColorText,opacitySource:e.opacitySource,overlaySizeSource:e.overlaySizeSource,...Q()},v,g,y),Z=()=>{if(e.opacityVariableValues&&Array.isArray(e.opacityVariableValues)){for(const Y of e.opacityVariableValues)if(Y&&Y.variable&&Y.value&&(U[Y.variable]||"")===Y.value)return Y.opacity/100}if(e.opacitySource&&e.opacitySource.includes("$(")&&e.opacitySource.includes(")")&&U.opacitySource){const Y=parseInt(U.opacitySource);if(!isNaN(Y))return Math.max(0,Math.min(100,Y))/100}return e.opacity/100},J=()=>{if(e.overlaySizeVariableValues&&Array.isArray(e.overlaySizeVariableValues)){for(const Y of e.overlaySizeVariableValues)if(Y&&Y.variable&&Y.value&&(U[Y.variable]||"")===Y.value)return Y.size}if(e.overlaySizeSource&&e.overlaySizeSource.includes("$(")&&e.overlaySizeSource.includes(")")&&U.overlaySizeSource){const Y=parseInt(U.overlaySizeSource);if(!isNaN(Y))return Math.max(0,Math.min(100,Y))}return e.overlaySize},dt=(V,Y,ht,gt)=>{if(V&&Array.isArray(V)){for(const vt of V)if(vt&&vt.variable&&vt.value&&(gt[vt.variable]||"")===vt.value)return vt.color}return Y&&Y.trim()?gt[Y]||Y:ht},B=()=>{try{if(e.backgroundVariableColors&&Array.isArray(e.backgroundVariableColors)){for(const V of e.backgroundVariableColors)if(V&&V.variable&&V.value&&(U[V.variable]||"")===V.value)return V.color||""}return e.backgroundColorText&&typeof e.backgroundColorText=="string"&&e.backgroundColorText.trim()?U.backgroundColorTextSource||e.backgroundColorText||"":e.backgroundColor||"#262626"}catch(V){return console.error("Error in resolveBoxBackgroundColor:",V),e.backgroundColor||"#262626"}},q=()=>{try{if(e.overlayVariableColors&&Array.isArray(e.overlayVariableColors)){for(const V of e.overlayVariableColors)if(V&&V.variable&&V.value&&(U[V.variable]||"")===V.value)return V.color||""}return e.overlayColorText&&typeof e.overlayColorText=="string"&&e.overlayColorText.trim()?U.overlayColorTextSource||e.overlayColorText||"":e.overlayColor||"#00000000"}catch(V){return console.error("Error in resolveOverlayColor:",V),e.overlayColor||"#00000000"}},nt=()=>{try{const V=B(),Y=(e.backgroundImageOpacity||100)/100;return V&&I(V)?{backgroundColor:"transparent",position:"relative","--background-image":`url("${V}")`,"--background-size":e.backgroundImageSize||"cover","--background-opacity":Y}:D&&typeof D=="string"?{backgroundColor:"transparent",position:"relative","--background-image":`url(${D})`,"--background-size":e.backgroundImageSize||"cover","--background-opacity":Y}:{backgroundColor:V||"#262626"}}catch(V){return console.error("Error in getBackgroundStyle:",V),{backgroundColor:e.backgroundColor||"#262626"}}},lt=ft.useMemo(()=>{try{return{header:G.headerLabelSource||"",left:G.leftLabelSource||"",right:G.rightLabelSource||""}}catch(V){return console.error("Error in displayHtmlLabels:",V),{header:"",left:"",right:""}}},[G.headerLabelSource,G.leftLabelSource,G.rightLabelSource]),ct=ft.useMemo(()=>{const V=e.headerLabelAlign||"center",Y={left:"flex-start",center:"center",right:"flex-end"};return{backgroundColor:dt(e.headerVariableColors,e.headerColorText,e.headerColor,U),color:dt(e.headerLabelVariableColors,e.headerLabelColorText,e.headerLabelColor,U),fontSize:`${e.headerLabelSize}px`,textAlign:V,display:e.headerLabelVisible?"flex":"none",alignItems:"center",justifyContent:Y[V]}},[e.headerVariableColors,e.headerColorText,e.headerColor,e.headerLabelVariableColors,e.headerLabelColorText,e.headerLabelColor,e.headerLabelSize,e.headerLabelVisible,e.headerLabelAlign,U]),bt=ft.useMemo(()=>{const V=e.leftRightRatio??50;let Y;e.leftVisible?e.rightVisible?Y=V:Y=100:Y=0;const ht=e.leftLabelAlign||"left",gt={left:"flex-start",center:"center",right:"flex-end"};return{color:dt(e.leftLabelVariableColors,e.leftLabelColorText,e.leftLabelColor,U),fontSize:`${e.leftLabelSize}px`,display:e.leftVisible?"flex":"none",justifyContent:gt[ht],textAlign:ht,alignItems:"center",flexBasis:`${Y}%`}},[e.leftLabelVariableColors,e.leftLabelColorText,e.leftLabelColor,e.leftLabelSize,e.leftVisible,e.rightVisible,e.leftRightRatio,e.leftLabelAlign,U]),L=ft.useMemo(()=>{const V=e.leftRightRatio??50;let Y;e.rightVisible?e.leftVisible?Y=100-V:Y=100:Y=0;const ht=e.rightLabelAlign||"right",gt={left:"flex-start",center:"center",right:"flex-end"};return{color:dt(e.rightLabelVariableColors,e.rightLabelColorText,e.rightLabelColor,U),fontSize:`${e.rightLabelSize}px`,display:e.rightVisible?"flex":"none",justifyContent:gt[ht],textAlign:ht,alignItems:"center",flexBasis:`${Y}%`}},[e.rightLabelVariableColors,e.rightLabelColorText,e.rightLabelColor,e.rightLabelSize,e.rightVisible,e.leftVisible,e.leftRightRatio,e.rightLabelAlign,U]);return A.jsxs("div",{children:[A.jsx(QE,{onDoubleTap:()=>{x||M(!0)},children:A.jsxs("div",{className:"box-container",children:[A.jsxs("div",{ref:S,className:`box ${e.noBorder?"no-border":"with-border"} ${D||B()&&I(B())?"has-background-image":""}`,onClick:V=>{if(!x)if(V.stopPropagation(),V.altKey){const Y={...e,id:Ea(),frame:{...e.frame,translate:[e.frame.translate[0]+20,e.frame.translate[1]+20]},leftRightRatio:e.leftRightRatio??50};c(Y)}else n()},onDoubleClick:V=>{x||(V.stopPropagation(),M(!0))},style:{width:`${C.width}px`,height:`${C.height}px`,...nt(),border:e.noBorder?"none":`5px solid ${dt(e.borderVariableColors,e.borderColorText,e.borderColor,U)}`,WebkitTransform:`translate(${C.translate[0]}px, ${C.translate[1]}px) translateZ(0)`,transform:`translate(${C.translate[0]}px, ${C.translate[1]}px) translateZ(0)`,zIndex:e.zIndex,opacity:Z(),pointerEvents:x?"none":"auto"},children:[A.jsx("div",{style:{position:"absolute",...e.overlayDirection==="left"?{top:0,left:0,bottom:0,width:`${J()}%`}:e.overlayDirection==="right"?{top:0,right:0,bottom:0,width:`${J()}%`}:e.overlayDirection==="top"?{top:0,left:0,right:0,height:`${J()}%`}:{bottom:0,left:0,right:0,height:`${J()}%`},backgroundColor:q(),pointerEvents:"none",zIndex:1,transition:"width 0.3s ease, height 0.3s ease"}}),A.jsxs("div",{style:{pointerEvents:x?"auto":"none",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",position:"relative",zIndex:2},children:[A.jsx(Wf,{content:lt.header,className:"header",style:ct},`${e.id}-header`),A.jsxs("div",{className:"content-container",children:[A.jsx(Wf,{content:lt.left,className:"content",style:bt},`${e.id}-left`),A.jsx(Wf,{content:lt.right,className:"content",style:L},`${e.id}-right`)]})]})]}),a&&!x&&A.jsx(yE,{target:S,draggable:!0,resizable:!0,snappable:!0,snapThreshold:15,snapDirections:{top:!0,left:!0,bottom:!0,right:!0},verticalGuidelines:j.verticalGridLines,horizontalGuidelines:j.horizontalGridLines,isDisplaySnapDigit:!0,useResizeObserver:!0,touchAction:"none",dragContainer:document.body,preventDefault:!0,stopDragging:!1,onDrag:({beforeTranslate:V})=>{_||(m==null||m(),N(!0));const Y={...C,translate:[V[0],V[1]]};E(Y),S.current.style.transform=`translate(${V[0]}px, ${V[1]}px)`},onDragEnd:({lastEvent:V})=>{if(b==null||b(),N(!1),V){const Y={...C,translate:[V.beforeTranslate[0],V.beforeTranslate[1]]};F(Y)}},onResize:({width:V,height:Y,drag:ht})=>{_||(m==null||m(),N(!0));const gt=ht.beforeTranslate,vt={translate:[gt[0],gt[1]],width:V,height:Y};E(vt),S.current.style.width=`${V}px`,S.current.style.height=`${Y}px`,S.current.style.transform=`translate(${gt[0]}px, ${gt[1]}px)`},onResizeEnd:({lastEvent:V})=>{if(b==null||b(),N(!1),V){const Y={translate:[V.drag.beforeTranslate[0],V.drag.beforeTranslate[1]],width:V.width,height:V.height};F(Y)}}})]})}),w&&A.jsx(KE,{boxData:e,onSave:V=>{o(V),M(!1)},onCancel:()=>M(!1),onDelete:V=>{u(V),M(!1)},onDuplicate:V=>{c(V),M(!1)}})]})}function Us(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nm={},im;function tT(){return im||(im=1,function e(a,n,i){function o(f,p){if(!n[f]){if(!a[f]){var v=typeof Us=="function"&&Us;if(!p&&v)return v(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var y=n[f]={exports:{}};a[f][0].call(y.exports,function(m){var b=a[f][1][m];return o(b||m)},y,y.exports,e,a,n,i)}return n[f].exports}for(var u=typeof Us=="function"&&Us,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(e,a,n){var i,o,u;i=function(c,f){var p;return p=setTimeout(f,c),{stop:function(){return clearTimeout(p)}}},u=function(c,f){var p;return p=setInterval(f,c),{stop:function(){return clearInterval(p)}}},o=function(c){return/in/.test(document.readyState)?i(10,function(){return o(c)}):c()},function(c){var f,p,v,g,y,m,b,x,S,C;return f=c.FontDetective={},b="Helvetica,Lucida Grande,Lucida Sans,Tahoma,Arial,Geneva,Monaco,Verdana,Microsoft Sans Serif,Trebuchet MS,Courier New,Times New Roman,Courier,Lucida Bright,Lucida Sans Typewriter,URW Chancery L,Comic Sans MS,Georgia,Palatino Linotype,Lucida Sans Unicode,Times,Century Schoolbook L,URW Gothic L,Franklin Gothic Medium,Lucida Console,Impact,URW Bookman L,Helvetica Neue,Nimbus Sans L,URW Palladio L,Nimbus Mono L,Nimbus Roman No9 L,Arial Black,Sylfaen,MV Boli,Estrangelo Edessa,Tunga,Gautami,Raavi,Mangal,Shruti,Latha,Kartika,Vrinda,Arial Narrow,Century Gothic,Garamond,Book Antiqua,Bookman Old Style,Calibri,Cambria,Candara,Corbel,Monotype Corsiva,Cambria Math,Consolas,Constantia,MS Reference Sans Serif,MS Mincho,Segoe UI,Arial Unicode MS,Tempus Sans ITC,Kristen ITC,Mistral,Meiryo UI,Juice ITC,Papyrus,Bradley Hand ITC,French Script MT,Malgun Gothic,Microsoft YaHei,Gisha,Leelawadee,Microsoft JhengHei,Haettenschweiler,Microsoft Himalaya,Microsoft Uighur,MoolBoran,Jokerman,DFKai-SB,KaiTi,SimSun-ExtB,Freestyle Script,Vivaldi,FangSong,MingLiU-ExtB,MingLiU_HKSCS,MingLiU_HKSCS-ExtB,PMingLiU-ExtB,Copperplate Gothic Light,Copperplate Gothic Bold,Franklin Gothic Book,Maiandra GD,Perpetua,Eras Demi ITC,Felix Titling,Franklin Gothic Demi,Pristina,Edwardian Script ITC,OCR A Extended,Engravers MT,Eras Light ITC,Franklin Gothic Medium Cond,Rockwell Extra Bold,Rockwell,Curlz MT,Blackadder ITC,Franklin Gothic Heavy,Franklin Gothic Demi Cond,Lucida Handwriting,Segoe UI Light,Segoe UI Semibold,Lucida Calligraphy,Cooper Black,Viner Hand ITC,Britannic Bold,Wide Latin,Old English Text MT,Broadway,Footlight MT Light,Harrington,Snap ITC,Onyx,Playbill,Bauhaus 93,Baskerville Old Face,Algerian,Matura MT Script Capitals,Stencil,Batang,Chiller,Harlow Solid Italic,Kunstler Script,Bernard MT Condensed,Informal Roman,Vladimir Script,Bell MT,Colonna MT,High Tower Text,Californian FB,Ravie,Segoe Script,Brush Script MT,SimSun,Arial Rounded MT Bold,Berlin Sans FB,Centaur,Niagara Solid,Showcard Gothic,Niagara Engraved,Segoe Print,Gabriola,Gill Sans MT,Iskoola Pota,Calisto MT,Script MT Bold,Century Schoolbook,Berlin Sans FB Demi,Magneto,Arabic Typesetting,DaunPenh,Mongolian Baiti,DokChampa,Euphemia,Kalinga,Microsoft Yi Baiti,Nyala,Bodoni MT Poster Compressed,Goudy Old Style,Imprint MT Shadow,Gill Sans MT Condensed,Gill Sans Ultra Bold,Palace Script MT,Lucida Fax,Gill Sans MT Ext Condensed Bold,Goudy Stout,Eras Medium ITC,Rage Italic,Rockwell Condensed,Castellar,Eras Bold ITC,Forte,Gill Sans Ultra Bold Condensed,Perpetua Titling MT,Agency FB,Tw Cen MT,Gigi,Tw Cen MT Condensed,Aparajita,Gloucester MT Extra Condensed,Tw Cen MT Condensed Extra Bold,PMingLiU,Bodoni MT,Bodoni MT Black,Bodoni MT Condensed,MS Gothic,GulimChe,MS UI Gothic,MS PGothic,Gulim,MS PMincho,BatangChe,Dotum,DotumChe,Gungsuh,GungsuhChe,MingLiU,NSimSun,SimHei,DejaVu Sans,DejaVu Sans Condensed,DejaVu Sans Mono,DejaVu Serif,DejaVu Serif Condensed,Eurostile,Matisse ITC,Bitstream Vera Sans Mono,Bitstream Vera Sans,Staccato222 BT,Bitstream Vera Serif,Broadway BT,ParkAvenue BT,Square721 BT,Calligraph421 BT,MisterEarl BT,Cataneo BT,Ruach LET,Rage Italic LET,La Bamba LET,Blackletter686 BT,John Handy LET,Scruff LET,Westwood LET".split(",").sort(),C=[],g=!1,x=!1,v=document.createElement("div"),v.id="font-detective",p=function(){function E(w,M,D){this.name=w,this.type=M,this.style=D}return E.prototype.toString=function(){return'"'+this.name.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},E}(),y=function(){var E,w,M,D;return E=["monospace","sans-serif","serif"],D=document.createElement("span"),D.innerHTML="mmmmmmmmmmlli",D.style.fontSize="72px",M={},w={},{init:function(){var O,_,N,z;for(document.body.appendChild(v),z=[],_=0,N=E.length;_<N;_++)O=E[_],D.style.fontFamily=O,v.appendChild(D),M[O]=D.offsetWidth,w[O]=D.offsetHeight,z.push(v.removeChild(D));return z},check:function(O){var _,N,z,j;for(z=0,j=E.length;z<j;z++)if(_=E[z],D.style.fontFamily=O+", "+_,v.appendChild(D),N=D.offsetWidth!==M[_]||D.offsetHeight!==w[_],v.removeChild(D),N)return!0;return!1}}}(),m=function(){if(!x)return x=!0,f.incomplete=!0,o(function(E){return function(){var w;return S(function(){var M,D,O;for(O=[],M=0,D=b.length;M<D;M++)w=b[M],O.push(new p(w));return O}())}}())},S=function(E){var w,M;return y.init(),w=0,M=u(20,function(){var D,O,_,N,z,j,H,F,I,X;for(N=0;N<=5;N++){if(_=E[w],D=y.check(_),D)for(C.push(_),I=f.each.callbacks,z=0,H=I.length;z<H;z++)O=I[z],O(_);if(w++,w>=E.length){for(M.stop(),X=f.all.callbacks,j=0,F=X.length;j<F;j++)O=X[j],O(C);f.all.callbacks=[],f.each.callbacks=[],g=!0;return}}})},f.preload=m,f.each=function(E){var w,M,D;for(M=0,D=C.length;M<D;M++)w=C[M],E(w);if(!g)return f.each.callbacks.push(E),m()},f.each.callbacks=[],f.all=function(E){return g?E(C):(f.all.callbacks.push(E),m())},f.all.callbacks=[]}(window)},{}]},{},[1])),nm}tT();const eT=["Times New Roman","Georgia","Times","Palatino","Baskerville","Hoefler Text","Palatino Linotype","serif"],rT=["Arial","Helvetica","Helvetica Neue","Verdana","Tahoma","Segoe UI","Calibri","Trebuchet MS","Lucida Sans Unicode","Liberation Sans","DejaVu Sans","Ubuntu","Cantarell","Noto Sans","system-ui","ui-sans-serif","sans-serif"],aT=["Courier New","Monaco","Menlo","Consolas","Lucida Console","SF Mono","Courier","Liberation Mono","DejaVu Sans Mono","Ubuntu Mono","Noto Mono","ui-monospace","monospace"],nT=["Apple Chancery","Zapfino","Comic Sans MS","cursive"],iT=e=>{const a=e.toLowerCase();return a.includes("mono")||a.includes("courier")||a.includes("consolas")||a.includes("menlo")||a.includes("monaco")||a.includes("inconsolata")||a.includes("code")||a.includes("terminal")||a.includes("fixed")?"monospace":a.includes("serif")&&!a.includes("sans")||a.includes("times")||a.includes("georgia")||a.includes("palatino")||a.includes("baskerville")||a.includes("garamond")||a.includes("cambria")?"serif":a.includes("script")||a.includes("cursive")||a.includes("handwriting")||a.includes("brush")||a.includes("calligraphy")||a.includes("chancery")||a.includes("zapfino")||a.includes("comic")?"cursive":a.includes("display")||a.includes("decorative")||a.includes("ornament")||a.includes("fantasy")||a.includes("impact")||a.includes("black")||a.includes("ultra")||a.includes("heavy")?"display":"sans-serif"},lT=async()=>{try{const e=await fetch("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key=AIzaSyCaayBwQM10HMcVHs5KWhc97CvsWeD-Yt4",{signal:AbortSignal.timeout(5e3)});return e.ok?(await e.json()).items||[]:[]}catch{return[]}},oT=({value:e,onChange:a,className:n=""})=>{const[i,o]=ft.useState(!1),[u,c]=ft.useState(""),[f,p]=ft.useState([]),[v,g]=ft.useState(!1),[y,m]=ft.useState([]),[b,x]=ft.useState(!1),S=U=>{const G=U.replace(/ /g,"+");if(document.querySelector(`link[href*="${G}"]`))return;const J=document.createElement("link");J.href=`https://fonts.googleapis.com/css2?family=${G}:wght@300;400;500;600;700&display=swap`,J.rel="stylesheet",document.head.appendChild(J)},C=(U,G)=>{G.stopPropagation(),y.some(J=>J.family===U)&&S(U),a(U),o(!1),c("")},w=(()=>{const U={serif:[],sansSerif:[],monospace:[],cursive:[],display:[]};y.forEach(Z=>{switch(Z.category){case"serif":U.serif.push(Z.family);break;case"sans-serif":U.sansSerif.push(Z.family);break;case"monospace":U.monospace.push(Z.family);break;case"handwriting":U.cursive.push(Z.family);break;case"display":U.display.push(Z.family);break;default:U.sansSerif.push(Z.family)}});const G={serif:[],sansSerif:[],monospace:[],cursive:[],display:[]};return f.forEach(Z=>{switch(iT(Z)){case"serif":G.serif.push(Z);break;case"sans-serif":G.sansSerif.push(Z);break;case"monospace":G.monospace.push(Z);break;case"cursive":G.cursive.push(Z);break;case"display":G.display.push(Z);break}}),{serif:[...new Set([...U.serif,...eT,...G.serif])],sansSerif:[...new Set([...U.sansSerif,...rT,...G.sansSerif])],monospace:[...new Set([...U.monospace,...aT,...G.monospace])],cursive:[...new Set([...U.cursive,...nT,...G.cursive])],display:[...new Set([...U.display,...G.display])]}})(),M=u.toLowerCase(),D=U=>U.filter(G=>G.toLowerCase().includes(M)),O=M.includes("serif")&&!M.includes("sans"),_=M.includes("sans")||M.includes("serif")&&M.includes("sans"),N=M.includes("mono")||M.includes("code")||M.includes("fixed"),z=M.includes("cursive")||M.includes("script")||M.includes("handwriting"),j=M.includes("display")||M.includes("decorative"),H=O?w.serif:D(w.serif),F=_?w.sansSerif:D(w.sansSerif),I=N?w.monospace:D(w.monospace),X=z?w.cursive:D(w.cursive),Q=j?w.display:D(w.display);return ft.useEffect(()=>{b||lT().then(U=>{m(U),x(!0)})},[b]),ft.useEffect(()=>{v||window.FontDetective.all(U=>{const G=U.map(Z=>Z.name);p(G),g(!0)})},[v]),ft.useEffect(()=>{e&&y.some(U=>U.family===e)&&S(e)},[e,y]),ft.useEffect(()=>{const U=G=>{G.target.closest(".font-picker")||o(!1)};return i&&document.addEventListener("click",U),()=>{document.removeEventListener("click",U)}},[i]),A.jsxs("div",{className:`font-picker ${n}`,children:[A.jsxs("button",{type:"button",className:"font-picker-button",onClick:()=>o(!i),children:[e||"Select Font",A.jsx("span",{className:"font-picker-arrow",children:i?"":""})]}),i&&A.jsxs("div",{className:"font-picker-dropdown",children:[A.jsx("input",{type:"text",placeholder:"Search fonts...",value:u,onChange:U=>c(U.target.value),className:"font-picker-search"}),A.jsxs("div",{className:"font-picker-list",children:[H.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-category-header",children:"Serif"}),H.map(U=>A.jsx("div",{className:`font-picker-item ${e===U?"selected":""}`,onClick:G=>C(U,G),children:U},U))]}),F.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-category-header",children:"Sans Serif"}),F.map(U=>A.jsx("div",{className:`font-picker-item ${e===U?"selected":""}`,onClick:G=>C(U,G),children:U},U))]}),I.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-category-header",children:"Monospace"}),I.map(U=>A.jsx("div",{className:`font-picker-item ${e===U?"selected":""}`,onClick:G=>C(U,G),children:U},U))]}),X.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-category-header",children:"Cursive"}),X.map(U=>A.jsx("div",{className:`font-picker-item ${e===U?"selected":""}`,onClick:G=>C(U,G),children:U},U))]}),Q.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"font-category-header",children:"Display"}),Q.map(U=>A.jsx("div",{className:`font-picker-item ${e===U?"selected":""}`,onClick:G=>C(U,G),children:U},U))]}),H.length===0&&F.length===0&&I.length===0&&X.length===0&&Q.length===0&&A.jsx("div",{className:"font-picker-no-results",children:"No fonts found"})]})]})]})},sT="modulepreload",uT=function(e,a){return new URL(e,a).href},lm={},ay=function(a,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const f=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=c(n.map(g=>{if(g=uT(g,i),g in lm)return;lm[g]=!0;const y=g.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(!!i)for(let S=f.length-1;S>=0;S--){const C=f[S];if(C.href===g&&(!y||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${m}`))return;const x=document.createElement("link");if(x.rel=y?"stylesheet":sT,y||(x.as="script"),x.crossOrigin="",x.href=g,v&&x.setAttribute("nonce",v),document.head.appendChild(x),y)return new Promise((S,C)=>{x.addEventListener("load",S),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return a().catch(u)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ui;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ui||(Ui={}));class Zf extends Error{constructor(a,n,i){super(a),this.message=a,this.code=n,this.data=i}}const cT=e=>{var a,n;return e!=null&&e.androidBridge?"android":!((n=(a=e==null?void 0:e.webkit)===null||a===void 0?void 0:a.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},fT=e=>{const a=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},i=n.Plugins=n.Plugins||{},o=()=>a!==null?a.name:cT(e),u=()=>o()!=="web",c=y=>{const m=v.get(y);return!!(m!=null&&m.platforms.has(o())||f(y))},f=y=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(b=>b.name===y)},p=y=>e.console.error(y),v=new Map,g=(y,m={})=>{const b=v.get(y);if(b)return console.warn(`Capacitor plugin "${y}" already registered. Cannot register plugins twice.`),b.proxy;const x=o(),S=f(y);let C;const E=async()=>(!C&&x in m?C=typeof m[x]=="function"?C=await m[x]():C=m[x]:a!==null&&!C&&"web"in m&&(C=typeof m.web=="function"?C=await m.web():C=m.web),C),w=(z,j)=>{var H,F;if(S){const I=S==null?void 0:S.methods.find(X=>j===X.name);if(I)return I.rtype==="promise"?X=>n.nativePromise(y,j.toString(),X):(X,Q)=>n.nativeCallback(y,j.toString(),X,Q);if(z)return(H=z[j])===null||H===void 0?void 0:H.bind(z)}else{if(z)return(F=z[j])===null||F===void 0?void 0:F.bind(z);throw new Zf(`"${y}" plugin is not implemented on ${x}`,Ui.Unimplemented)}},M=z=>{let j;const H=(...F)=>{const I=E().then(X=>{const Q=w(X,z);if(Q){const U=Q(...F);return j=U==null?void 0:U.remove,U}else throw new Zf(`"${y}.${z}()" is not implemented on ${x}`,Ui.Unimplemented)});return z==="addListener"&&(I.remove=async()=>j()),I};return H.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:z,writable:!1,configurable:!1}),H},D=M("addListener"),O=M("removeListener"),_=(z,j)=>{const H=D({eventName:z},j),F=async()=>{const X=await H;O({eventName:z,callbackId:X},j)},I=new Promise(X=>H.then(()=>X({remove:F})));return I.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await F()},I},N=new Proxy({},{get(z,j){switch(j){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?_:D;case"removeListener":return O;default:return M(j)}}});return i[y]=N,v.set(y,{name:y,proxy:N,platforms:new Set([...Object.keys(m),...S?[x]:[]])}),N};return n.convertFileSrc||(n.convertFileSrc=y=>y),n.getPlatform=o,n.handleError=p,n.isNativePlatform=u,n.isPluginAvailable=c,n.registerPlugin=g,n.Exception=Zf,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},dT=e=>e.Capacitor=fT(e),ao=dT(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),pu=ao.registerPlugin;class ny{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(a,n){let i=!1;this.listeners[a]||(this.listeners[a]=[],i=!0),this.listeners[a].push(n);const u=this.windowListeners[a];u&&!u.registered&&this.addWindowListener(u),i&&this.sendRetainedArgumentsForEvent(a);const c=async()=>this.removeListener(a,n);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const a in this.windowListeners)this.removeWindowListener(this.windowListeners[a]);this.windowListeners={}}notifyListeners(a,n,i){const o=this.listeners[a];if(!o){if(i){let u=this.retainedEventArguments[a];u||(u=[]),u.push(n),this.retainedEventArguments[a]=u}return}o.forEach(u=>u(n))}hasListeners(a){var n;return!!(!((n=this.listeners[a])===null||n===void 0)&&n.length)}registerWindowListener(a,n){this.windowListeners[n]={registered:!1,windowEventName:a,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(a="not implemented"){return new ao.Exception(a,Ui.Unimplemented)}unavailable(a="not available"){return new ao.Exception(a,Ui.Unavailable)}async removeListener(a,n){const i=this.listeners[a];if(!i)return;const o=i.indexOf(n);this.listeners[a].splice(o,1),this.listeners[a].length||this.removeWindowListener(this.windowListeners[a])}addWindowListener(a){window.addEventListener(a.windowEventName,a.handler),a.registered=!0}removeWindowListener(a){a&&(window.removeEventListener(a.windowEventName,a.handler),a.registered=!1)}sendRetainedArgumentsForEvent(a){const n=this.retainedEventArguments[a];n&&(delete this.retainedEventArguments[a],n.forEach(i=>{this.notifyListeners(a,i)}))}}const om=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),sm=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class vT extends ny{async getCookies(){const a=document.cookie,n={};return a.split(";").forEach(i=>{if(i.length<=0)return;let[o,u]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=sm(o).trim(),u=sm(u).trim(),n[o]=u}),n}async setCookie(a){try{const n=om(a.key),i=om(a.value),o=`; expires=${(a.expires||"").replace("expires=","")}`,u=(a.path||"/").replace("path=",""),c=a.url!=null&&a.url.length>0?`domain=${a.url}`:"";document.cookie=`${n}=${i||""}${o}; path=${u}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(a){try{document.cookie=`${a.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const a=document.cookie.split(";")||[];for(const n of a)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(a){return Promise.reject(a)}}async clearAllCookies(){try{await this.clearCookies()}catch(a){return Promise.reject(a)}}}pu("CapacitorCookies",{web:()=>new vT});const pT=async e=>new Promise((a,n)=>{const i=new FileReader;i.onload=()=>{const o=i.result;a(o.indexOf(",")>=0?o.split(",")[1]:o)},i.onerror=o=>n(o),i.readAsDataURL(e)}),hT=(e={})=>{const a=Object.keys(e);return Object.keys(e).map(o=>o.toLocaleLowerCase()).reduce((o,u,c)=>(o[u]=e[a[c]],o),{})},gT=(e,a=!0)=>e?Object.entries(e).reduce((i,o)=>{const[u,c]=o;let f,p;return Array.isArray(c)?(p="",c.forEach(v=>{f=a?encodeURIComponent(v):v,p+=`${u}=${f}&`}),p.slice(0,-1)):(f=a?encodeURIComponent(c):c,p=`${u}=${f}`),`${i}&${p}`},"").substr(1):null,mT=(e,a={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},a),o=hT(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[c,f]of Object.entries(e.data||{}))u.set(c,f);n.body=u.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const u=new FormData;if(e.data instanceof FormData)e.data.forEach((f,p)=>{u.append(p,f)});else for(const f of Object.keys(e.data))u.append(f,e.data[f]);n.body=u;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(o.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class yT extends ny{async request(a){const n=mT(a,a.webFetchExtra),i=gT(a.params,a.shouldEncodeUrlParams),o=i?`${a.url}?${i}`:a.url,u=await fetch(o,n),c=u.headers.get("content-type")||"";let{responseType:f="text"}=u.ok?a:{};c.includes("application/json")&&(f="json");let p,v;switch(f){case"arraybuffer":case"blob":v=await u.blob(),p=await pT(v);break;case"json":p=await u.json();break;case"document":case"text":default:p=await u.text()}const g={};return u.headers.forEach((y,m)=>{g[m]=y}),{data:p,headers:g,status:u.status,url:u.url}}async get(a){return this.request(Object.assign(Object.assign({},a),{method:"GET"}))}async post(a){return this.request(Object.assign(Object.assign({},a),{method:"POST"}))}async put(a){return this.request(Object.assign(Object.assign({},a),{method:"PUT"}))}async patch(a){return this.request(Object.assign(Object.assign({},a),{method:"PATCH"}))}async delete(a){return this.request(Object.assign(Object.assign({},a),{method:"DELETE"}))}}pu("CapacitorHttp",{web:()=>new yT});function bT(e){e.CapacitorUtils.Synapse=new Proxy({},{get(a,n){return new Proxy({},{get(i,o){return(u,c,f)=>{const p=e.Capacitor.Plugins[n];if(p===void 0){f(new Error(`Capacitor plugin ${n} not found`));return}if(typeof p[o]!="function"){f(new Error(`Method ${o} not found in Capacitor plugin ${n}`));return}(async()=>{try{const v=await p[o](u);c(v)}catch(v){f(v)}})()}}})}})}function ST(e){e.CapacitorUtils.Synapse=new Proxy({},{get(a,n){return e.cordova.plugins[n]}})}function xT(e=!1){window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?bT(window):window.cordova!==void 0&&ST(window)}var Od;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(Od||(Od={}));var Rd;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(Rd||(Rd={}));const CT=pu("Filesystem",{web:()=>ay(()=>import("./web-Cf4Wbp88.js"),[],import.meta.url).then(e=>new e.FilesystemWeb)});xT();const ET=pu("Share",{web:()=>ay(()=>import("./web-kh-LnGj-.js"),[],import.meta.url).then(e=>new e.ShareWeb)}),iy=""+new URL("dashboard-DHB3HJge.png",import.meta.url).href,TT="1.4.0",AT={version:TT};var dm;const Oe=((dm=window.electronAPI)==null?void 0:dm.windowId)||"1",Qf=`window_${Oe}_companion_connection_url`,Ul=`window_${Oe}_companion_connections`,Jf="global_font_family",wT=ft.forwardRef(({onNewBox:e,connectionUrl:a,onConnectionUrlChange:n,onConnectionsChange:i,onConfigRestore:o,onDeleteAllBoxes:u,canvasBackgroundColor:c,canvasBackgroundColorText:f,canvasBackgroundVariableColors:p,onCanvasBackgroundColorChange:v,onCanvasBackgroundColorTextChange:g,onCanvasBackgroundVariableColorsChange:y,canvasBackgroundImageOpacity:m,onCanvasBackgroundImageOpacityChange:b,refreshRateMs:x,onRefreshRateMsChange:S,fontFamily:C,onFontFamilyChange:E,boxesLocked:w,onBoxesLockedChange:M,onToggle:D},O)=>{const[_,N]=ft.useState(""),[z,j]=ft.useState(null),[H,F]=ft.useState([]),I=ft.useRef([]),[X,Q]=ft.useState({}),[U,G]=ft.useState({}),Z=ft.useRef(null),[J,dt]=ft.useState(!1),B=ft.useRef(null),[q,nt]=ft.useState(null),[lt,ct]=ft.useState(null),[bt,L]=ft.useState(!1),V=ft.useRef(null),[Y,ht]=ft.useState(!1),[gt,vt]=ft.useState(null),tt=typeof window<"u"&&window.electronAPI,rt=!1,ut=tt||rt,[Ct,Mt]=ft.useState(8100),[Vt,Bt]=ft.useState(!1),[Ot,Ut]=ft.useState("Stopped"),[Zt,Yt]=ft.useState([]),$t=async()=>{var at;try{const pt=await((at=window.electronAPI)==null?void 0:at.webServer.start(Ct));pt!=null&&pt.success?(Bt(!0),Ut(`Running on port ${pt.port}`),localStorage.setItem(`window_${Oe}_web_server_port`,Ct.toString()),console.log(`Web server started on port ${pt.port}`)):Ut(`Failed: ${(pt==null?void 0:pt.error)||"Unknown error"}`)}catch(pt){console.error("Failed to start web server:",pt),Ut("Failed to start")}},me=async()=>{var at;try{const pt=await((at=window.electronAPI)==null?void 0:at.webServer.stop());pt!=null&&pt.success?(Bt(!1),Ut("Stopped"),console.log("Web server stopped")):Ut(`Failed to stop: ${(pt==null?void 0:pt.error)||"Unknown error"}`)}catch(pt){console.error("Failed to stop web server:",pt),Ut("Failed to stop")}},ye=async()=>{var at;try{const pt=await((at=window.electronAPI)==null?void 0:at.webServer.getStatus());pt&&(Bt(pt.isRunning),Ut(pt.isRunning?`Running on port ${pt.port}`:"Stopped"),Yt(pt.endpoints||[]),pt.isRunning&&Mt(pt.port))}catch(pt){console.error("Failed to check web server status:",pt)}};ft.useEffect(()=>{if(ut){const at=localStorage.getItem(`window_${Oe}_web_server_port`);at&&Mt(parseInt(at,10)),ye()}},[ut]),ft.useEffect(()=>{if(ut){const at=setInterval(ye,5e3);return()=>clearInterval(at)}},[ut]),ft.useEffect(()=>{N(a)},[a]),ft.useEffect(()=>{I.current=H},[H]),ft.useEffect(()=>{const at=()=>{const Tt=localStorage.getItem(`window_${Oe}_companion_connections`);if(Tt)try{const At=JSON.parse(Tt);if(JSON.stringify(At)!==JSON.stringify(I.current)){console.log("Connections changed, updating UI:",At),F(At);const Rt={};At.forEach(Ht=>{Rt[Ht.id]=Ht.url}),Q(Rt)}}catch(At){console.error("Failed to parse saved connections:",At)}else I.current.length>0&&(console.log("Connections cleared, updating UI"),F([]),Q({}))};at();const pt=setInterval(at,1e3);return()=>clearInterval(pt)},[]);const Qe=async()=>{try{const at=localStorage.getItem(`window_${Oe}_boxes`),pt=localStorage.getItem("companion_connection_url"),Tt=localStorage.getItem(`window_${Oe}_companion_connections`),At=localStorage.getItem(`window_${Oe}_canvas_settings`),Rt=At?JSON.parse(At):{};let Ht=null;if(Rt.canvasBackgroundColorText&&Rt.canvasBackgroundColorText.startsWith("./src/assets/background_")){const ae=Rt.canvasBackgroundColorText.split("/").pop();ae&&(Ht=await Yi(ae),Ht||(Ht=localStorage.getItem(`window_${Oe}_cached_bg_${ae}`)))}const It={version:"1.0",timestamp:new Date().toISOString(),boxes:at?JSON.parse(at):[],companion_connection_url:pt||"",companion_connections:Tt?JSON.parse(Tt):[],canvas_settings:Rt,background_image_data:Ht,font_family:localStorage.getItem(Jf)||""};console.log("Config export:",{hasBackgroundImage:!!Ht,backgroundImageSize:Ht?`${(Ht.length/1024/1024).toFixed(2)}MB`:"none"});const Qt=JSON.stringify(It,null,2),ie=`companion-dashboard-${new Date().toISOString().split("T")[0]}.json`;if(ao.isNativePlatform())try{const ae=await CT.writeFile({path:ie,data:Qt,directory:Od.Documents,encoding:Rd.UTF8});console.log("File saved to:",ae.uri),await ET.share({title:"Export Companion Dashboard Config",text:"Save your dashboard configuration",url:ae.uri,dialogTitle:"Save Configuration File"}),console.log("Config exported successfully")}catch(ae){console.error("Failed to export config:",ae)}else{const ae=new Blob([Qt],{type:"application/json"}),Ye=URL.createObjectURL(ae),gr=document.createElement("a");gr.href=Ye,gr.download=ie,document.body.appendChild(gr),gr.click(),document.body.removeChild(gr),URL.revokeObjectURL(Ye),console.log("Config downloaded successfully")}}catch(at){console.error("Failed to download config:",at),alert("Failed to download configuration")}},be=()=>{var at;(at=Z.current)==null||at.click()},pr=at=>{var At;const pt=(At=at.target.files)==null?void 0:At[0];if(!pt)return;const Tt=new FileReader;Tt.onload=Rt=>{var Ht;try{const It=(Ht=Rt.target)==null?void 0:Ht.result,Qt=JSON.parse(It);if(!Qt.boxes||!Array.isArray(Qt.boxes))throw new Error("Invalid config format: missing or invalid boxes array");vt(Qt),ht(!0)}catch(It){console.error("Failed to restore config:",It),alert("Failed to restore configuration. Please check the file format.")}},Tt.readAsText(pt),at.target.value=""};ft.useEffect(()=>{const at=localStorage.getItem(Qf);at?(N(at),at!==a&&n(at)):N(a);const pt=localStorage.getItem(Ul);if(pt)try{const Tt=JSON.parse(pt);F(Tt);const At={};Tt.forEach(Rt=>{At[Rt.id]=Rt.url}),Q(At)}catch(Tt){console.error("Failed to parse cached connections:",Tt)}},[a,n]),ft.useEffect(()=>{const at=async()=>{if(!a){j(null);return}try{const Tt=await fetch(`${a}/api/variable/internal/time_unix/value`);if(!Tt.ok)throw new Error("Non-200 response");const At=await Tt.text(),Rt=parseInt(At);if(!isNaN(Rt))j(!0);else throw new Error("Invalid response")}catch{j(!1)}};at();const pt=setInterval(at,5e3);return()=>clearInterval(pt)},[a]),ft.useEffect(()=>{const at=async()=>{const pt={};for(const Tt of H){if(!Tt.url){pt[Tt.id]=null;continue}try{const At=await fetch(`${Tt.url}/api/variable/internal/time_unix/value`);if(!At.ok)throw new Error("Non-200 response");const Rt=await At.text(),Ht=parseInt(Rt);if(!isNaN(Ht))pt[Tt.id]=!0;else throw new Error("Invalid response")}catch{pt[Tt.id]=!1}}G(pt)};if(H.length>0){at();const pt=setInterval(at,5e3);return()=>clearInterval(pt)}},[H]),ft.useEffect(()=>{const at=At=>{const Rt=At.touches[0],Ht=Rt.clientX,It=Rt.clientY;Ht<=30&&(nt(Ht),ct(It),L(!0))},pt=At=>{if(!bt||q===null||lt===null)return;const Rt=At.touches[0],Ht=Rt.clientX,It=Rt.clientY,Qt=Ht-q,ie=Math.abs(It-lt);Qt>50&&ie<100&&(dt(!0),L(!1),nt(null),ct(null)),(ie>100||Qt<-20)&&(L(!1),nt(null),ct(null))},Tt=()=>{L(!1),nt(null),ct(null)};return document.addEventListener("touchstart",at,{passive:!0}),document.addEventListener("touchmove",pt,{passive:!0}),document.addEventListener("touchend",Tt,{passive:!0}),()=>{document.removeEventListener("touchstart",at),document.removeEventListener("touchmove",pt),document.removeEventListener("touchend",Tt)}},[bt,q,lt]),ft.useEffect(()=>{const at=pt=>{B.current&&!B.current.contains(pt.target)&&dt(!1)};return J&&document.addEventListener("click",at),()=>{document.removeEventListener("click",at)}},[J]);const[je,Hn]=ft.useState(!0),wr=ft.useRef(null);ft.useEffect(()=>{const at=()=>{Hn(!0),wr.current&&clearTimeout(wr.current),wr.current=window.setTimeout(()=>{Hn(!1)},2e3)};return window.addEventListener("mousemove",at),()=>{window.removeEventListener("mousemove",at),wr.current&&clearTimeout(wr.current)}},[]);const un=()=>{try{const at=new URL(_.trim()),pt=`${at.protocol}//${at.host}`;localStorage.setItem(Qf,pt),n(pt)}catch(at){console.error("Invalid URL:",at),j(!1)}},Da=at=>{const pt=at.target.value;N(pt),pt.trim()&&localStorage.setItem(Qf,pt)},la=()=>{const at={id:Ea(),url:"",label:`Connection [${H.length+1}]`},pt=[...H,at];F(pt),Q(Tt=>({...Tt,[at.id]:""})),localStorage.setItem(Ul,JSON.stringify(pt)),i(pt)},hr=(at,pt)=>{pt==null||pt.stopPropagation();const Tt=H.filter(At=>At.id!==at);F(Tt),Q(At=>{const Rt={...At};return delete Rt[at],Rt}),G(At=>{const Rt={...At};return delete Rt[at],Rt}),localStorage.setItem(Ul,JSON.stringify(Tt)),i(Tt)},Oa=(at,pt)=>{Q(At=>({...At,[at]:pt}));const Tt=H.map(At=>At.id===at?{...At,url:pt}:At);F(Tt),localStorage.setItem(Ul,JSON.stringify(Tt)),i(Tt)},oa=at=>{const pt=X[at]||"";try{const Tt=new URL(pt.trim()),At=`${Tt.protocol}//${Tt.host}`,Rt=H.map(Ht=>Ht.id===at?{...Ht,url:At}:Ht);F(Rt),Q(Ht=>({...Ht,[at]:At})),localStorage.setItem(Ul,JSON.stringify(Rt)),i(Rt)}catch(Tt){console.error("Invalid URL:",Tt),G(At=>({...At,[at]:!1}))}},Un=()=>{dt(at=>!at),D==null||D()};ft.useImperativeHandle(O,()=>({toggle:Un}));const Ra=()=>{const at=p||[],pt={id:Ea(),variable:"",value:"",color:"#ffffff"};y==null||y([...at,pt])},re=(at,pt)=>{pt==null||pt.stopPropagation();const Tt=p||[];y==null||y(Tt.filter(At=>At.id!==at))},xe=(at,pt,Tt)=>{const Rt=(p||[]).map(Ht=>Ht.id===at?{...Ht,[pt]:Tt}:Ht);y==null||y(Rt)},Fr=()=>{var at;(at=V.current)==null||at.click()},kn=(at,pt=1920,Tt=1080,At=.9)=>new Promise((Rt,Ht)=>{const It=document.createElement("canvas"),Qt=It.getContext("2d"),ie=new Image;ie.onload=()=>{let{width:ae,height:Ye}=ie;ae>Ye?ae>pt&&(Ye=Ye*pt/ae,ae=pt):Ye>Tt&&(ae=ae*Tt/Ye,Ye=Tt),It.width=ae,It.height=Ye,Qt==null||Qt.drawImage(ie,0,0,ae,Ye);const we=at.type==="image/png"?It.toDataURL("image/png"):It.toDataURL("image/jpeg",At);console.log(`Compressed image with quality: ${At}, estimated size: ${(we.length*.75/1024/1024).toFixed(2)}MB`),Rt(we)},ie.onerror=()=>Ht(new Error("Failed to load image")),ie.src=URL.createObjectURL(at)}),Xn=async at=>{var Tt;const pt=(Tt=at.target.files)==null?void 0:Tt[0];if(pt){if(!pt.type.startsWith("image/")){alert("Please select an image file.");return}try{console.log(`Original file size: ${(pt.size/1024/1024).toFixed(2)}MB`);let At=0;for(let ie in localStorage)localStorage.hasOwnProperty(ie)&&(At+=localStorage[ie].length);console.log(`Current localStorage usage: ${(At/1024/1024).toFixed(2)}MB`);const Rt=await kn(pt),It=`background_${Date.now()}.jpg`,Qt=f||"";if(Qt.startsWith("./src/assets/background_")&&Qt.includes(".")){const ie=Qt.split("/").pop();ie&&localStorage.removeItem(`window_${Oe}_cached_bg_${ie}`)}g==null||g(`./src/assets/${It}`);try{await qn(It,Rt),console.log("Background image stored in IndexedDB:",It)}catch(ie){console.error("IndexedDB storage failed, falling back to localStorage:",ie);try{localStorage.setItem(`window_${Oe}_cached_bg_${It}`,Rt),console.log("Background image stored in localStorage (fallback)")}catch(ae){throw ae instanceof DOMException&&ae.name==="QuotaExceededError"?new Error(`Storage quota exceeded. Current localStorage usage: ${(At/1024/1024).toFixed(2)}MB. Please clear some data or use a smaller image.`):ae}}}catch(At){console.error("Failed to cache background image:",At),alert("Failed to set background image.")}at.target.value=""}},Kr=()=>new Promise((at,pt)=>{const Tt=indexedDB.open("CompanionDashboardImages",3);Tt.onerror=()=>pt(Tt.error),Tt.onsuccess=()=>at(Tt.result),Tt.onupgradeneeded=At=>{const Rt=At.target.result;Rt.objectStoreNames.contains("images")||Rt.createObjectStore("images",{keyPath:"id"})}}),qn=async(at,pt)=>{try{const Rt=(await Kr()).transaction(["images"],"readwrite").objectStore("images");return new Promise((Ht,It)=>{const Qt=Rt.put({id:at,data:pt});Qt.onerror=()=>It(Qt.error),Qt.onsuccess=()=>{console.log("Successfully stored image in IndexedDB"),Ht()}})}catch(Tt){throw console.error("Error in storeImageInDB:",Tt),Tt}},Yi=async at=>{try{const At=(await Kr()).transaction(["images"],"readonly").objectStore("images");return new Promise((Rt,Ht)=>{const It=At.get(at);It.onerror=()=>Ht(It.error),It.onsuccess=()=>{const Qt=It.result;Rt(Qt?Qt.data:null)}})}catch(pt){return console.error("Error getting image from IndexedDB:",pt),null}},vo=async at=>{try{const At=(await Kr()).transaction(["images"],"readwrite").objectStore("images");return new Promise((Rt,Ht)=>{const It=At.delete(at);It.onerror=()=>Ht(It.error),It.onsuccess=()=>Rt()})}catch(pt){console.error("Error deleting image from IndexedDB:",pt)}},hu=async()=>{const at=f||"";if(at.startsWith("./src/assets/background_")){g==null||g("");const pt=at.split("/").pop();pt&&(localStorage.removeItem(`window_${Oe}_cached_bg_${pt}`),await vo(pt),console.log("Cleared cached background image:",pt))}},Wr=()=>{if(!gt)return;const at=localStorage.getItem(`window_${Oe}_boxes`),pt=at?JSON.parse(at):[],Tt=gt.boxes.map(Rt=>({...Rt,id:Ea(),frame:{...Rt.frame,translate:[Rt.frame.translate[0]+20,Rt.frame.translate[1]+20]}})),At=[...pt,...Tt];localStorage.setItem(`window_${Oe}_boxes`,JSON.stringify(At)),o(At,a,null),console.log("Boxes added successfully with new UUIDs"),ht(!1),vt(null)},Ue=async()=>{var pt,Tt;if(!gt)return;if(window.confirm("Are you sure you want to replace the entire configuration? This cannot be undone.")){console.log("Replacing configuration with:",{connectionUrl:gt.companion_connection_url,connections:gt.companion_connections,boxCount:(pt=gt.boxes)==null?void 0:pt.length}),localStorage.removeItem(`window_${Oe}_boxes`),localStorage.removeItem("companion_connection_url"),localStorage.removeItem(`window_${Oe}_companion_connections`),localStorage.removeItem(`window_${Oe}_canvas_settings`),localStorage.setItem(`window_${Oe}_boxes`,JSON.stringify(gt.boxes));const At=gt.companion_connection_url||"";if(localStorage.setItem("companion_connection_url",At),console.log("Set companion_connection_url to:",At),localStorage.setItem(`window_${Oe}_companion_connections`,JSON.stringify(gt.companion_connections||[])),gt.canvas_settings&&localStorage.setItem(`window_${Oe}_canvas_settings`,JSON.stringify(gt.canvas_settings)),gt.font_family&&(localStorage.setItem(Jf,gt.font_family),E==null||E(gt.font_family)),gt.background_image_data&&((Tt=gt.canvas_settings)!=null&&Tt.canvasBackgroundColorText)){const Qt=gt.canvas_settings.canvasBackgroundColorText;if(Qt.startsWith("./src/assets/background_")){const ie=Qt.split("/").pop();if(ie)try{await qn(ie,gt.background_image_data),console.log("Background image restored to IndexedDB")}catch{localStorage.setItem(`window_${Oe}_cached_bg_${ie}`,gt.background_image_data),console.log("Background image restored to localStorage (fallback)")}}}const Rt=gt.companion_connection_url||"";N(Rt),console.log("Set local input URL to:",Rt);const Ht=gt.companion_connections||[];F(Ht);const It={};Ht.forEach(Qt=>{It[Qt.id]=Qt.url}),Q(It),i(Ht),console.log("Calling onConfigRestore with URL:",Rt),o(gt.boxes,Rt,gt.canvas_settings),console.log("Full configuration replaced successfully")}ht(!1),vt(null)};return A.jsxs("div",{ref:B,children:[A.jsxs("div",{id:"menu-icon",className:"menu-icon",style:{opacity:je?1:0,transition:"opacity 0.5s ease"},onClick:Un,children:[A.jsx(HE,{style:{display:J?"none":"inline"}}),A.jsx(GE,{style:{display:J?"inline":"none"}})]}),A.jsx("div",{className:"lock-icon",style:{opacity:je?1:0,transition:"opacity 0.5s ease",cursor:"pointer"},onClick:at=>{at.stopPropagation(),M==null||M(!w)},children:w?A.jsx(kE,{}):A.jsx(UE,{})}),A.jsx("div",{className:J?"menu menu-open":"menu",children:A.jsxs("div",{className:"menu-content",children:[A.jsxs("div",{className:"logo-box",children:[A.jsx("img",{src:iy,style:{height:"100px"},alt:"Dashboard"}),A.jsxs("span",{className:"wordmark",children:["COMPANION",A.jsx("b",{style:{fontSize:"1.3em"},children:"DASHBOARD"})]})]}),A.jsx("span",{className:"section-label",children:"Companion Connection"}),A.jsx("div",{className:"menu-section",children:A.jsxs("div",{className:"canvas-refresh-rate-controls",children:[A.jsx("label",{htmlFor:"canvas-refresh-rate",className:"connection-label",children:"Variable Refresh Rate (ms)"}),A.jsx("input",{id:"canvas-refresh-rate",type:"number",min:"50",max:"10000",value:x||100,onChange:at=>S==null?void 0:S(parseInt(at.target.value)||100),className:"canvas-color-text",style:{marginLeft:"15px",textAlign:"center"}})]})}),A.jsxs("div",{className:"menu-section-column",children:[A.jsxs("div",{className:"connection-item",children:[A.jsx("span",{className:"connection-label",children:"Default Connection"}),A.jsxs("div",{className:"connection-controls",children:[A.jsx("input",{type:"text",value:_,onChange:Da,placeholder:"http://127.0.0.1:8888/",style:{border:"1px solid",borderColor:z===null?"gray":z===!0?"green":"red"}}),A.jsx("button",{onClick:un,children:"SET"})]})]}),H.map((at,pt)=>A.jsxs("div",{className:"connection-item",children:[A.jsxs("span",{className:"connection-label",children:["Connection [",pt+1,"]"]}),A.jsxs("div",{className:"connection-controls",children:[A.jsx("input",{type:"text",value:X[at.id]||"",onChange:Tt=>Oa(at.id,Tt.target.value),placeholder:"http://127.0.0.1:8888/",style:{border:"1px solid",borderColor:U[at.id]===null?"gray":U[at.id]===!0?"green":"red"}}),A.jsx("button",{onClick:()=>oa(at.id),children:"SET"}),A.jsx("button",{onClick:Tt=>hr(at.id,Tt),className:"delete-connection-button",children:A.jsx(XE,{})})]})]},at.id)),A.jsx("button",{className:"add-connection-button",onClick:la,children:A.jsx(ru,{})})]}),A.jsx("span",{className:"section-label",children:"Font"}),A.jsx("div",{className:"menu-section font-section",children:A.jsx(oT,{value:C||"Work Sans",onChange:at=>{localStorage.setItem(Jf,at),E==null||E(at)},className:"settings-font-picker"})}),A.jsx("span",{className:"section-label",children:"Canvas"}),A.jsxs("div",{className:"menu-section canvas-section",children:[A.jsxs("div",{className:"canvas-color-container",children:[A.jsx("span",{className:"canvas-color-label",children:"Default Background"}),A.jsxs("div",{className:"canvas-color-input-group",children:[A.jsx(ea,{value:c||"#000000",onChange:at=>v==null?void 0:v(at),className:"canvas-color-picker"}),A.jsx("input",{type:"text",value:f||"",onChange:at=>g==null?void 0:g(at.target.value),placeholder:"Variable, HEX, or Image URL",className:"canvas-color-text"})]}),A.jsxs("div",{className:"canvas-image-controls",children:[A.jsx("button",{type:"button",onClick:Fr,className:"canvas-browse-button",children:"Browse Image"}),f&&f.startsWith("./src/assets/background_")&&A.jsx("button",{type:"button",onClick:hu,className:"canvas-clear-button",children:"Clear Image"})]}),A.jsxs("div",{className:"canvas-opacity-controls",children:[A.jsx("label",{htmlFor:"canvas-background-opacity",children:"Background Image Opacity (%)"}),A.jsx("input",{id:"canvas-background-opacity",type:"number",min:"0",max:"100",value:m||100,onChange:at=>b==null?void 0:b(parseInt(at.target.value)||100),className:"canvas-opacity-input"})]})]}),A.jsxs("div",{className:"canvas-variable-color-container",children:[A.jsx("span",{className:"canvas-color-label",children:"Variable Background Color"}),A.jsx("div",{className:"canvas-variable-color-section",children:(p||[]).map(at=>A.jsxs("div",{className:"canvas-variable-color-row",children:[A.jsx("input",{type:"text",value:at.variable,onChange:pt=>xe(at.id,"variable",pt.target.value),placeholder:"Variable",className:"canvas-variable-input"}),A.jsx("input",{type:"text",value:at.value,onChange:pt=>xe(at.id,"value",pt.target.value),placeholder:"Value",className:"canvas-value-input"}),A.jsx(ea,{value:at.color,onChange:pt=>xe(at.id,"color",pt),className:"canvas-variable-color-picker"}),A.jsx("button",{type:"button",className:"canvas-remove-variable-color-button",onClick:pt=>re(at.id,pt),children:A.jsx(Dd,{})})]},at.id))}),A.jsx("button",{type:"button",className:"canvas-add-variable-color-button",onClick:Ra,children:A.jsx(ru,{})})]})]}),A.jsx("span",{className:"section-label",children:"Boxes"}),A.jsxs("div",{className:"menu-section",children:[A.jsx("button",{onClick:e,children:"NEW BOX"}),A.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to clear all of the boxes?")&&u()},className:"clear-boxes",children:"CLEAR ALL"})]}),ut&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"section-label",children:"WEB SERVER"}),A.jsx("div",{className:"menu-section",children:A.jsxs("div",{className:"web-server-controls",children:[A.jsxs("div",{className:"web-server-port-container",children:[A.jsx("label",{htmlFor:"web-server-port",children:"Port:"}),A.jsx("input",{id:"web-server-port",type:"number",min:"1024",max:"65535",value:Ct,onChange:at=>{const pt=parseInt(at.target.value,10);isNaN(pt)||Mt(pt)},disabled:Vt,style:{width:"80px",marginLeft:"10px"}})]}),A.jsx("div",{className:"web-server-actions",children:Vt?A.jsx("button",{onClick:me,className:"web-server-stop",children:"STOP SERVER"}):A.jsx("button",{onClick:$t,className:"web-server-start",children:"START SERVER"})}),A.jsxs("div",{className:"web-server-status",children:["Status: ",Ot]}),Vt&&Zt.length>0&&A.jsx("div",{className:"web-server-endpoints",children:A.jsxs("div",{className:"endpoints-list",children:[Zt.filter(at=>at.type==="read-only").length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{style:{fontSize:"0.85em",opacity:.5,marginBottom:"4px",marginTop:"8px"},children:"Read-Only:"}),Zt.filter(at=>at.type==="read-only").map((at,pt)=>A.jsx("div",{className:"endpoint-item",children:A.jsx("code",{children:at.url})},`ro-${pt}`))]}),Zt.filter(at=>at.type==="full-app").length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{style:{fontSize:"0.85em",opacity:.5,marginBottom:"4px",marginTop:"12px"},children:"Full App:"}),Zt.filter(at=>at.type==="full-app").map((at,pt)=>A.jsx("div",{className:"endpoint-item",children:A.jsx("code",{children:at.url})},`fa-${pt}`))]})]})})]})})]}),A.jsx("span",{className:"section-label",children:"CONFIGURATION"}),A.jsxs("div",{className:"menu-section",children:[A.jsx("button",{onClick:Qe,children:"SAVE"}),A.jsx("button",{onClick:be,children:"LOAD"})]}),A.jsx("input",{ref:Z,type:"file",accept:".json",onChange:pr,style:{display:"none"}}),A.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:Xn,style:{display:"none"}}),A.jsxs("span",{className:"footer",children:["v",AT.version,A.jsx("br",{}),"Created by Tom Hillmeyer"]})]})}),Y&&A.jsx("div",{className:"config-dialog-overlay",children:A.jsxs("div",{className:"config-dialog",children:[A.jsx("h3",{children:"Load Configuration"}),A.jsx("p",{children:"How would you like to load this configuration?"}),A.jsxs("div",{className:"config-dialog-buttons",children:[A.jsxs("button",{className:"config-dialog-button add-boxes",onClick:Wr,children:["Add Boxes Only",A.jsx("span",{className:"button-description",children:"Keep current settings"})]}),A.jsxs("button",{className:"config-dialog-button replace-all",onClick:Ue,children:["Replace Everything",A.jsx("span",{className:"button-description",children:"Replace all settings"})]})]}),A.jsx("button",{className:"config-dialog-cancel",onClick:()=>{ht(!1),vt(null)},children:"Cancel"})]})})]})}),um=[{id:"1e9480a6-f344-484e-a7d3-543d357cff23",frame:{translate:[30,30],width:690,height:150},zIndex:1,backgroundColor:"#019cff",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"**Welcome to<br>Companion Dashboard!**",leftLabel:"",leftLabelSize:50,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"$(internal:time_hms_12)",rightLabel:"",rightLabelSize:20,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!1,headerLabelVisible:!1},{id:"b67782e9-3e55-4a26-bdff-ec97e03a4d85",frame:{translate:[30,195],width:690,height:105},zIndex:1,backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"Double click boxes to edit them.",leftLabel:"",leftLabelSize:30,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"Click the arrow in the bottom left of the page to edit settings",rightLabel:"",rightLabelSize:15,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!0,headerLabelVisible:!1},{id:"9369f827-4d5f-440a-880f-2f9420464d3d",frame:{translate:[30,315],width:690,height:105},zIndex:1,backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"",headerLabel:"NO CONNECTION",headerLabelSize:30,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],leftLabelSource:"Learn more about the functionality&nbsp[here!](https://github.com/tomhillmeyer/companion-dashboard/blob/main/README.md)",leftLabel:"",leftLabelSize:30,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,rightLabelSource:"Click the arrow in the bottom left of the page to edit settings",rightLabel:"",rightLabelSize:15,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!1,headerLabelVisible:!1}],MT=()=>{const[e,a]=ft.useState(!1),[n,i]=ft.useState(null),o=()=>{a(!0),n&&clearTimeout(n);const u=setTimeout(()=>a(!1),2e3);i(u)};return ft.useEffect(()=>{const u=()=>o();return window.addEventListener("mousemove",u),()=>window.removeEventListener("mousemove",u)},[]),A.jsx("div",{className:`title-bar ${e?"visible":""}`})},DT=()=>{var e;return typeof window<"u"&&((e=window.electronAPI)!=null&&e.windowId)?window.electronAPI.windowId:"1"},fo=DT(),ks=`window_${fo}_boxes`,tn=`window_${fo}_canvas_settings`,$f=`window_${fo}_companion_connections`,kl="global_font_family",cm=`window_${fo}_boxes_locked`;function OT(){const[e,a]=ft.useState(()=>{const tt=localStorage.getItem(ks);if(tt)try{return JSON.parse(tt).map(ut=>({...ut,anchorPoint:ut.anchorPoint??"top-left",leftRightRatio:ut.leftRightRatio??50,leftVisible:ut.leftVisible??!0,rightVisible:ut.rightVisible??!0,opacity:ut.opacity??100,opacitySource:ut.opacitySource??"",opacityVariableValues:ut.opacityVariableValues??[],overlayColor:ut.overlayColor??"#00000000",overlayColorText:ut.overlayColorText??"",overlayVariableColors:ut.overlayVariableColors??[],overlayDirection:ut.overlayDirection??"bottom",overlaySize:ut.overlaySize??100,overlaySizeSource:ut.overlaySizeSource??"",overlaySizeVariableValues:ut.overlaySizeVariableValues??[]}))}catch(rt){return console.error("Failed to parse saved boxes:",rt),um}else return um}),n=(tt,rt,ut)=>{console.log("handleConfigRestore called with URL:",rt),console.log("Current companionBaseUrl before update:",m),a(tt),b(rt),console.log("Called setCompanionBaseUrl with:",rt),c(null),ut&&(ut.canvasBackgroundColor!==void 0&&E(ut.canvasBackgroundColor),ut.canvasBackgroundColorText!==void 0&&M(ut.canvasBackgroundColorText),ut.canvasBackgroundVariableColors!==void 0&&O(ut.canvasBackgroundVariableColors),ut.canvasBackgroundImageOpacity!==void 0&&N(ut.canvasBackgroundImageOpacity),ut.refreshRateMs!==void 0&&j(ut.refreshRateMs))},i=()=>{a([]),c(null)},o=tt=>{const rt={...tt,id:Ea(),frame:{...tt.frame,translate:[tt.frame.translate[0]+20,tt.frame.translate[1]+20]},leftRightRatio:tt.leftRightRatio??50};a(ut=>[...ut,rt])},[u,c]=ft.useState(null),[f,p]=ft.useState(!1),[v,g]=ft.useState(!0),y=ft.useRef(null);ft.useEffect(()=>{window.isDraggingBox=f,console.log("Dragging state changed:",f)},[f]);const[m,b]=ft.useState(()=>localStorage.getItem("companion_connection_url")||""),[x,S]=ft.useState([]),[C,E]=ft.useState(()=>{const tt=localStorage.getItem(tn);if(tt)try{return JSON.parse(tt).canvasBackgroundColor||"#000000"}catch(rt){return console.error("Failed to parse canvas settings:",rt),"#000000"}return"#000000"}),[w,M]=ft.useState(()=>{const tt=localStorage.getItem(tn);if(tt)try{return JSON.parse(tt).canvasBackgroundColorText||""}catch{return""}return""}),[D,O]=ft.useState(()=>{const tt=localStorage.getItem(tn);if(tt)try{return JSON.parse(tt).canvasBackgroundVariableColors||[]}catch{return[]}return[]}),[_,N]=ft.useState(()=>{const tt=localStorage.getItem(tn);if(tt)try{return JSON.parse(tt).canvasBackgroundImageOpacity||100}catch{return 100}return 100}),[z,j]=ft.useState(()=>{const tt=localStorage.getItem(tn);if(tt)try{return JSON.parse(tt).refreshRateMs||100}catch{return 100}return 100}),[H,F]=ft.useState(()=>localStorage.getItem(kl)||"Work Sans"),[I,X]=ft.useState(()=>localStorage.getItem(cm)==="true");ft.useEffect(()=>{const tt=localStorage.getItem(kl)||"Work Sans";document.documentElement.style.setProperty("--box-font-family",`"${tt}", system-ui, Avenir, Helvetica, Arial, sans-serif`)},[]);const Q=ft.useRef(null);ft.useEffect(()=>{localStorage.setItem(ks,JSON.stringify(e))},[e]),ft.useEffect(()=>{const tt={canvasBackgroundColor:C,canvasBackgroundColorText:w,canvasBackgroundVariableColors:D,canvasBackgroundImageOpacity:_,refreshRateMs:z};localStorage.setItem(tn,JSON.stringify(tt))},[C,w,D,_,z]),ft.useEffect(()=>{localStorage.setItem("companion_connection_url",m)},[m]),ft.useEffect(()=>{localStorage.setItem(kl,H),document.documentElement.style.setProperty("--box-font-family",`"${H}", system-ui, Avenir, Helvetica, Arial, sans-serif`)},[H]),ft.useEffect(()=>{localStorage.setItem(cm,I.toString())},[I]),ft.useEffect(()=>{const tt=localStorage.getItem($f);if(tt)try{const rt=JSON.parse(tt);S(rt)}catch(rt){console.error("Failed to parse saved connections:",rt)}},[]);const U=()=>{const tt={};return w&&(tt[w]=w),D&&Array.isArray(D)&&D.forEach(rt=>{rt.variable&&(tt[rt.variable]=rt.variable)}),tt},G=()=>{const tt={};return Object.assign(tt,U()),e.forEach(rt=>{rt.headerLabelSource&&(tt[rt.headerLabelSource]=rt.headerLabelSource),rt.leftLabelSource&&(tt[rt.leftLabelSource]=rt.leftLabelSource),rt.rightLabelSource&&(tt[rt.rightLabelSource]=rt.rightLabelSource),rt.backgroundColorText&&(tt[rt.backgroundColorText]=rt.backgroundColorText),rt.borderColorText&&(tt[rt.borderColorText]=rt.borderColorText),rt.headerColorText&&(tt[rt.headerColorText]=rt.headerColorText),rt.headerLabelColorText&&(tt[rt.headerLabelColorText]=rt.headerLabelColorText),rt.leftLabelColorText&&(tt[rt.leftLabelColorText]=rt.leftLabelColorText),rt.rightLabelColorText&&(tt[rt.rightLabelColorText]=rt.rightLabelColorText),[rt.backgroundVariableColors,rt.borderVariableColors,rt.headerVariableColors,rt.headerLabelVariableColors,rt.leftLabelVariableColors,rt.rightLabelVariableColors].forEach(ut=>{ut&&Array.isArray(ut)&&ut.forEach(Ct=>{Ct.variable&&(tt[Ct.variable]=Ct.variable)})})}),tt},{values:Z,htmlValues:J}=ry(m,G(),x,z,f);ft.useEffect(()=>{(async()=>{var rt;try{const ut={canvasBackgroundColor:C,canvasBackgroundColorText:w,canvasBackgroundVariableColors:D,canvasBackgroundImageOpacity:_,refreshRateMs:z},Ct=new Set;if(w&&w.startsWith("./src/assets/")){const Bt=w.replace("./src/assets/","");Ct.add(Bt)}e.forEach(Bt=>{if(Bt.backgroundImage&&Bt.backgroundImage.startsWith("./src/assets/")){const Ot=Bt.backgroundImage.replace("./src/assets/","");Ct.add(Ot)}if(Bt.backgroundColorText&&Bt.backgroundColorText.startsWith("./src/assets/")){const Ot=Bt.backgroundColorText.replace("./src/assets/","");Ct.add(Ot)}});const Mt={};for(const Bt of Ct){const Ot=await ct(Bt);Ot&&(Mt[Bt]=Ot)}const Vt={boxes:e,canvasSettings:ut,connections:x,companionBaseUrl:m,variableValues:Z,htmlVariableValues:J,imageData:Mt,fontFamily:H};await((rt=window.electronAPI)==null?void 0:rt.webServer.updateState(Vt))}catch(ut){console.debug("Web server update failed:",ut)}})()},[e,C,w,D,_,z,x,m,Z,J,H]),ft.useEffect(()=>{const tt=typeof window<"u"&&window.electronAPI,rt=ao.isNativePlatform();if(console.log("Sync effect running. isElectron:",tt,"isCapacitor:",rt),tt&&(console.log("Setting up Electron listener for browser state changes"),window.electronAPI.onSyncStateFromBrowser(ut=>{if(console.log(" Syncing state from browser client to Electron",ut),ut.boxes&&(a(ut.boxes),localStorage.setItem(ks,JSON.stringify(ut.boxes))),ut.canvasSettings){const Ct=ut.canvasSettings;Ct.canvasBackgroundColor!==void 0&&E(Ct.canvasBackgroundColor),Ct.canvasBackgroundColorText!==void 0&&M(Ct.canvasBackgroundColorText),Ct.canvasBackgroundVariableColors!==void 0&&O(Ct.canvasBackgroundVariableColors),Ct.canvasBackgroundImageOpacity!==void 0&&N(Ct.canvasBackgroundImageOpacity),Ct.refreshRateMs!==void 0&&j(Ct.refreshRateMs),localStorage.setItem(tn,JSON.stringify(Ct))}ut.connections&&(S(ut.connections),localStorage.setItem($f,JSON.stringify(ut.connections))),ut.companionBaseUrl!==void 0&&(b(ut.companionBaseUrl),localStorage.setItem("companion_connection_url",ut.companionBaseUrl)),ut.fontFamily!==void 0&&(F(ut.fontFamily),localStorage.setItem(kl,ut.fontFamily),document.documentElement.style.setProperty("--box-font-family",`"${ut.fontFamily}", system-ui, Avenir, Helvetica, Arial, sans-serif`))})),!tt&&!rt){console.log("Running in browser, connecting to WebSocket...");const ut=()=>{const Mt=window.location.protocol==="https:"?"wss:":"ws:",Vt=window.location.pathname.startsWith("/control")?"/control":"/",Bt=`${Mt}//${window.location.host}${Vt}`;console.log("WebSocket URL:",Bt);const Ot=new WebSocket(Bt);return Ot.onopen=()=>{console.log(" Connected to full app server for bidirectional sync"),g(!0),y.current&&(clearInterval(y.current),y.current=null)},Ot.onmessage=Ut=>{try{const Zt=JSON.parse(Ut.data);if(console.log(" Received WebSocket message:",Zt.type),Zt.type==="stateUpdate"&&Zt.data){const Yt=Zt.data;if(window.isDraggingBox){console.log(" Dragging in progress, ignoring incoming update");return}if(console.log(" Received state update from Electron",Yt),window.isReceivingUpdate=!0,Yt.boxes&&(console.log("Updating boxes:",Yt.boxes.length),a(Yt.boxes),localStorage.setItem(ks,JSON.stringify(Yt.boxes))),Yt.canvasSettings){const $t=Yt.canvasSettings;console.log("Updating canvas settings"),$t.canvasBackgroundColor!==void 0&&E($t.canvasBackgroundColor),$t.canvasBackgroundColorText!==void 0&&M($t.canvasBackgroundColorText),$t.canvasBackgroundVariableColors!==void 0&&O($t.canvasBackgroundVariableColors),$t.canvasBackgroundImageOpacity!==void 0&&N($t.canvasBackgroundImageOpacity),$t.refreshRateMs!==void 0&&j($t.refreshRateMs),localStorage.setItem(tn,JSON.stringify($t))}Yt.connections&&(console.log("Updating connections"),S(Yt.connections),localStorage.setItem($f,JSON.stringify(Yt.connections))),Yt.companionBaseUrl!==void 0&&(console.log("Updating companion base URL:",Yt.companionBaseUrl),b(Yt.companionBaseUrl),localStorage.setItem("companion_connection_url",Yt.companionBaseUrl)),Yt.fontFamily!==void 0&&(console.log("Updating font family:",Yt.fontFamily),F(Yt.fontFamily),localStorage.setItem(kl,Yt.fontFamily),document.documentElement.style.setProperty("--box-font-family",`"${Yt.fontFamily}", system-ui, Avenir, Helvetica, Arial, sans-serif`))}}catch(Zt){console.error(" Error processing WebSocket message:",Zt)}},Ot.onerror=Ut=>{console.error(" WebSocket error:",Ut),g(!1)},Ot.onclose=()=>{console.log(" Disconnected from full app server"),g(!1),y.current||(y.current=setInterval(()=>{console.log("Attempting to reconnect..."),ut()},3e3))},window.fullAppServerWS=Ot,Ot},Ct=ut();return()=>{console.log("Cleaning up WebSocket connection"),y.current&&(clearInterval(y.current),y.current=null),Ct.readyState===WebSocket.OPEN&&Ct.close()}}},[]),ft.useEffect(()=>{const tt=typeof window<"u"&&window.electronAPI;if(f){console.log(" Skipping send - drag in progress");return}if(window.isReceivingUpdate){console.log(" Skipping send - currently receiving update"),window.isReceivingUpdate=!1;return}if(!tt&&window.fullAppServerWS){const rt=window.fullAppServerWS;if(rt.readyState===WebSocket.OPEN){console.log(" Sending state change to Electron");const ut={boxes:e,canvasSettings:{canvasBackgroundColor:C,canvasBackgroundColorText:w,canvasBackgroundVariableColors:D,canvasBackgroundImageOpacity:_,refreshRateMs:z},connections:x,companionBaseUrl:m,fontFamily:H};rt.send(JSON.stringify({type:"stateChange",data:ut}))}else console.log(" WebSocket not ready, state:",rt.readyState)}},[e,C,w,D,_,z,x,m,H]);const dt=(tt,rt,ut)=>{if(tt&&Array.isArray(tt)){for(const Ct of tt)if(Ct&&Ct.variable&&Ct.value&&(Z[Ct.variable]||"")===Ct.value)return Ct.color}return rt&&rt.trim()?Z[rt]||rt:ut},B=dt(D,w,C),q=tt=>{if(!tt||typeof tt!="string")return!1;try{return tt.startsWith("http://")||tt.startsWith("https://")||tt.startsWith("data:image/")?!0:/\.(jpg|jpeg|png|gif|webp|svg|bmp)$/i.test(tt)}catch(rt){return console.error("Error in isImageUrl:",rt),!1}},[nt,lt]=ft.useState(null),ct=async tt=>{try{const rt=indexedDB.open("CompanionDashboardImages",3);return new Promise(ut=>{rt.onerror=()=>ut(null),rt.onsuccess=()=>{const Ct=rt.result;if(!Ct.objectStoreNames.contains("images")){ut(null);return}try{const Bt=Ct.transaction(["images"],"readonly").objectStore("images").get(tt);Bt.onerror=()=>ut(null),Bt.onsuccess=()=>{const Ot=Bt.result;ut(Ot?Ot.data:null)}}catch(Mt){console.error("IndexedDB transaction error:",Mt),ut(null)}},rt.onupgradeneeded=Ct=>{const Mt=Ct.target.result;Mt.objectStoreNames.contains("images")||Mt.createObjectStore("images",{keyPath:"id"})}})}catch(rt){return console.error("IndexedDB error:",rt),null}};ft.useEffect(()=>{(async()=>{if(B&&typeof B=="string"&&B.startsWith("./src/assets/background_")){const rt=B.split("/").pop();if(rt){let ut=await ct(rt);ut||(ut=localStorage.getItem(`window_${fo}_cached_bg_${rt}`)),lt(ut)}}else lt(null)})()},[B]);const bt=()=>{const tt=dt(D,w,C),rt=_/100;if(q(B)){let ut=B;return B&&typeof B=="string"&&B.startsWith("./src/assets/background_")&&nt&&(ut=nt),{backgroundColor:C,position:"relative","--canvas-background-image":`url("${ut}")`,"--canvas-background-opacity":rt}}return nt&&typeof nt=="string"?{backgroundColor:C,position:"relative","--canvas-background-image":`url(${nt})`,"--canvas-background-opacity":rt}:{backgroundColor:tt}},L=()=>{const tt={id:Ea(),frame:{translate:[30,60],width:600,height:105},anchorPoint:"top-left",zIndex:1,opacity:100,opacitySource:"",opacityVariableValues:[],backgroundColor:"#262626",backgroundColorText:"",backgroundVariableColors:[],overlayColor:"#00000000",overlayColorText:"",overlayVariableColors:[],overlayDirection:"left",overlaySize:100,overlaySizeSource:"",overlaySizeVariableValues:[],borderColor:"#61BAFA",borderColorText:"",borderVariableColors:[],noBorder:!0,headerColor:"#19325c",headerColorText:"",headerVariableColors:[],headerLabelSource:"Time of Day",headerLabel:"NO CONNECTION",headerLabelSize:16,headerLabelColor:"#ffffff",headerLabelColorText:"",headerLabelVariableColors:[],headerLabelVisible:!0,headerLabelAlign:"center",leftLabelSource:"Time",leftLabel:"",leftLabelSize:14,leftLabelColor:"#FFFFFF",leftLabelColorText:"",leftLabelVariableColors:[],leftVisible:!0,leftLabelAlign:"left",rightLabelSource:"$(internal:time_hms_12)",rightLabel:"",rightLabelSize:20,rightLabelColor:"#FFFFFF",rightLabelColorText:"",rightLabelVariableColors:[],rightVisible:!0,rightLabelAlign:"right",leftRightRatio:50};a(rt=>[...rt,tt])};ft.useEffect(()=>{const tt=rt=>{var ut;u&&(rt.key==="Backspace"||rt.key==="Delete")?(rt.preventDefault(),a(Ct=>Ct.filter(Mt=>Mt.id!==u)),c(null)):rt.key==="n"&&(rt.metaKey||rt.ctrlKey)?(rt.preventDefault(),L()):rt.key===","&&(rt.metaKey||rt.ctrlKey)&&(rt.preventDefault(),(ut=Q.current)==null||ut.toggle())};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[u]);const V=bt(),Y=q(B)||nt&&typeof nt=="string",ht=typeof window<"u"&&window.electronAPI,gt=typeof window<"u"&&window.location.pathname.startsWith("/control"),vt=!ht&&gt&&!v;return A.jsxs("div",{className:`canvas-container ${Y?"has-background-image":""}`,style:{minHeight:"100vh",width:"100%",...V},children:[A.jsx(MT,{}),vt&&A.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4,pointerEvents:"all",cursor:"not-allowed"},children:A.jsxs("div",{style:{backgroundColor:"#1a1a1a",border:"2px solid #f44336",borderRadius:"8px",padding:"40px",maxWidth:"500px",textAlign:"center",boxShadow:"0 4px 20px rgba(244, 67, 54, 0.3)"},children:[A.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),A.jsx("h2",{style:{color:"#f44336",margin:"0 0 16px 0",fontSize:"24px",fontWeight:"bold"},children:"Connection Lost"}),A.jsx("p",{style:{color:"#cccccc",margin:"0 0 12px 0",fontSize:"16px",lineHeight:"1.5"},children:"The connection to the server has been lost."}),A.jsx("p",{style:{color:"#999999",margin:0,fontSize:"14px",fontStyle:"italic"},children:"Attempting to reconnect..."})]})}),A.jsx(wT,{ref:Q,onNewBox:L,connectionUrl:m,onConnectionUrlChange:b,onConnectionsChange:S,onConfigRestore:n,onDeleteAllBoxes:i,canvasBackgroundColor:C,canvasBackgroundColorText:w,canvasBackgroundVariableColors:D,onCanvasBackgroundColorChange:E,onCanvasBackgroundColorTextChange:M,onCanvasBackgroundVariableColorsChange:O,canvasBackgroundImageOpacity:_,onCanvasBackgroundImageOpacityChange:N,refreshRateMs:z,onRefreshRateMsChange:j,fontFamily:H,onFontFamilyChange:F,boxesLocked:I,onBoxesLockedChange:X}),e.length===0?A.jsxs("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",backgroundColor:"rgba(0,0,0,.9)",zIndex:1},children:[A.jsx("img",{src:iy,alt:"Dashboard",style:{width:"500px",height:"auto",opacity:.2,filter:"grayscale(100%)"}}),A.jsx("div",{style:{position:"fixed",bottom:"32px",left:"120px",color:"#FFF",fontSize:"14px",fontWeight:"500",opacity:.5},children:"Open the menu to add boxes!"})]}):e.map(tt=>A.jsx($E,{boxData:tt,isSelected:u===tt.id,onSelect:()=>c(tt.id),onDeselect:()=>c(null),onBoxUpdate:rt=>{a(ut=>ut.map(Ct=>Ct.id===rt.id?rt:Ct))},onDelete:rt=>{a(ut=>ut.filter(Ct=>Ct.id!==rt)),c(null)},onDuplicate:o,companionBaseUrl:m,connections:x,refreshRateMs:z,isDragging:f,onDragStart:()=>p(!0),onDragEnd:()=>p(!1),boxesLocked:I},tt.id))]})}TS.createRoot(document.getElementById("root")).render(A.jsx(ft.StrictMode,{children:A.jsx(OT,{})}));export{Rd as E,ny as W,mT as b};
